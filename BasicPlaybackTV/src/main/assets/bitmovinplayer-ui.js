/****************************************************************************
 * Copyright (C) 2018, Bitmovin, Inc., All Rights Reserved
 *
 * This source code and its use and distribution, is subject to the terms
 * and conditions of the applicable license agreement.
 *
 * This is a modified version of the Bitmovin Player UI v2.20.0 which is optimized for a TV use-case.
 *
 ****************************************************************************/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.bitmovin||(e.bitmovin={})).playerui=t()}}(function(){return function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(t){function e(t,e){var n=t.indexOf(e);return n>-1?t.splice(n,1)[0]:null}t.remove=e}(n.ArrayUtils||(n.ArrayUtils={}))},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){this.player=t,this.listElement=e,this.bindSelectionEvent(),this.bindPlayerEvents(),this.updateAudioTracks()}return t.prototype.bindSelectionEvent=function(){var t=this;this.listElement.onItemSelected.subscribe(function(e,n){t.player.setAudio(n)})},t.prototype.bindPlayerEvents=function(){var t=this,e=function(){return t.updateAudioTracks()};this.player.addEventHandler(this.player.EVENT.ON_AUDIO_CHANGED,function(){t.selectCurrentAudioTrack()}),this.player.addEventHandler(this.player.EVENT.ON_SOURCE_UNLOADED,e),this.player.addEventHandler(this.player.EVENT.ON_READY,e),this.player.addEventHandler(this.player.EVENT.ON_PERIOD_SWITCHED,e),this.player.EVENT.ON_AUDIO_ADDED&&this.player.EVENT.ON_AUDIO_REMOVED&&(this.player.addEventHandler(this.player.EVENT.ON_AUDIO_ADDED,e),this.player.addEventHandler(this.player.EVENT.ON_AUDIO_REMOVED,e))},t.prototype.updateAudioTracks=function(){this.listElement.clearItems();for(var t=0,e=this.player.getAvailableAudio();t<e.length;t++){var n=e[t];this.listElement.addItem(n.id,n.label)}this.selectCurrentAudioTrack()},t.prototype.selectCurrentAudioTrack=function(){var t=this.player.getAudio();t&&this.listElement.selectItem(t.id)},t}();n.AudioTrackSwitchHandler=o},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(t){t.isMobile=navigator&&navigator.userAgent&&/Mobi/.test(navigator.userAgent),t.isChrome=navigator&&navigator.userAgent&&/Chrome/.test(navigator.userAgent),t.isAndroid=navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)}(n.BrowserUtils||(n.BrowserUtils={}))},{}],4:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./clickoverlay"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=null,r=!e.getConfig().advertising||!e.getConfig().advertising.hasOwnProperty("clickThroughEnabled")||e.getConfig().advertising.clickThroughEnabled;e.addEventHandler(e.EVENT.ON_AD_STARTED,function(t){i=t.clickThroughUrl,r?o.setUrl(i):o.setUrl(null)});var s=function(){o.setUrl(null)};e.addEventHandler(e.EVENT.ON_AD_FINISHED,s),e.addEventHandler(e.EVENT.ON_AD_SKIPPED,s),e.addEventHandler(e.EVENT.ON_AD_ERROR,s),this.onClick.subscribe(function(){e.pause("ui-content-click"),e.fireEvent(e.EVENT.ON_AD_CLICKED,{clickThroughUrl:i})})},e}(i.ClickOverlay);n.AdClickOverlay=r},{"./clickoverlay":16}],5:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./label"),r=t("../stringutils"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-label-ad-message",text:"This ad will end in {remainingTime} seconds."},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),s=i.text,a=function(){o.setText(r.StringUtils.replaceAdMessagePlaceholders(s,null,e))},l=function(t){s=t.adMessage||i.text,a(),e.addEventHandler(e.EVENT.ON_TIME_CHANGED,a),e.addEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,a)},c=function(){e.removeEventHandler(e.EVENT.ON_TIME_CHANGED,a),e.removeEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,a)};e.addEventHandler(e.EVENT.ON_AD_STARTED,l),e.addEventHandler(e.EVENT.ON_AD_SKIPPED,c),e.addEventHandler(e.EVENT.ON_AD_ERROR,c),e.addEventHandler(e.EVENT.ON_AD_FINISHED,c)},e}(i.Label);n.AdMessageLabel=s},{"../stringutils":80,"./label":26}],6:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./button"),r=t("../stringutils"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-button-ad-skip",skipMessage:{countdown:"Skip ad in {remainingTime}",skip:"Skip ad"}},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),s=i.skipMessage,a=null,l=function(){a.skipOffset?o.show():o.hide(),e.getCurrentTime()<a.skipOffset?o.setText(r.StringUtils.replaceAdMessagePlaceholders(s.countdown,a.skipOffset,e)):o.setText(s.skip)},c=function(t){a=t,s=a.skipMessage||i.skipMessage,l(),e.addEventHandler(e.EVENT.ON_TIME_CHANGED,l),e.addEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,l)},u=function(){e.removeEventHandler(e.EVENT.ON_TIME_CHANGED,l),e.removeEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,l)};e.addEventHandler(e.EVENT.ON_AD_STARTED,c),e.addEventHandler(e.EVENT.ON_AD_SKIPPED,u),e.addEventHandler(e.EVENT.ON_AD_ERROR,u),e.addEventHandler(e.EVENT.ON_AD_FINISHED,u),this.onClick.subscribe(function(){e.skipAd()})},e}(i.Button);n.AdSkipButton=s},{"../stringutils":80,"./button":12}],7:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-airplaytogglebutton",text:"Apple AirPlay"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;if(t.prototype.configure.call(this,e,n),!e.isAirplayAvailable)return void this.hide();this.onClick.subscribe(function(){e.isAirplayAvailable()?e.showAirplayTargetPicker():console&&console.log("AirPlay unavailable")});var i=function(){e.isAirplayAvailable()?o.show():o.hide()};e.addEventHandler(e.EVENT.ON_AIRPLAY_AVAILABLE,i),i()},e}(i.ToggleButton);n.AirPlayToggleButton=r},{"./togglebutton":63}],8:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./selectbox"),r=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=function(){if(e.getAudioQuality)o.selectItem(e.getAudioQuality().id);else{var t=e.getDownloadedAudioData();o.selectItem(t.isAuto?"auto":t.id)}},r=function(){var t=e.getAvailableAudioQualities();o.clearItems(),o.addItem("auto","auto");for(var n=0,r=t;n<r.length;n++){var s=r[n];o.addItem(s.id,s.label)}i()};this.onItemSelected.subscribe(function(t,n){e.setAudioQuality(n)}),e.addEventHandler(e.EVENT.ON_AUDIO_CHANGED,r),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,r),e.addEventHandler(e.EVENT.ON_READY,r),e.addEventHandler(e.EVENT.ON_PERIOD_SWITCHED,r),e.EVENT.ON_AUDIO_QUALITY_CHANGED?e.addEventHandler(e.EVENT.ON_AUDIO_QUALITY_CHANGED,i):e.addEventHandler(e.EVENT.ON_AUDIO_DOWNLOAD_QUALITY_CHANGE,i)},e}(i.SelectBox);n.AudioQualitySelectBox=r},{"./selectbox":38}],9:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./listbox"),r=t("../audiotrackutils"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),new r.AudioTrackSwitchHandler(e,this)},e}(i.ListBox);n.AudioTrackListBox=s},{"../audiotrackutils":2,"./listbox":27}],10:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./selectbox"),r=t("../audiotrackutils"),s=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),new r.AudioTrackSwitchHandler(e,this)},e}(i.SelectBox);n.AudioTrackSelectBox=s},{"../audiotrackutils":2,"./selectbox":38}],11:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./component"),s=t("../timeout"),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.indicators=[new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"})],n.config=n.mergeConfig(e,{cssClass:"ui-buffering-overlay",hidden:!0,components:n.indicators,showDelayMs:1e3},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),r=new s.Timeout(i.showDelayMs,function(){o.show()}),a=function(){r.start()},l=function(){r.clear(),o.hide()};e.addEventHandler(e.EVENT.ON_STALL_STARTED,a),e.addEventHandler(e.EVENT.ON_STALL_ENDED,l),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,l),e.isStalled()&&this.show()},e}(i.Container);n.BufferingOverlay=a},{"../timeout":82,"./component":18,"./container":19}],12:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../dom"),s=t("../eventdispatcher"),a=function(t){function e(e){var n=t.call(this,e)||this;return n.buttonEvents={onClick:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-button"},n.config),n}return o(e,t),e.prototype.toDomElement=function(){var t=this,e=new r.DOM("button",{type:"button",id:this.config.id,class:this.getCssClasses()}).append(new r.DOM("span",{class:this.prefixCss("label")}).html(this.config.text));return e.on("click",function(){t.onClickEvent()}),e},e.prototype.setText=function(t){this.getDomElement().find("."+this.prefixCss("label")).html(t)},e.prototype.onClickEvent=function(){this.buttonEvents.onClick.dispatch(this)},Object.defineProperty(e.prototype,"onClick",{get:function(){return this.buttonEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),e}(i.Component);n.Button=a},{"../dom":73,"../eventdispatcher":74,"./component":18}],13:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./label"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.statusLabel=new r.Label({cssClass:"ui-cast-status-label"}),n.config=n.mergeConfig(e,{cssClass:"ui-cast-status-overlay",components:[n.statusLabel],hidden:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),e.addEventHandler(e.EVENT.ON_CAST_WAITING_FOR_DEVICE,function(t){o.show();var e=t.castPayload.deviceName;o.statusLabel.setText("Connecting to <strong>"+e+"</strong>...")}),e.addEventHandler(e.EVENT.ON_CAST_STARTED,function(t){o.show();var e=t.deviceName;o.statusLabel.setText("Playing on <strong>"+e+"</strong>")}),e.addEventHandler(e.EVENT.ON_CAST_STOPPED,function(t){o.hide()})},e}(i.Container);n.CastStatusOverlay=s},{"./container":19,"./label":26}],14:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-casttogglebutton",text:"Google Cast"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){e.isCastAvailable()?e.isCasting()?e.castStop():e.castVideo():console&&console.log("Cast unavailable")});var i=function(){e.isCastAvailable()?o.show():o.hide()};e.addEventHandler(e.EVENT.ON_CAST_AVAILABLE,i),e.addEventHandler(e.EVENT.ON_CAST_WAITING_FOR_DEVICE,function(){o.on()}),e.addEventHandler(e.EVENT.ON_CAST_STARTED,function(){o.on()}),e.addEventHandler(e.EVENT.ON_CAST_STOPPED,function(){o.off()}),i(),e.isCasting()&&this.on()},e}(i.ToggleButton);n.CastToggleButton=r},{"./togglebutton":63}],15:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./uicontainer"),r=t("../timeout"),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),s=!1,a=function(){n.onControlsHide.dispatch(o),s=!1};this.castUiHideTimeout=new r.Timeout(i.hideDelay,a);var l=function(){s||(n.onControlsShow.dispatch(o),s=!0)},c=function(){l(),o.castUiHideTimeout.clear()},u=function(){l(),o.castUiHideTimeout.start()},p=function(){e.isPlaying()?u():c()};e.addEventHandler(e.EVENT.ON_READY,u),e.addEventHandler(e.EVENT.ON_SOURCE_LOADED,u),e.addEventHandler(e.EVENT.ON_PLAY,u),e.addEventHandler(e.EVENT.ON_PAUSED,c),e.addEventHandler(e.EVENT.ON_SEEK,c),e.addEventHandler(e.EVENT.ON_SEEKED,p)},e.prototype.release=function(){t.prototype.release.call(this),this.castUiHideTimeout.clear()},e}(i.UIContainer);n.CastUIContainer=s},{"../timeout":82,"./uicontainer":65}],16:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./button"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-clickoverlay"},n.config),n}return o(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.setUrl(this.config.url);var e=this.getDomElement();e.on("click",function(){e.data("url")&&window.open(e.data("url"),"_blank")})},e.prototype.getUrl=function(){return this.getDomElement().data("url")},e.prototype.setUrl=function(t){void 0!==t&&null!=t||(t=""),this.getDomElement().data("url",t)},e}(i.Button);n.ClickOverlay=r},{"./button":12}],17:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./button"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-closebutton",text:"Close"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n);var o=this.getConfig();this.onClick.subscribe(function(){o.target.hide()})},e}(i.Button);n.CloseButton=r},{"./button":12}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../guid"),i=t("../dom"),r=t("../eventdispatcher"),s=function(){function t(t){void 0===t&&(t={}),this.componentEvents={onShow:new r.EventDispatcher,onHide:new r.EventDispatcher,onHoverChanged:new r.EventDispatcher},this.config=this.mergeConfig(t,{tag:"div",id:"bmpui-id-"+o.Guid.next(),cssPrefix:"bmpui",cssClass:"ui-component",cssClasses:[],hidden:!1},{})}return t.prototype.initialize=function(){this.hidden=this.config.hidden,this.isHidden()&&(this.hidden=!1,this.hide())},t.prototype.configure=function(t,e){var n=this;this.onShow.subscribe(function(){e.onComponentShow.dispatch(n)}),this.onHide.subscribe(function(){e.onComponentHide.dispatch(n)}),this.getDomElement().on("mouseenter",function(){n.onHoverChangedEvent(!0)}),this.getDomElement().on("mouseleave",function(){n.onHoverChangedEvent(!1)})},t.prototype.release=function(){},t.prototype.toDomElement=function(){return new i.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()})},t.prototype.getDomElement=function(){return this.element||(this.element=this.toDomElement()),this.element},t.prototype.mergeConfig=function(t,e,n){return Object.assign({},n,e,t)},t.prototype.getCssClasses=function(){var t=this,e=[this.config.cssClass].concat(this.config.cssClasses);return e=e.map(function(e){return t.prefixCss(e)}),e.join(" ").trim()},t.prototype.prefixCss=function(t){return this.config.cssPrefix+"-"+t},t.prototype.getConfig=function(){return this.config},t.prototype.hide=function(){this.hidden||(this.hidden=!0,this.getDomElement().addClass(this.prefixCss(t.CLASS_HIDDEN)),this.onHideEvent())},t.prototype.show=function(){this.hidden&&(this.getDomElement().removeClass(this.prefixCss(t.CLASS_HIDDEN)),this.hidden=!1,this.onShowEvent())},t.prototype.isHidden=function(){return this.hidden},t.prototype.isShown=function(){return!this.isHidden()},t.prototype.toggleHidden=function(){this.isHidden()?this.show():this.hide()},t.prototype.isHovered=function(){return this.hovered},t.prototype.onShowEvent=function(){this.componentEvents.onShow.dispatch(this)},t.prototype.onHideEvent=function(){this.componentEvents.onHide.dispatch(this)},t.prototype.onHoverChangedEvent=function(t){this.hovered=t,this.componentEvents.onHoverChanged.dispatch(this,{hovered:t})},Object.defineProperty(t.prototype,"onShow",{get:function(){return this.componentEvents.onShow.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this.componentEvents.onHide.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHoverChanged",{get:function(){return this.componentEvents.onHoverChanged.getEvent()},enumerable:!0,configurable:!0}),t.CLASS_HIDDEN="hidden",t}();n.Component=s},{"../dom":73,"../eventdispatcher":74,"../guid":75}],19:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../dom"),s=t("../arrayutils"),a=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-container",components:[]},n.config),n.componentsToAdd=[],n.componentsToRemove=[],n}return o(e,t),e.prototype.addComponent=function(t){this.config.components.push(t),this.componentsToAdd.push(t)},e.prototype.removeComponent=function(t){return null!=s.ArrayUtils.remove(this.config.components,t)&&(this.componentsToRemove.push(t),!0)},e.prototype.getComponents=function(){return this.config.components},e.prototype.removeComponents=function(){for(var t=0,e=this.getComponents().slice();t<e.length;t++){var n=e[t];this.removeComponent(n)}},e.prototype.updateComponents=function(){for(var t;t=this.componentsToRemove.shift();)t.getDomElement().remove();for(;t=this.componentsToAdd.shift();)this.innerContainerElement.append(t.getDomElement())},e.prototype.toDomElement=function(){var t=new r.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()}),e=new r.DOM(this.config.tag,{class:this.prefixCss("container-wrapper")});this.innerContainerElement=e;for(var n=0,o=this.config.components;n<o.length;n++){var i=o[n];this.componentsToAdd.push(i)}return this.updateComponents(),t.append(e),t},e}(i.Component);n.Container=a},{"../arrayutils":1,"../dom":73,"./component":18}],20:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("../uiutils"),s=t("./spacer"),a=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-controlbar",hidden:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var a=0;r.UIUtils.traverseTree(this,function(t){t instanceof i.Container||t instanceof s.Spacer||t.onHoverChanged.subscribe(function(t,e){e.hovered?a++:a--})}),n.onControlsShow.subscribe(function(){o.show()}),n.onPreviewControlsHide.subscribe(function(t,e){e.cancel=a>0}),n.onControlsHide.subscribe(function(){o.hide()})},e}(i.Container);n.ControlBar=a},{"../uiutils":84,"./container":19,"./spacer":41}],21:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./label"),s=t("./tvnoisecanvas"),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.errorLabel=new r.Label({cssClass:"ui-errormessage-label"}),n.tvNoiseBackground=new s.TvNoiseCanvas,n.config=n.mergeConfig(e,{cssClass:"ui-errormessage-overlay",components:[n.tvNoiseBackground,n.errorLabel],hidden:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig();e.addEventHandler(e.EVENT.ON_ERROR,function(t){var e=t.message;if(i.messages)if("function"==typeof i.messages)e=i.messages(t);else if(i.messages[t.code]){var n=i.messages[t.code];e="string"==typeof n?n:n(t)}o.errorLabel.setText(e),o.tvNoiseBackground.start(),o.show()}),e.addEventHandler(e.EVENT.ON_SOURCE_LOADED,function(t){o.isShown()&&(o.tvNoiseBackground.stop(),o.hide())})},e.prototype.release=function(){t.prototype.release.call(this),this.tvNoiseBackground.stop()},e}(i.Container);n.ErrorMessageOverlay=a},{"./container":19,"./label":26,"./tvnoisecanvas":64}],22:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-fullscreentogglebutton",text:"Fullscreen"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=function(){e.isFullscreen()?o.on():o.off()};e.addEventHandler(e.EVENT.ON_FULLSCREEN_ENTER,i),e.addEventHandler(e.EVENT.ON_FULLSCREEN_EXIT,i),this.onClick.subscribe(function(){e.isFullscreen()?e.exitFullscreen():e.enterFullscreen()}),i()},e}(i.ToggleButton);n.FullscreenToggleButton=r},{"./togglebutton":63}],23:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./playbacktogglebutton"),r=t("../dom"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-hugeplaybacktogglebutton",text:"Play/Pause"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n,!1);var i=function(){e.isPlaying()?e.pause("ui"):e.play("ui")},r=function(){e.isFullscreen()?e.exitFullscreen():e.enterFullscreen()},s=!0,a=0,l=0;this.onClick.subscribe(function(){if(s)return void i();var t=Date.now();return t-a<200?(r(),void(l=t)):t-a<500?(r(),i(),void(l=t)):(a=t,void setTimeout(function(){Date.now()-l>200&&i()},200))}),e.addEventHandler(e.EVENT.ON_PLAY,function(){s=!1}),e.addEventHandler(e.EVENT.ON_WARNING,function(t){5008===t.code&&(s=!0)});var c=function(t){t.type===e.EVENT.ON_CAST_START?o.hide():o.show()};e.addEventHandler(e.EVENT.ON_CAST_START,c),e.addEventHandler(e.EVENT.ON_CAST_STARTED,c),e.addEventHandler(e.EVENT.ON_CAST_STOPPED,c);var u=function(){o.setTransitionAnimationsEnabled(!1),o.onToggle.subscribeOnce(function(){o.setTransitionAnimationsEnabled(!0)})};u();var p=e.getConfig().playback&&Boolean(e.getConfig().playback.autoplay),f=!e.isReady()&&p;(e.isPlaying()||f)&&(this.on(),u(),e.addEventHandler(e.EVENT.ON_WARNING,function(t){5008===t.code&&u()}))},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return e.append(new r.DOM("div",{class:this.prefixCss("image")})),e},e.prototype.setTransitionAnimationsEnabled=function(t){var e=this.prefixCss("no-transition-animations");t?this.getDomElement().removeClass(e):this.getDomElement().hasClass(e)||this.getDomElement().addClass(e)},e}(i.PlaybackToggleButton);n.HugePlaybackToggleButton=s},{"../dom":73,"./playbacktogglebutton":33}],24:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./button"),r=t("../dom"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-hugereplaybutton",text:"Replay"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){e.play("ui")})},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return e.append(new r.DOM("div",{class:this.prefixCss("image")})),e},e}(i.Button);n.HugeReplayButton=s},{"../dom":73,"./button":12}],25:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./listselector"),r=t("../dom"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{tag:"ul",cssClass:"ui-itemselectionlist"},n.config),n}return o(e,t),e.prototype.isActive=function(){return this.items.length>1},e.prototype.toDomElement=function(){var t=new r.DOM("ul",{id:this.config.id,class:this.getCssClasses()});return this.listElement=t,this.updateDomItems(),t},e.prototype.updateDomItems=function(t){var n=this;void 0===t&&(t=null),this.listElement.empty();for(var o=null,i=function(t){t.addClass(n.prefixCss(e.CLASS_SELECTED))},s=function(t){t.removeClass(n.prefixCss(e.CLASS_SELECTED))},a=this,l=0,c=this.items;l<c.length;l++){var u=c[l];!function(e){var l=new r.DOM("li",{type:"li",class:a.prefixCss("ui-selectionlistitem")}).append(new r.DOM("a",{}).html(e.label));o||(null==t?o=l:String(t)===e.key&&(o=l)),l.on("click",function(){o&&s(o),o=l,i(l),n.onItemSelectedEvent(e.key,!1)}),o&&i(o),a.listElement.append(l)}(u)}},e.prototype.onItemAddedEvent=function(e){t.prototype.onItemAddedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemRemovedEvent=function(e){t.prototype.onItemRemovedEvent.call(this,e),this.updateDomItems(this.selectedItem)},
e.prototype.onItemSelectedEvent=function(e,n){void 0===n&&(n=!0),t.prototype.onItemSelectedEvent.call(this,e),n&&this.updateDomItems(e)},e.CLASS_SELECTED="selected",e}(i.ListSelector);n.ItemSelectionList=s},{"../dom":73,"./listselector":28}],26:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../dom"),s=t("../eventdispatcher"),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.labelEvents={onClick:new s.EventDispatcher,onTextChanged:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-label"},n.config),n.text=n.config.text,n}return o(e,t),e.prototype.toDomElement=function(){var t=this,e=new r.DOM("span",{id:this.config.id,class:this.getCssClasses()}).html(this.text);return e.on("click",function(){t.onClickEvent()}),e},e.prototype.setText=function(t){t!==this.text&&(this.text=t,this.getDomElement().html(t),this.onTextChangedEvent(t))},e.prototype.getText=function(){return this.text},e.prototype.clearText=function(){this.getDomElement().html(""),this.onTextChangedEvent(null)},e.prototype.isEmpty=function(){return!this.text},e.prototype.onClickEvent=function(){this.labelEvents.onClick.dispatch(this)},e.prototype.onTextChangedEvent=function(t){this.labelEvents.onTextChanged.dispatch(this,t)},Object.defineProperty(e.prototype,"onClick",{get:function(){return this.labelEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTextChanged",{get:function(){return this.labelEvents.onTextChanged.getEvent()},enumerable:!0,configurable:!0}),e}(i.Component);n.Label=a},{"../dom":73,"../eventdispatcher":74,"./component":18}],27:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=t("./listselector"),s=t("../dom"),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-listbox"},n.config),n}return o(e,t),e.prototype.toDomElement=function(){var t=new s.DOM("div",{id:this.config.id,class:this.getCssClasses()});return this.listBoxElement=t,this.updateDomItems(),t},e.prototype.updateDomItems=function(t){var e=this;void 0===t&&(t=null),this.listBoxElement.empty();for(var n=0,o=this.items;n<o.length;n++){var i=o[n],r=new l({key:i.key,text:i.label});r.onClick.subscribe(function(t){e.handleSelectionChange(t)});var s=r.getDomElement();String(i.key)===String(t)&&r.on(),this.listBoxElement.append(s)}},e.prototype.handleSelectionChange=function(t){this.onItemSelectedEvent(t.key)},e.prototype.onItemAddedEvent=function(e){t.prototype.onItemAddedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemRemovedEvent=function(e){t.prototype.onItemRemovedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemSelectedEvent=function(e,n){void 0===n&&(n=!0),t.prototype.onItemSelectedEvent.call(this,e),n&&this.updateDomItems(e)},e}(r.ListSelector);n.ListBox=a;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-listbox-button",onClass:"selected",offClass:""},n.config),n}return o(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.config.key},enumerable:!0,configurable:!0}),e}(i.ToggleButton)},{"../dom":73,"./listselector":28,"./togglebutton":63}],28:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../eventdispatcher"),s=t("../arrayutils"),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.listSelectorEvents={onItemAdded:new r.EventDispatcher,onItemRemoved:new r.EventDispatcher,onItemSelected:new r.EventDispatcher},n.config=n.mergeConfig(e,{items:[],cssClass:"ui-listselector"},n.config),n.items=n.config.items,n}return o(e,t),e.prototype.getItemIndex=function(t){for(var e in this.items)if(t===this.items[e].key)return parseInt(e);return-1},e.prototype.hasItem=function(t){return this.getItemIndex(t)>-1},e.prototype.addItem=function(t,e){var n={key:t,label:e};this.config.filter&&!this.config.filter(n)||(this.config.translator&&(n.label=this.config.translator(n)),this.removeItem(t),this.items.push(n),this.onItemAddedEvent(t))},e.prototype.removeItem=function(t){var e=this.getItemIndex(t);return e>-1&&(s.ArrayUtils.remove(this.items,this.items[e]),this.onItemRemovedEvent(t),!0)},e.prototype.selectItem=function(t){return t===this.selectedItem||this.getItemIndex(t)>-1&&(this.selectedItem=t,this.onItemSelectedEvent(t),!0)},e.prototype.getSelectedItem=function(){return this.selectedItem},e.prototype.clearItems=function(){var t=this.items;this.items=[],this.selectedItem=null;for(var e=0,n=t;e<n.length;e++){var o=n[e];this.onItemRemovedEvent(o.key)}},e.prototype.itemCount=function(){return Object.keys(this.items).length},e.prototype.onItemAddedEvent=function(t){this.listSelectorEvents.onItemAdded.dispatch(this,t)},e.prototype.onItemRemovedEvent=function(t){this.listSelectorEvents.onItemRemoved.dispatch(this,t)},e.prototype.onItemSelectedEvent=function(t){this.listSelectorEvents.onItemSelected.dispatch(this,t)},Object.defineProperty(e.prototype,"onItemAdded",{get:function(){return this.listSelectorEvents.onItemAdded.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onItemRemoved",{get:function(){return this.listSelectorEvents.onItemRemoved.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onItemSelected",{get:function(){return this.listSelectorEvents.onItemSelected.getEvent()},enumerable:!0,configurable:!0}),e}(i.Component);n.ListSelector=a},{"../arrayutils":1,"../eventdispatcher":74,"./component":18}],29:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./label");!function(t){t[t.Title=0]="Title",t[t.Description=1]="Description"}(i=n.MetadataLabelContent||(n.MetadataLabelContent={}));var s=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClasses:["label-metadata","label-metadata-"+i[e.content].toLowerCase()]},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var r=this.getConfig(),s=n.getConfig(),a=function(){switch(r.content){case i.Title:o.setText(s.metadata.title);break;case i.Description:o.setText(s.metadata.description)}},l=function(){o.setText(null)};a(),e.addEventHandler(e.EVENT.ON_SOURCE_LOADED,a),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,l)},e}(r.Label);n.MetadataLabel=s},{"./label":26}],30:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-piptogglebutton",text:"Picture-in-Picture"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;if(t.prototype.configure.call(this,e,n),!e.isPictureInPictureAvailable)return void this.hide();this.onClick.subscribe(function(){e.isPictureInPictureAvailable()?e.isPictureInPicture()?e.exitPictureInPicture():e.enterPictureInPicture():console&&console.log("PIP unavailable")});var i=function(){e.isPictureInPictureAvailable()?o.show():o.hide()};e.addEventHandler(e.EVENT.ON_READY,i),e.addEventHandler(e.EVENT.ON_PICTURE_IN_PICTURE_ENTER,function(){o.on()}),e.addEventHandler(e.EVENT.ON_PICTURE_IN_PICTURE_EXIT,function(){o.off()}),i(),e.isPictureInPicture()&&this.on()},e}(i.ToggleButton);n.PictureInPictureToggleButton=r},{"./togglebutton":63}],31:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./selectbox"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.defaultPlaybackSpeeds=[.25,.5,1,1.5,2],n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addDefaultItems(),this.onItemSelected.subscribe(function(t,n){e.setPlaybackSpeed(parseFloat(n)),o.selectItem(n)});var i=function(){var t=e.getPlaybackSpeed();o.setSpeed(t)};e.addEventHandler(e.EVENT.ON_READY,i),e.EVENT.ON_PLAYBACK_SPEED_CHANGED&&e.addEventHandler(e.EVENT.ON_PLAYBACK_SPEED_CHANGED,i)},e.prototype.setSpeed=function(t){this.selectItem(String(t))||(this.clearItems(),this.addDefaultItems([t]),this.selectItem(String(t)))},e.prototype.addDefaultItems=function(t){var e=this;void 0===t&&(t=[]),this.defaultPlaybackSpeeds.concat(t).sort().forEach(function(t){1!==t?e.addItem(String(t),t+"x"):e.addItem(String(t),"Normal")})},e.prototype.clearItems=function(){this.items=[],this.selectedItem=null},e}(i.SelectBox);n.PlaybackSpeedSelectBox=r},{"./selectbox":38}],32:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./label"),s=t("../playerutils"),a=t("../stringutils");!function(t){t[t.CurrentTime=0]="CurrentTime",t[t.TotalTime=1]="TotalTime",t[t.CurrentAndTotalTime=2]="CurrentAndTotalTime"}(i=n.PlaybackTimeLabelMode||(n.PlaybackTimeLabelMode={}));var l=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-playbacktimelabel",timeLabelMode:i.CurrentAndTotalTime,hideInLivePlayback:!1},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),r=!1,l=this.prefixCss("ui-playbacktimelabel-live"),c=this.prefixCss("ui-playbacktimelabel-live-edge"),u=0,p=function(){e.timeShift(0)},f=function(){r=e.isLive(),r?(o.getDomElement().addClass(l),o.setText("Live"),i.hideInLivePlayback&&o.hide(),o.onClick.subscribe(p),d()):(o.getDomElement().removeClass(l),o.getDomElement().removeClass(c),o.show(),o.onClick.unsubscribe(p))},d=function(){if(r){var t=e.getTimeShift()<0,n=e.getMaxTimeShift()<0;t||e.isPaused()&&n?o.getDomElement().removeClass(c):o.getDomElement().addClass(c)}},g=new s.PlayerUtils.LiveStreamDetector(e);g.onLiveChanged.subscribe(function(t,e){r=e.live,f()}),g.detect();var h=function(){r||e.getDuration()===1/0||o.setTime(e.getCurrentTime(),e.getDuration());var t=o.getDomElement().width();t>u&&(u=t,o.getDomElement().css({"min-width":u+"px"}))};e.addEventHandler(e.EVENT.ON_TIME_CHANGED,h),e.addEventHandler(e.EVENT.ON_SEEKED,h),e.addEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,h),e.addEventHandler(e.EVENT.ON_TIME_SHIFT,d),e.addEventHandler(e.EVENT.ON_TIME_SHIFTED,d),e.addEventHandler(e.EVENT.ON_PLAY,d),e.addEventHandler(e.EVENT.ON_PAUSED,d);var m=function(){u=0,o.getDomElement().css({"min-width":null}),o.timeFormat=Math.abs(e.isLive()?e.getMaxTimeShift():e.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS,h()};e.addEventHandler(e.EVENT.ON_READY,m),m()},e.prototype.setTime=function(t,e){var n=a.StringUtils.secondsToTime(t,this.timeFormat),o=a.StringUtils.secondsToTime(e,this.timeFormat);switch(this.config.timeLabelMode){case i.CurrentTime:this.setText(""+n);break;case i.TotalTime:this.setText(""+o);break;case i.CurrentAndTotalTime:this.setText(n+" / "+o)}},e.prototype.setTimeFormat=function(t){this.timeFormat=t},e}(r.Label);n.PlaybackTimeLabel=l},{"../playerutils":78,"../stringutils":80,"./label":26}],33:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=t("../playerutils"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-playbacktogglebutton",text:"Play/Pause"},n.config),n}return o(e,t),e.prototype.configure=function(n,o,i){var s=this;void 0===i&&(i=!0),t.prototype.configure.call(this,n,o);var a=!1,l=function(t){a||(n.isPlaying()?s.on():s.off())};n.addEventHandler(n.EVENT.ON_PLAY,l),n.addEventHandler(n.EVENT.ON_PAUSED,l),n.EVENT.ON_PLAYING&&n.addEventHandler(n.EVENT.ON_PLAYING,l),n.addEventHandler(n.EVENT.ON_SOURCE_LOADED,l),n.addEventHandler(n.EVENT.ON_SOURCE_UNLOADED,l),n.addEventHandler(n.EVENT.ON_PLAYBACK_FINISHED,l),n.addEventHandler(n.EVENT.ON_CAST_STARTED,l),n.addEventHandler(n.EVENT.ON_CAST_PLAYING,l),n.addEventHandler(n.EVENT.ON_CAST_PAUSED,l),n.addEventHandler(n.EVENT.ON_CAST_PLAYBACK_FINISHED,l),n.addEventHandler(n.EVENT.ON_WARNING,function(t){5008===t.code&&s.off()});var c=new r.PlayerUtils.TimeShiftAvailabilityDetector(n);c.onTimeShiftAvailabilityChanged.subscribe(function(t,n){n.timeShiftAvailable?s.getDomElement().removeClass(s.prefixCss(e.CLASS_STOPTOGGLE)):s.getDomElement().addClass(s.prefixCss(e.CLASS_STOPTOGGLE))}),c.detect(),i&&this.onClick.subscribe(function(){n.isPlaying()?n.pause("ui"):n.play("ui")}),o.onSeek.subscribe(function(){a=!0}),o.onSeeked.subscribe(function(){a=!1}),l()},e.CLASS_STOPTOGGLE="stoptoggle",e}(i.ToggleButton);n.PlaybackToggleButton=s},{"../playerutils":78,"./togglebutton":63}],34:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./hugeplaybacktogglebutton"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.playbackToggleButton=new r.HugePlaybackToggleButton,n.config=n.mergeConfig(e,{cssClass:"ui-playbacktoggle-overlay",components:[n.playbackToggleButton]},n.config),n}return o(e,t),e}(i.Container);n.PlaybackToggleOverlay=s},{"./container":19,"./hugeplaybacktogglebutton":23}],35:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./component"),s=t("../dom"),a=t("../stringutils"),l=t("./hugereplaybutton"),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.replayButton=new l.HugeReplayButton,n.config=n.mergeConfig(e,{cssClass:"ui-recommendation-overlay",hidden:!0,components:[n.replayButton]},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=function(){for(var t=0,e=o.getComponents().slice();t<e.length;t++){var n=e[t];n instanceof u&&o.removeComponent(n)}o.updateComponents(),o.getDomElement().removeClass(o.prefixCss("recommendations"))},r=function(){i();var t=n.getConfig().recommendations;if(t.length>0){for(var e=1,r=0,s=t;r<s.length;r++){var a=s[r];o.addComponent(new u({itemConfig:a,cssClasses:["recommendation-item-"+e++]}))}o.updateComponents(),o.getDomElement().addClass(o.prefixCss("recommendations"))}};e.addEventHandler(e.EVENT.ON_READY,r),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,function(){i(),o.hide()}),e.addEventHandler(e.EVENT.ON_PLAYBACK_FINISHED,function(){e.isAd()||o.show()}),e.addEventHandler(e.EVENT.ON_PLAY,function(){o.hide()}),r()},e}(i.Container);n.RecommendationOverlay=c;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-recommendation-item",itemConfig:null},n.config),n}return o(e,t),e.prototype.toDomElement=function(){var t=this.config.itemConfig,e=new s.DOM("a",{id:this.config.id,class:this.getCssClasses(),href:t.url}).css({"background-image":"url("+t.thumbnail+")"}),n=new s.DOM("div",{class:this.prefixCss("background")});e.append(n);var o=new s.DOM("span",{class:this.prefixCss("title")}).append(new s.DOM("span",{class:this.prefixCss("innertitle")}).html(t.title));e.append(o);var i=new s.DOM("span",{class:this.prefixCss("duration")}).append(new s.DOM("span",{class:this.prefixCss("innerduration")}).html(t.duration?a.StringUtils.secondsToTime(t.duration):""));return e.append(i),e},e}(r.Component)},{"../dom":73,"../stringutils":80,"./component":18,"./container":19,"./hugereplaybutton":24}],36:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../dom"),s=t("../eventdispatcher"),a=t("../timeout"),l=t("../playerutils"),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.playbackPositionPercentage=0,n.touchSupported="ontouchstart"in window,n.seekBarEvents={onSeek:new s.EventDispatcher,onSeekPreview:new s.EventDispatcher,onSeeked:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-seekbar",vertical:!1,smoothPlaybackPositionUpdateIntervalMs:50},n.config),n.label=n.config.label,n.timelineMarkers=[],n}return o(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.hasLabel()&&this.getLabel().initialize()},e.prototype.configure=function(n,o,i){var r=this;if(void 0===i&&(i=!0),t.prototype.configure.call(this,n,o),this.setPosition(this.seekBarBackdrop,100),i){var s=!1,a=!1,c=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=!1),!a)if(n.isLive()){if(0===n.getMaxTimeShift())r.setPlaybackPosition(100);else{var i=100-100/n.getMaxTimeShift()*n.getTimeShift();r.setPlaybackPosition(i)}r.setBufferPosition(100)}else{var i=100/n.getDuration()*n.getCurrentTime(),s=n.getVideoBufferLength(),l=n.getAudioBufferLength(),c=Math.min(null!=s?s:Number.MAX_VALUE,null!=l?l:Number.MAX_VALUE);c===Number.MAX_VALUE&&(c=0);var u=100/n.getDuration()*c;(r.config.smoothPlaybackPositionUpdateIntervalMs===e.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED||o||n.isPaused()||n.isPaused()===n.isPlaying())&&r.setPlaybackPosition(i),r.setBufferPosition(i+u)}};n.addEventHandler(n.EVENT.ON_READY,c),n.addEventHandler(n.EVENT.ON_TIME_CHANGED,c),n.addEventHandler(n.EVENT.ON_STALL_ENDED,c),n.addEventHandler(n.EVENT.ON_SEEKED,c),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,c),n.addEventHandler(n.EVENT.ON_SEGMENT_REQUEST_FINISHED,c),n.addEventHandler(n.EVENT.ON_CAST_TIME_UPDATED,c),this.configureLivePausedTimeshiftUpdater(n,o,c),n.addEventHandler(n.EVENT.ON_SEEK,function(){r.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_SEEKED,function(){r.setSeeking(!1)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFT,function(){r.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,function(){r.setSeeking(!1)});var u=function(t){n.isLive()?n.timeShift(n.getMaxTimeShift()-n.getMaxTimeShift()*(t/100),"ui"):n.seek(n.getDuration()*(t/100),"ui")};this.onSeek.subscribe(function(t){a=!0,o.onSeek.dispatch(t),(s=n.isPlaying())&&n.pause("ui")}),this.onSeekPreview.subscribe(function(t,e){o.onSeekPreview.dispatch(t,e)}),this.onSeekPreview.subscribeRateLimited(function(t,e){e.scrubbing&&u(e.position)},200),this.onSeeked.subscribe(function(t,e){a=!1,u(e),s&&n.play("ui"),o.onSeeked.dispatch(t)}),this.hasLabel()&&this.getLabel().configure(n,o);var p=!1,f=!1,d=function(t,e){t&&!e?r.hide():r.show(),c(null,!0),r.refreshPlaybackPosition()},g=new l.PlayerUtils.LiveStreamDetector(n);g.onLiveChanged.subscribe(function(t,e){p=e.live,d(p,f)});var h=new l.PlayerUtils.TimeShiftAvailabilityDetector(n);h.onTimeShiftAvailabilityChanged.subscribe(function(t,e){f=e.timeShiftAvailable,d(p,f)}),g.detect(),h.detect(),n.addEventHandler(n.EVENT.ON_PLAYER_RESIZE,function(){r.refreshPlaybackPosition()}),o.onConfigured.subscribe(function(){r.refreshPlaybackPosition()}),n.addEventHandler(n.EVENT.ON_READY,function(){r.refreshPlaybackPosition()}),c(),this.setBufferPosition(0),this.setSeekPosition(0),this.config.smoothPlaybackPositionUpdateIntervalMs!==e.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED&&this.configureSmoothPlaybackPositionUpdater(n,o),this.configureMarkers(n,o)}},e.prototype.configureLivePausedTimeshiftUpdater=function(t,e,n){var o=new a.Timeout(1e3,n,!0);t.addEventHandler(t.EVENT.ON_PAUSED,function(){t.isLive()&&t.getMaxTimeShift()<0&&o.start()}),t.addEventHandler(t.EVENT.ON_PLAY,function(){return o.clear()})},e.prototype.configureSmoothPlaybackPositionUpdater=function(t,e){var n=this,o=0,i=0;this.smoothPlaybackPositionUpdater=new a.Timeout(50,function(){o+=.05,i=t.getCurrentTime();var e=o-i;Math.abs(e)>2?o=i:e<=-.05?o+=.05:e>=.05&&(o-=.05);var r=100/t.getDuration()*o;n.setPlaybackPosition(r)},!0);var r=function(){t.isLive()||(o=t.getCurrentTime(),n.smoothPlaybackPositionUpdater.start())},s=function(){n.smoothPlaybackPositionUpdater.clear()};t.addEventHandler(t.EVENT.ON_PLAY,r),t.addEventHandler(t.EVENT.ON_CAST_PLAYING,r),t.addEventHandler(t.EVENT.ON_PAUSED,s),t.addEventHandler(t.EVENT.ON_CAST_PAUSED,s),t.addEventHandler(t.EVENT.ON_PLAYBACK_FINISHED,s),t.addEventHandler(t.EVENT.ON_SEEKED,function(){o=t.getCurrentTime()}),t.isPlaying()&&r()},e.prototype.configureMarkers=function(t,e){var n=this,o=function(){n.timelineMarkers=[],n.updateMarkers()},i=function(){o();var i=t.getDuration();if(i!==1/0){for(var r=0,s=e.getConfig().metadata.markers;r<s.length;r++){var a=s[r],l=100/i*a.time,c=100/i*a.duration;n.timelineMarkers.push({marker:a,position:l,duration:c})}n.updateMarkers()}};t.addEventHandler(t.EVENT.ON_READY,i),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,o),t.addEventHandler(t.EVENT.ON_PLAYER_RESIZE,function(){return n.updateMarkers()}),e.getConfig().events.onUpdated.subscribe(i),e.onRelease.subscribe(function(){return e.getConfig().events.onUpdated.unsubscribe(i)}),i()},e.prototype.release=function(){t.prototype.release.call(this),this.smoothPlaybackPositionUpdater&&this.smoothPlaybackPositionUpdater.clear()},e.prototype.toDomElement=function(){var t=this;this.config.vertical&&this.config.cssClasses.push("vertical");var e=new r.DOM("div",{id:this.config.id,class:this.getCssClasses()}),n=new r.DOM("div",{class:this.prefixCss("seekbar")});this.seekBar=n;var o=new r.DOM("div",{class:this.prefixCss("seekbar-bufferlevel")});this.seekBarBufferPosition=o;var i=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition")});this.seekBarPlaybackPosition=i;var s=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition-marker")});this.seekBarPlaybackPositionMarker=s;var a=new r.DOM("div",{class:this.prefixCss("seekbar-seekposition")});this.seekBarSeekPosition=a;var l=new r.DOM("div",{class:this.prefixCss("seekbar-backdrop")});this.seekBarBackdrop=l;var c=new r.DOM("div",{class:this.prefixCss("seekbar-markers")});this.seekBarMarkersContainer=c,n.append(this.seekBarBackdrop,this.seekBarBufferPosition,this.seekBarSeekPosition,this.seekBarPlaybackPosition,this.seekBarMarkersContainer,this.seekBarPlaybackPositionMarker);var u=!1,p=function(e){e.preventDefault(),e.stopPropagation();var n=100*t.getOffset(e);t.setSeekPosition(n),t.setPlaybackPosition(n),t.onSeekPreviewEvent(n,!0)},f=function(e){e.preventDefault(),new r.DOM(document).off("touchmove mousemove",p),new r.DOM(document).off("touchend mouseup",f);var n=100*t.getOffset(e),o=t.getMarkerAtPosition(n);t.setSeeking(!1),u=!1,t.onSeekedEvent(o?o.position:n)};return n.on("touchstart mousedown",function(e){var n=t.touchSupported&&e instanceof TouchEvent;e.preventDefault(),e.stopPropagation(),t.setSeeking(!0),u=!0,t.onSeekEvent(),new r.DOM(document).on(n?"touchmove":"mousemove",p),new r.DOM(document).on(n?"touchend":"mouseup",f)}),n.on("touchmove mousemove",function(e){e.preventDefault(),u&&(e.stopPropagation(),p(e));var n=100*t.getOffset(e);t.setSeekPosition(n),t.onSeekPreviewEvent(n,!1),t.hasLabel()&&t.getLabel().isHidden()&&t.getLabel().show()}),n.on("touchend mouseleave",function(e){e.preventDefault(),t.setSeekPosition(0),t.hasLabel()&&t.getLabel().hide()}),e.append(n),this.label&&e.append(this.label.getDomElement()),e},e.prototype.updateMarkers=function(){var t=this;this.seekBarMarkersContainer.empty();for(var e=this.seekBar.width(),n=0,o=this.timelineMarkers;n<o.length;n++){var i=o[n],s=["seekbar-marker"].concat(i.marker.cssClasses||[]).map(function(e){return t.prefixCss(e)}),a={width:i.position+"%"};if(i.duration>0){var l=Math.round(e/100*i.duration);a["border-right-width"]=l+"px",a["margin-left"]="0"}this.seekBarMarkersContainer.append(new r.DOM("div",{class:s.join(" "),"data-marker-time":String(i.marker.time),"data-marker-title":String(i.marker.title)}).css(a))}},e.prototype.getMarkerAtPosition=function(t){if(this.timelineMarkers.length>0)for(var e=0,n=this.timelineMarkers;e<n.length;e++){var o=n[e];if(o.duration>0&&t>=o.position-1&&t<=o.position+o.duration+1)return o;if(t>=o.position-1&&t<=o.position+1)return o}return null},e.prototype.getHorizontalOffset=function(t){var e=this.seekBar.offset().left,n=this.seekBar.width(),o=t-e,i=1/n*o;return this.sanitizeOffset(i)},e.prototype.getVerticalOffset=function(t){var e=this.seekBar.offset().top,n=this.seekBar.height(),o=t-e,i=1/n*o;return 1-this.sanitizeOffset(i)},e.prototype.getOffset=function(t){return this.touchSupported&&t instanceof TouchEvent?this.config.vertical?this.getVerticalOffset("touchend"===t.type?t.changedTouches[0].pageY:t.touches[0].pageY):this.getHorizontalOffset("touchend"===t.type?t.changedTouches[0].pageX:t.touches[0].pageX):t instanceof MouseEvent?this.config.vertical?this.getVerticalOffset(t.pageY):this.getHorizontalOffset(t.pageX):(console&&console.warn("invalid event"),0)},e.prototype.sanitizeOffset=function(t){return t<0?t=0:t>1&&(t=1),t},e.prototype.setPlaybackPosition=function(t){this.playbackPositionPercentage=t,this.setPosition(this.seekBarPlaybackPosition,t);var e=this.config.vertical?this.seekBar.height()-this.seekBarPlaybackPositionMarker.height():this.seekBar.width(),n=e/100*t;this.config.vertical&&(n=this.seekBar.height()-n-this.seekBarPlaybackPositionMarker.height());var o=this.config.vertical?{transform:"translateY("+n+"px)","-ms-transform":"translateY("+n+"px)","-webkit-transform":"translateY("+n+"px)"}:{transform:"translateX("+n+"px)","-ms-transform":"translateX("+n+"px)","-webkit-transform":"translateX("+n+"px)"};this.seekBarPlaybackPositionMarker.css(o)},e.prototype.refreshPlaybackPosition=function(){this.setPlaybackPosition(this.playbackPositionPercentage)},e.prototype.setBufferPosition=function(t){this.setPosition(this.seekBarBufferPosition,t)},e.prototype.setSeekPosition=function(t){this.setPosition(this.seekBarSeekPosition,t)},e.prototype.setPosition=function(t,e){var n=e/100;n>=.99999&&n<=1.00001&&(n=.99999);var o=this.config.vertical?{transform:"scaleY("+n+")","-ms-transform":"scaleY("+n+")","-webkit-transform":"scaleY("+n+")"}:{transform:"scaleX("+n+")","-ms-transform":"scaleX("+n+")","-webkit-transform":"scaleX("+n+")"};t.css(o)},e.prototype.setSeeking=function(t){t?this.getDomElement().addClass(this.prefixCss(e.CLASS_SEEKING)):this.getDomElement().removeClass(this.prefixCss(e.CLASS_SEEKING))},e.prototype.isSeeking=function(){return this.getDomElement().hasClass(this.prefixCss(e.CLASS_SEEKING))},e.prototype.hasLabel=function(){return null!=this.label},e.prototype.getLabel=function(){return this.label},e.prototype.onSeekEvent=function(){this.seekBarEvents.onSeek.dispatch(this)},e.prototype.onSeekPreviewEvent=function(t,e){var n=this.getMarkerAtPosition(t),o=t;n&&(n.duration>0?t<n.position?o=n.position:t>n.position+n.duration&&(o=n.position+n.duration):o=n.position),this.label&&this.label.getDomElement().css({left:o+"%"}),this.seekBarEvents.onSeekPreview.dispatch(this,{scrubbing:e,position:o,marker:n})},e.prototype.onSeekedEvent=function(t){this.seekBarEvents.onSeeked.dispatch(this,t)},Object.defineProperty(e.prototype,"onSeek",{get:function(){return this.seekBarEvents.onSeek.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeekPreview",{get:function(){return this.seekBarEvents.onSeekPreview.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this.seekBarEvents.onSeeked.getEvent()},enumerable:!0,configurable:!0}),e.prototype.onShowEvent=function(){t.prototype.onShowEvent.call(this),this.refreshPlaybackPosition()},e.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED=-1,e.CLASS_SEEKING="seeking",e}(i.Component);n.SeekBar=c},{"../dom":73,"../eventdispatcher":74,"../playerutils":78,"../timeout":82,"./component":18}],37:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./label"),s=t("./component"),a=t("../stringutils"),l=t("../imageloader"),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.timeLabel=new r.Label({cssClasses:["seekbar-label-time"]}),n.titleLabel=new r.Label({cssClasses:["seekbar-label-title"]}),n.thumbnail=new s.Component({cssClasses:["seekbar-thumbnail"]}),n.thumbnailImageLoader=new l.ImageLoader,n.config=n.mergeConfig(e,{cssClass:"ui-seekbar-label",components:[new i.Container({components:[n.thumbnail,new i.Container({components:[n.titleLabel,n.timeLabel],cssClass:"seekbar-label-metadata"})],cssClass:"seekbar-label-inner"})],hidden:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=[]
;n.onSeekPreview.subscribeRateLimited(function(t,n){if(e.isLive()){var r=e.getMaxTimeShift(),s=r-r*(n.position/100);o.setTime(s)}else{n.marker?o.setTitleText(n.marker.marker.title):o.setTitleText(null);var s=e.getDuration()*(n.position/100);o.setTime(s),o.setThumbnail(e.getThumb(s))}if(i.length>0&&(o.getDomElement().removeClass(i.join(" ")),i=[]),n.marker){var a=(n.marker.marker.cssClasses||[]).map(function(t){return o.prefixCss(t)});o.getDomElement().addClass(a.join(" ")),i=a}},100);var r=function(){o.timeFormat=Math.abs(e.isLive()?e.getMaxTimeShift():e.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS};e.addEventHandler(e.EVENT.ON_READY,r),r()},e.prototype.setText=function(t){this.timeLabel.setText(t)},e.prototype.setTime=function(t){this.setText(a.StringUtils.secondsToTime(t,this.timeFormat))},e.prototype.setTitleText=function(t){this.titleLabel.setText(t)},e.prototype.setThumbnail=function(t){var e=this;void 0===t&&(t=null);var n=this.thumbnail.getDomElement();null==t?n.css({"background-image":null,display:null,width:null,height:null}):this.thumbnailImageLoader.load(t.url,function(o,i,r){void 0!==t.x?n.css(e.thumbnailCssSprite(t,i,r)):n.css(e.thumbnailCssSingleImage(t,i,r))})},e.prototype.thumbnailCssSprite=function(t,e,n){var o=e/t.w,i=n/t.h,r=t.x/t.w,s=t.y/t.h,a=100*o,l=100*i,c=100*r,u=100*s,p=1/t.w*t.h;return{display:"inherit","background-image":"url("+t.url+")","padding-bottom":100*p+"%","background-size":a+"% "+l+"%","background-position":"-"+c+"% -"+u+"%"}},e.prototype.thumbnailCssSingleImage=function(t,e,n){var o=1/e*n;return{display:"inherit","background-image":"url("+t.url+")","padding-bottom":100*o+"%","background-size":"100% 100%","background-position":"0 0"}},e}(i.Container);n.SeekBarLabel=c},{"../imageloader":76,"../stringutils":80,"./component":18,"./container":19,"./label":26}],38:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./listselector"),r=t("../dom"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-selectbox"},n.config),n}return o(e,t),e.prototype.toDomElement=function(){var t=this,e=new r.DOM("select",{id:this.config.id,class:this.getCssClasses()});return this.selectElement=e,this.updateDomItems(),e.on("change",function(){var n=e.val();t.onItemSelectedEvent(n,!1)}),e},e.prototype.updateDomItems=function(t){void 0===t&&(t=null),this.selectElement.empty();for(var e=0,n=this.items;e<n.length;e++){var o=n[e],i=new r.DOM("option",{value:String(o.key)}).html(o.label);o.key===String(t)&&i.attr("selected","selected"),this.selectElement.append(i)}},e.prototype.onItemAddedEvent=function(e){t.prototype.onItemAddedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemRemovedEvent=function(e){t.prototype.onItemRemovedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemSelectedEvent=function(e,n){void 0===n&&(n=!0),t.prototype.onItemSelectedEvent.call(this,e),n&&this.updateDomItems(e)},e}(i.ListSelector);n.SelectBox=s},{"../dom":73,"./listselector":28}],39:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./component"),s=t("./selectbox"),a=t("./label"),l=t("./videoqualityselectbox"),c=t("./audioqualityselectbox"),u=t("../timeout"),p=t("../eventdispatcher"),f=t("./listbox"),d=t("./playbackspeedselectbox"),g=function(t){function e(e){var n=t.call(this,e)||this;return n.settingsPanelEvents={onSettingsStateChanged:new p.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-settings-panel",hideDelay:3e3},n.config),n}return o(e,t),e.prototype.configure=function(n,o){var i=this;t.prototype.configure.call(this,n,o);var r=this.getConfig();o.onControlsHide.subscribe(function(){return i.hideHoveredSelectBoxes()}),r.hideDelay>-1&&(this.hideTimeout=new u.Timeout(r.hideDelay,function(){i.hide(),i.hideHoveredSelectBoxes()}),this.onShow.subscribe(function(){i.hideTimeout.start()}),this.getDomElement().on("mouseenter",function(){i.hideTimeout.clear()}),this.getDomElement().on("mouseleave",function(){i.hideTimeout.reset()}),this.onHide.subscribe(function(){i.hideTimeout.clear()}));for(var s=function(){i.onSettingsStateChangedEvent();for(var t=null,n=0,o=i.getItems();n<o.length;n++){var r=o[n];r.getDomElement().removeClass(i.prefixCss(e.CLASS_LAST)),r.isShown()&&(t=r)}t&&t.getDomElement().addClass(i.prefixCss(e.CLASS_LAST))},a=0,l=this.getItems();a<l.length;a++){l[a].onActiveChanged.subscribe(s)}},e.prototype.hideHoveredSelectBoxes=function(){this.getItems().forEach(function(t){if(t.isActive()&&t.setting instanceof s.SelectBox){var e=t.setting,n=e.getDomElement().css("display");e.getDomElement().css("display","none"),window.requestAnimationFrame?requestAnimationFrame(function(){e.getDomElement().css("display",n)}):e.getDomElement().css("display",n)}})},e.prototype.release=function(){t.prototype.release.call(this),this.hideTimeout&&this.hideTimeout.clear()},e.prototype.hasActiveSettings=function(){for(var t=0,e=this.getItems();t<e.length;t++){if(e[t].isActive())return!0}return!1},e.prototype.getItems=function(){return this.config.components.filter(function(t){return t instanceof h})},e.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelEvents.onSettingsStateChanged.dispatch(this)},Object.defineProperty(e.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelEvents.onSettingsStateChanged.getEvent()},enumerable:!0,configurable:!0}),e.CLASS_LAST="last",e}(i.Container);n.SettingsPanel=g;var h=function(t){function e(e,n,o){void 0===o&&(o={});var i=t.call(this,o)||this;return i.settingsPanelItemEvents={onActiveChanged:new p.EventDispatcher},i.setting=n,i.config=i.mergeConfig(o,{cssClass:"ui-settings-panel-item"},i.config),null!==e&&(e instanceof r.Component?i.label=e:i.label=new a.Label({text:e}),i.addComponent(i.label)),i.addComponent(i.setting),i}return o(e,t),e.prototype.configure=function(t,e){var n=this;if(this.setting instanceof s.SelectBox||this.setting instanceof f.ListBox){var o=function(){if(n.setting instanceof s.SelectBox||n.setting instanceof f.ListBox){var t=2;(n.setting instanceof l.VideoQualitySelectBox&&n.setting.hasAutoItem()||n.setting instanceof c.AudioQualitySelectBox)&&(t=3),n.setting.itemCount()<t?n.hide():n.setting instanceof d.PlaybackSpeedSelectBox&&!e.getConfig().playbackSpeedSelectionEnabled?n.hide():n.show(),n.onActiveChangedEvent()}};this.setting.onItemAdded.subscribe(o),this.setting.onItemRemoved.subscribe(o),o()}},e.prototype.isActive=function(){return this.isShown()},e.prototype.onActiveChangedEvent=function(){this.settingsPanelItemEvents.onActiveChanged.dispatch(this)},Object.defineProperty(e.prototype,"onActiveChanged",{get:function(){return this.settingsPanelItemEvents.onActiveChanged.getEvent()},enumerable:!0,configurable:!0}),e}(i.Container);n.SettingsPanelItem=h},{"../eventdispatcher":74,"../timeout":82,"./audioqualityselectbox":8,"./component":18,"./container":19,"./label":26,"./listbox":27,"./playbackspeedselectbox":31,"./selectbox":38,"./videoqualityselectbox":66}],40:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=t("./settingspanel"),s=t("../arrayutils"),a=function(t){function e(e){var n=t.call(this,e)||this;if(n.visibleSettingsPanels=[],!e.settingsPanel)throw new Error("Required SettingsPanel is missing");return n.config=n.mergeConfig(e,{cssClass:"ui-settingstogglebutton",text:"Settings",settingsPanel:null,autoHideWhenNoActiveSettings:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getConfig(),a=i.settingsPanel;if(this.onClick.subscribe(function(){a.isShown()||o.visibleSettingsPanels.slice().forEach(function(t){return t.hide()}),a.toggleHidden()}),a.onShow.subscribe(function(){o.on()}),a.onHide.subscribe(function(){o.off()}),n.onComponentShow.subscribe(function(t){t instanceof r.SettingsPanel&&(o.visibleSettingsPanels.push(t),t.onHide.subscribeOnce(function(){return s.ArrayUtils.remove(o.visibleSettingsPanels,t)}))}),i.autoHideWhenNoActiveSettings){var l=function(){a.hasActiveSettings()?o.isHidden()&&o.show():o.isShown()&&o.hide()};a.onSettingsStateChanged.subscribe(l),l()}},e}(i.ToggleButton);n.SettingsToggleButton=a},{"../arrayutils":1,"./settingspanel":39,"./togglebutton":63}],41:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-spacer"},n.config),n}return o(e,t),e.prototype.onShowEvent=function(){},e.prototype.onHideEvent=function(){},e.prototype.onHoverChangedEvent=function(t){},e}(i.Component);n.Spacer=r},{"./component":18}],42:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./listbox"),r=t("../subtitleutils"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),new r.SubtitleSwitchHandler(e,this)},e}(i.ListBox);n.SubtitleListBox=s},{"../subtitleutils":81,"./listbox":27}],43:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./label"),s=t("./controlbar"),a=t("../eventdispatcher"),l=t("../dom"),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.preprocessLabelEventCallback=new a.EventDispatcher,n.previewSubtitleActive=!1,n.previewSubtitle=new u({text:"example subtitle"}),n.config=n.mergeConfig(e,{cssClass:"ui-subtitle-overlay"},n.config),n}return o(e,t),e.prototype.configure=function(n,o){var i=this;t.prototype.configure.call(this,n,o);var r=new p;this.subtitleManager=r,n.addEventHandler(n.EVENT.ON_CUE_ENTER,function(t){t.position&&(t.position.row=t.position.row||0,t.position.column=t.position.column||0);var e=r.cueEnter(t);i.preprocessLabelEventCallback.dispatch(t,e),i.previewSubtitleActive&&i.removeComponent(i.previewSubtitle),i.addComponent(e),i.updateComponents(),i.show()}),n.addEventHandler(n.EVENT.ON_CUE_EXIT,function(t){var e=r.cueExit(t);e&&(i.removeComponent(e),i.updateComponents()),r.hasCues||(i.previewSubtitleActive?(i.addComponent(i.previewSubtitle),i.updateComponents()):i.hide())});var a=function(){i.hide(),r.clear(),i.removeComponents(),i.updateComponents()};n.addEventHandler(n.EVENT.ON_AUDIO_CHANGED,a),n.addEventHandler(n.EVENT.ON_SUBTITLE_CHANGED,a),n.addEventHandler(n.EVENT.ON_SEEK,a),n.addEventHandler(n.EVENT.ON_TIME_SHIFT,a),n.addEventHandler(n.EVENT.ON_PLAYBACK_FINISHED,a),n.addEventHandler(n.EVENT.ON_SOURCE_UNLOADED,a),o.onComponentShow.subscribe(function(t){t instanceof s.ControlBar&&i.getDomElement().addClass(i.prefixCss(e.CLASS_CONTROLBAR_VISIBLE))}),o.onComponentHide.subscribe(function(t){t instanceof s.ControlBar&&i.getDomElement().removeClass(i.prefixCss(e.CLASS_CONTROLBAR_VISIBLE))}),this.configureCea608Captions(n,o),a()},e.prototype.configureCea608Captions=function(t,n){var o=this,i=0,r=0,s=!0,a=!1,l=function(){var t=new u({text:"X"});t.getDomElement().css({"font-size":"200px","line-height":"200px",visibility:"hidden"}),o.addComponent(t),o.updateComponents(),o.show();var n=t.getDomElement().width(),s=t.getDomElement().height(),a=n/s;o.removeComponent(t),o.updateComponents(),o.subtitleManager.hasCues||o.hide();var l=o.getDomElement().width()-10,c=o.getDomElement().height();if(l/c>n*e.CEA608_NUM_COLUMNS/(s*e.CEA608_NUM_ROWS)){i=c/e.CEA608_NUM_ROWS;var p=l/e.CEA608_NUM_COLUMNS;r=p-i*a}else i=l/e.CEA608_NUM_COLUMNS/a,r=0;for(var f=0,d=o.getComponents();f<d.length;f++){var g=d[f];g instanceof u&&g.getDomElement().css({"font-size":i+"px","letter-spacing":r+"px"})}};t.addEventHandler(t.EVENT.ON_PLAYER_RESIZE,function(){a?l():s=!0}),this.preprocessLabelEventCallback.subscribe(function(t,n){null!=t.position&&(a||(a=!0,o.getDomElement().addClass(o.prefixCss(e.CLASS_CEA_608)),s&&(l(),s=!1)),n.getDomElement().css({left:t.position.column*e.CEA608_COLUMN_OFFSET+"%",top:t.position.row*e.CEA608_ROW_OFFSET+"%","font-size":i+"px","letter-spacing":r+"px"}))});var c=function(){o.getDomElement().removeClass(o.prefixCss(e.CLASS_CEA_608)),a=!1};t.addEventHandler(t.EVENT.ON_CUE_EXIT,function(){o.subtitleManager.hasCues||c()}),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,c),t.addEventHandler(t.EVENT.ON_SUBTITLE_CHANGED,c)},e.prototype.enablePreviewSubtitleLabel=function(){this.previewSubtitleActive=!0,this.subtitleManager.hasCues||(this.addComponent(this.previewSubtitle),this.updateComponents(),this.show())},e.prototype.removePreviewSubtitleLabel=function(){this.previewSubtitleActive=!1,this.removeComponent(this.previewSubtitle),this.updateComponents()},e.CLASS_CONTROLBAR_VISIBLE="controlbar-visible",e.CLASS_CEA_608="cea608",e.CEA608_NUM_ROWS=15,e.CEA608_NUM_COLUMNS=32,e.CEA608_ROW_OFFSET=100/e.CEA608_NUM_ROWS,e.CEA608_COLUMN_OFFSET=100/e.CEA608_NUM_COLUMNS,e}(i.Container);n.SubtitleOverlay=c;var u=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-subtitle-label"},n.config),n}return o(e,t),e}(r.Label),p=function(){function t(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0}return t.calculateId=function(t){var e=t.start+"-"+t.text;return t.position&&(e+="-"+t.position.row+"-"+t.position.column),e},t.prototype.cueEnter=function(e){var n=t.calculateId(e),o=new u({text:e.html||t.generateImageTagText(e.image)||e.text});return this.activeSubtitleCueMap[n]=this.activeSubtitleCueMap[n]||[],this.activeSubtitleCueMap[n].push({event:e,label:o}),this.activeSubtitleCueCount++,o},t.generateImageTagText=function(t){if(t){var e=new l.DOM("img",{src:t});return e.css("width","100%"),e.get(0).outerHTML}},t.prototype.getCues=function(e){var n=t.calculateId(e),o=this.activeSubtitleCueMap[n];return o&&o.length>0?o.map(function(t){return t.label}):null},t.prototype.cueExit=function(e){var n=t.calculateId(e),o=this.activeSubtitleCueMap[n];if(o&&o.length>0){var i=o.shift();return this.activeSubtitleCueCount--,i.label}return null},Object.defineProperty(t.prototype,"cueCount",{get:function(){return this.activeSubtitleCueCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCues",{get:function(){return this.cueCount>0},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0},t}()},{"../dom":73,"../eventdispatcher":74,"./container":19,"./controlbar":20,"./label":26}],44:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./selectbox"),r=t("../subtitleutils"),s=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),new r.SubtitleSwitchHandler(e,this)},e}(i.SelectBox);n.SubtitleSelectBox=s},{"../subtitleutils":81,"./selectbox":38}],45:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.backgroundColor.isSet()&&o.settingsManager.backgroundOpacity.isSet()?o.toggleOverlayClass("bgcolor-"+o.settingsManager.backgroundColor.value+o.settingsManager.backgroundOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(t,e){o.settingsManager.backgroundColor.value=e}),this.settingsManager.backgroundColor.onChanged.subscribe(function(t,e){o.settingsManager.backgroundColor.isSet()?o.settingsManager.backgroundOpacity.isSet()||(o.settingsManager.backgroundOpacity.value="100"):o.settingsManager.backgroundOpacity.clear(),o.selectItem(e.value),i()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.backgroundColor.isSet()&&this.selectItem(this.settingsManager.backgroundColor.value)},e}(i.SubtitleSettingSelectBox);n.BackgroundColorSelectBox=r},{"./subtitlesettingselectbox":54}],46:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.addItem("0","0%"),this.onItemSelected.subscribe(function(t,e){o.settingsManager.backgroundOpacity.value=e,o.settingsManager.backgroundOpacity.isSet()?o.settingsManager.backgroundColor.isSet()||(o.settingsManager.backgroundColor.value="black"):o.settingsManager.backgroundColor.clear()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(t,e){o.selectItem(e.value)}),this.settingsManager.backgroundOpacity.isSet()&&this.selectItem(this.settingsManager.backgroundOpacity.value)},e}(i.SubtitleSettingSelectBox);n.BackgroundOpacitySelectBox=r},{"./subtitlesettingselectbox":54}],47:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("raised","raised"),this.addItem("depressed","depressed"),this.addItem("uniform","uniform"),this.addItem("dropshadowed","drop shadowed"),this.settingsManager.characterEdge.onChanged.subscribe(function(t,e){e.isSet()?o.toggleOverlayClass("characteredge-"+e.value):o.toggleOverlayClass(null),o.selectItem(e.value)}),this.onItemSelected.subscribe(function(t,e){o.settingsManager.characterEdge.value=e}),this.settingsManager.characterEdge.isSet()&&this.selectItem(this.settingsManager.characterEdge.value)},e}(i.SubtitleSettingSelectBox);n.CharacterEdgeSelectBox=r},{"./subtitlesettingselectbox":54}],48:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.fontColor.isSet()&&o.settingsManager.fontOpacity.isSet()?o.toggleOverlayClass("fontcolor-"+o.settingsManager.fontColor.value+o.settingsManager.fontOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(t,e){o.settingsManager.fontColor.value=e}),this.settingsManager.fontColor.onChanged.subscribe(function(t,e){o.settingsManager.fontColor.isSet()?o.settingsManager.fontOpacity.isSet()||(o.settingsManager.fontOpacity.value="100"):o.settingsManager.fontOpacity.clear(),o.selectItem(e.value),i()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.fontColor.isSet()&&this.selectItem(this.settingsManager.fontColor.value)},e}(i.SubtitleSettingSelectBox);n.FontColorSelectBox=r},{"./subtitlesettingselectbox":54}],49:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("monospacedserif","monospaced serif"),this.addItem("proportionalserif","proportional serif"),this.addItem("monospacedsansserif","monospaced sans serif"),this.addItem("proportionalsansserif","proportional sans serif"),this.addItem("casual","casual"),this.addItem("cursive","cursive"),this.addItem("smallcapital","small capital"),this.settingsManager.fontFamily.onChanged.subscribe(function(t,e){e.isSet()?o.toggleOverlayClass("fontfamily-"+e.value):o.toggleOverlayClass(null),o.selectItem(e.value)}),this.onItemSelected.subscribe(function(t,e){o.settingsManager.fontFamily.value=e}),this.settingsManager.fontFamily.isSet()&&this.selectItem(this.settingsManager.fontFamily.value)},e}(i.SubtitleSettingSelectBox);n.FontFamilySelectBox=r},{"./subtitlesettingselectbox":54}],50:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.onItemSelected.subscribe(function(t,e){o.settingsManager.fontOpacity.value=e,o.settingsManager.fontOpacity.isSet()?o.settingsManager.fontColor.isSet()||(o.settingsManager.fontColor.value="white"):o.settingsManager.fontColor.clear()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(t,e){o.selectItem(e.value)}),this.settingsManager.fontOpacity.isSet()&&this.selectItem(this.settingsManager.fontOpacity.value)},e}(i.SubtitleSettingSelectBox);n.FontOpacitySelectBox=r},{"./subtitlesettingselectbox":54}],51:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("50","50%"),this.addItem("75","75%"),this.addItem("100","100%"),this.addItem("150","150%"),this.addItem("200","200%"),this.addItem("300","300%"),this.addItem("400","400%"),this.settingsManager.fontSize.onChanged.subscribe(function(t,e){e.isSet()?o.toggleOverlayClass("fontsize-"+e.value):o.toggleOverlayClass(null),o.selectItem(e.value)}),this.onItemSelected.subscribe(function(t,e){o.settingsManager.fontSize.value=e}),this.settingsManager.fontSize.isSet()&&this.selectItem(this.settingsManager.fontSize.value)},e}(i.SubtitleSettingSelectBox);n.FontSizeSelectBox=r},{"./subtitlesettingselectbox":54}],52:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../button"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.subtitleSettingsPanel=e.subtitleSettingsPanel,n.settingsPanel=e.settingsPanel,n}return o(e,t),e}(i.Button);n.SubtitleSettingsButton=r},{"../button":12}],53:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingsbutton"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-subtitlesettingsclosebutton",text:"Back"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){o.subtitleSettingsPanel.hide(),o.settingsPanel.show()})},e}(i.SubtitleSettingsButton);n.SubtitleSettingsCloseButton=r},{"./subtitlesettingsbutton":52}],54:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../selectbox"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.settingsManager=e.settingsManager,n.overlay=e.overlay,n}return o(e,t),e.prototype.toggleOverlayClass=function(t){this.currentCssClass&&(this.overlay.getDomElement().removeClass(this.currentCssClass),this.currentCssClass=null),t&&(this.currentCssClass=this.prefixCss(t),this.overlay.getDomElement().addClass(this.currentCssClass))},e}(i.SelectBox);n.SubtitleSettingSelectBox=r},{"../selectbox":38}],55:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../container"),r=t("../../dom"),s=function(t){function e(e){var n=t.call(this,e)||this;return n.opener=e.opener,n.text=e.text,n.config=n.mergeConfig(e,{cssClass:"ui-label",components:[n.opener]},n.config),n}return o(e,t),e.prototype.toDomElement=function(){return new r.DOM("span",{id:this.config.id,class:this.getCssClasses()}).append(new r.DOM("span",{}).html(this.text),this.opener.getDomElement())},e}(i.Container);n.SubtitleSettingsLabel=s},{"../../dom":73,"../container":19}],56:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../storageutils"),r=t("../component"),s=t("../../eventdispatcher"),a=function(){function t(){var t=this;this._properties={fontColor:new c(this),fontOpacity:new c(this),fontFamily:new c(this),fontSize:new c(this),characterEdge:new c(this),backgroundColor:new c(this),backgroundOpacity:new c(this),windowColor:new c(this),windowOpacity:new c(this)},this.userSettings={},this.localStorageKey=l.instance().prefixCss("subtitlesettings");var e=this;for(var n in this._properties)!function(n){e._properties[n].onChanged.subscribe(function(e,o){o.isSet()?t.userSettings[n]=o.value:delete t.userSettings[n],t.save()})}(n);this.load()}return t.prototype.reset=function(){for(var t in this._properties)this._properties[t].clear()},Object.defineProperty(t.prototype,"fontColor",{get:function(){return this._properties.fontColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontOpacity",{get:function(){return this._properties.fontOpacity},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._properties.fontFamily},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._properties.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"characterEdge",{get:function(){return this._properties.characterEdge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._properties.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this._properties.backgroundOpacity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowColor",{get:function(){return this._properties.windowColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowOpacity",{get:function(){return this._properties.windowOpacity},enumerable:!0,configurable:!0}),t.prototype.save=function(){i.StorageUtils.setObject(this.localStorageKey,this.userSettings)},t.prototype.load=function(){this.userSettings=i.StorageUtils.getObject(this.localStorageKey)||{};for(var t in this.userSettings)this._properties[t].value=this.userSettings[t]},t}();n.SubtitleSettingsManager=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.prefixCss=function(e){return t.prototype.prefixCss.call(this,e)},e}(r.Component),c=function(){function t(t){this._manager=t,this._onChanged=new s.EventDispatcher}return t.prototype.isSet=function(){return null!=this._value},t.prototype.clear=function(){this._value=null,this.onChangedEvent(null)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){"string"==typeof t&&"null"===t&&(t=null),this._value=t,this.onChangedEvent(t)},enumerable:!0,configurable:!0}),t.prototype.onChangedEvent=function(t){this._onChanged.dispatch(this._manager,this)},Object.defineProperty(t.prototype,"onChanged",{get:function(){return this._onChanged.getEvent()},enumerable:!0,configurable:!0}),t}();n.SubtitleSettingsProperty=c},{"../../eventdispatcher":74,"../../storageutils":79,"../component":18}],57:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingsbutton"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-subtitlesettingsopenbutton",text:"Subtitles settings"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){o.subtitleSettingsPanel.show(),o.settingsPanel.hide()})},e}(i.SubtitleSettingsButton);n.SubtitleSettingsOpenButton=r},{"./subtitlesettingsbutton":52}],58:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../settingspanel"),r=t("./fontcolorselectbox"),s=t("./fontopacityselectbox"),a=t("./fontfamilyselectbox"),l=t("./fontsizeselectbox"),c=t("./backgroundcolorselectbox"),u=t("./backgroundopacityselectbox"),p=t("./windowcolorselectbox"),f=t("./windowopacityselectbox"),d=t("./characteredgeselectbox"),g=t("./subtitlesettingsmanager"),h=t("./subtitlesettingsclosebutton"),m=t("./subtitlesettingsresetbutton"),v=function(t){function e(e){var n=t.call(this,e)||this;n.overlay=e.overlay;var o=new g.SubtitleSettingsManager;return n.config=n.mergeConfig(e,{components:[new i.SettingsPanelItem("Font size",new l.FontSizeSelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Font family",new a.FontFamilySelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Font color",new r.FontColorSelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Font opacity",new s.FontOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Character edge",new d.CharacterEdgeSelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Background color",new c.BackgroundColorSelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Background opacity",new u.BackgroundOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Window color",new p.WindowColorSelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem("Window opacity",new f.WindowOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new i.SettingsPanelItem(new h.SubtitleSettingsCloseButton({subtitleSettingsPanel:n,settingsPanel:e.settingsPanel}),new m.SubtitleSettingsResetButton({settingsManager:o}))]},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.onShow.subscribe(function(){o.overlay.enablePreviewSubtitleLabel()}),this.onHide.subscribe(function(){o.overlay.removePreviewSubtitleLabel()})},e}(i.SettingsPanel);n.SubtitleSettingsPanel=v},{"../settingspanel":39,"./backgroundcolorselectbox":45,"./backgroundopacityselectbox":46,"./characteredgeselectbox":47,"./fontcolorselectbox":48,"./fontfamilyselectbox":49,"./fontopacityselectbox":50,"./fontsizeselectbox":51,"./subtitlesettingsclosebutton":53,"./subtitlesettingsmanager":56,"./subtitlesettingsresetbutton":59,"./windowcolorselectbox":60,"./windowopacityselectbox":61}],59:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../button"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-subtitlesettingsresetbutton",text:"Reset"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){o.config.settingsManager.reset()})},e}(i.Button);n.SubtitleSettingsResetButton=r},{"../button":12}],60:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.windowColor.isSet()&&o.settingsManager.windowOpacity.isSet()?o.toggleOverlayClass("windowcolor-"+o.settingsManager.windowColor.value+o.settingsManager.windowOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(t,e){o.settingsManager.windowColor.value=e}),this.settingsManager.windowColor.onChanged.subscribe(function(t,e){o.settingsManager.windowColor.isSet()?o.settingsManager.windowOpacity.isSet()||(o.settingsManager.windowOpacity.value="100"):o.settingsManager.windowOpacity.clear(),o.selectItem(e.value),i()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.windowColor.isSet()&&this.selectItem(this.settingsManager.windowColor.value)},e}(i.SubtitleSettingSelectBox);n.WindowColorSelectBox=r},{"./subtitlesettingselectbox":54}],61:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subtitlesettingselectbox"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.addItem("0","0%"),this.onItemSelected.subscribe(function(t,e){o.settingsManager.windowOpacity.value=e,o.settingsManager.windowOpacity.isSet()?o.settingsManager.windowColor.isSet()||(o.settingsManager.windowColor.value="black"):o.settingsManager.windowColor.clear()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(t,e){o.selectItem(e.value)}),this.settingsManager.windowOpacity.isSet()&&this.selectItem(this.settingsManager.windowOpacity.value)},e}(i.SubtitleSettingSelectBox);n.WindowOpacitySelectBox=r},{"./subtitlesettingselectbox":54}],62:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./metadatalabel"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-titlebar",hidden:!0,components:[new r.MetadataLabel({content:r.MetadataLabelContent.Title}),new r.MetadataLabel({content:r.MetadataLabelContent.Description})],keepHiddenWithoutMetadata:!1},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);for(var i=this.getConfig(),s=!this.isHidden(),a=!0,l=function(){a=!1;for(var t=0,e=o.getComponents();t<e.length;t++){var n=e[t];if(n instanceof r.MetadataLabel&&!n.isEmpty()){a=!0;break}}o.isShown()?i.keepHiddenWithoutMetadata&&!a&&o.hide():s&&o.show()},c=0,u=this.getComponents();c<u.length;c++){var p=u[c];p instanceof r.MetadataLabel&&p.onTextChanged.subscribe(l)}n.onControlsShow.subscribe(function(){s=!0,i.keepHiddenWithoutMetadata&&!a||o.show()}),n.onControlsHide.subscribe(function(){s=!1,o.hide()}),l()},e}(i.Container);n.TitleBar=s},{"./container":19,"./metadatalabel":29}],63:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./button"),r=t("../eventdispatcher"),s=function(t){function e(e){var n=t.call(this,e)||this;n.toggleButtonEvents={onToggle:new r.EventDispatcher,onToggleOn:new r.EventDispatcher,onToggleOff:new r.EventDispatcher};var o={cssClass:"ui-togglebutton",onClass:"on",offClass:"off"};return n.config=n.mergeConfig(e,o,n.config),n}return o(e,t),e.prototype.configure=function(t,e){var n=this.getConfig();this.getDomElement().addClass(this.prefixCss(n.offClass))},e.prototype.on=function(){if(this.isOff()){var t=this.getConfig();this.onState=!0,this.getDomElement().removeClass(this.prefixCss(t.offClass)),this.getDomElement().addClass(this.prefixCss(t.onClass)),this.onToggleEvent(),this.onToggleOnEvent()}},e.prototype.off=function(){if(this.isOn()){var t=this.getConfig();this.onState=!1,this.getDomElement().removeClass(this.prefixCss(t.onClass)),this.getDomElement().addClass(this.prefixCss(t.offClass)),this.onToggleEvent(),this.onToggleOffEvent()}},e.prototype.toggle=function(){this.isOn()?this.off():this.on()},e.prototype.isOn=function(){return this.onState},e.prototype.isOff=function(){return!this.isOn()},e.prototype.onClickEvent=function(){t.prototype.onClickEvent.call(this),this.onToggleEvent()},e.prototype.onToggleEvent=function(){this.toggleButtonEvents.onToggle.dispatch(this)},e.prototype.onToggleOnEvent=function(){this.toggleButtonEvents.onToggleOn.dispatch(this)},e.prototype.onToggleOffEvent=function(){this.toggleButtonEvents.onToggleOff.dispatch(this)},Object.defineProperty(e.prototype,"onToggle",{get:function(){return this.toggleButtonEvents.onToggle.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onToggleOn",{get:function(){return this.toggleButtonEvents.onToggleOn.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onToggleOff",{get:function(){return this.toggleButtonEvents.onToggleOff.getEvent()},enumerable:!0,configurable:!0}),e}(i.Button);n.ToggleButton=s},{"../eventdispatcher":74,"./button":12}],64:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./component"),r=t("../dom"),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.canvasWidth=160,n.canvasHeight=90,n.interferenceHeight=50,n.lastFrameUpdate=0,n.frameInterval=60,n.useAnimationFrame=!!window.requestAnimationFrame,n.config=n.mergeConfig(e,{cssClass:"ui-tvnoisecanvas"},n.config),n}return o(e,t),e.prototype.toDomElement=function(){return this.canvas=new r.DOM("canvas",{class:this.getCssClasses()})},e.prototype.start=function(){this.canvasElement=this.canvas.get(0),this.canvasContext=this.canvasElement.getContext("2d"),this.noiseAnimationWindowPos=-this.canvasHeight,this.lastFrameUpdate=0,this.canvasElement.width=this.canvasWidth,this.canvasElement.height=this.canvasHeight,this.renderFrame()},e.prototype.stop=function(){this.useAnimationFrame?cancelAnimationFrame(this.frameUpdateHandlerId):clearTimeout(this.frameUpdateHandlerId)},e.prototype.renderFrame=function(){if(this.lastFrameUpdate+this.frameInterval>(new Date).getTime())return void this.scheduleNextRender();for(var t,e=this.canvasWidth,n=this.canvasHeight,o=this.canvasContext.createImageData(e,n),i=0;i<n;i++)for(var r=0;r<e;r++)t=e*i*4+4*r,o.data[t]=255*Math.random(),(i<this.noiseAnimationWindowPos||i>this.noiseAnimationWindowPos+this.interferenceHeight)&&(o.data[t]*=.85),o.data[t+1]=o.data[t],o.data[t+2]=o.data[t],o.data[t+3]=50;this.canvasContext.putImageData(o,0,0),this.lastFrameUpdate=(new Date).getTime(),this.noiseAnimationWindowPos+=7,this.noiseAnimationWindowPos>n&&(this.noiseAnimationWindowPos=-n),this.scheduleNextRender()},e.prototype.scheduleNextRender=function(){this.useAnimationFrame?this.frameUpdateHandlerId=window.requestAnimationFrame(this.renderFrame.bind(this)):this.frameUpdateHandlerId=setTimeout(this.renderFrame.bind(this),this.frameInterval)},e}(i.Component);n.TvNoiseCanvas=s},{"../dom":73,"./component":18}],65:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("../dom"),s=t("../timeout"),a=t("../playerutils"),l=t("../eventdispatcher"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-uicontainer",hideDelay:5e3},n.config),n.playerStateChange=new l.EventDispatcher,n}return o(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),this.configureUIShowHide(e,n),this.configurePlayerStates(e,n)},e.prototype.configureUIShowHide=function(t,e){var n=this,o=this.getDomElement(),i=this.getConfig();if(-1===i.hideDelay)return void e.onConfigured.subscribe(function(){return e.onControlsShow.dispatch(n)});var r,a=!1,l=!1,c=!0,u=function(){return i.hidePlayerStateExceptions&&i.hidePlayerStateExceptions.indexOf(r)>-1},p=function(){a||(e.onControlsShow.dispatch(n),a=!0),l||t.isCasting()||u()||n.uiHideTimeout.start()},f=function(){if(a&&!t.isCasting()){var o={};e.onPreviewControlsHide.dispatch(n,o),o.cancel?p():(e.onControlsHide.dispatch(n),a=!1)}};this.uiHideTimeout=new s.Timeout(i.hideDelay,f),o.on("touchend",function(t){a||(c?c=!1:t.preventDefault(),p())}),o.on("mouseenter",function(){p()}),o.on("mousemove",function(){p()}),o.on("mouseleave",function(){l||u()||n.uiHideTimeout.start()}),e.onSeek.subscribe(function(){n.uiHideTimeout.clear(),l=!0}),e.onSeeked.subscribe(function(){l=!1,n.uiHideTimeout.start()}),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(){p()}),this.playerStateChange.subscribe(function(t,e){r=e,u()?(n.uiHideTimeout.clear(),p()):n.uiHideTimeout.start()})},e.prototype.configurePlayerStates=function(t,n){var o=this,i=this.getDomElement(),s=[];for(var l in a.PlayerUtils.PlayerState)if(isNaN(Number(l))){var c=a.PlayerUtils.PlayerState[a.PlayerUtils.PlayerState[l]];s[a.PlayerUtils.PlayerState[l]]=this.prefixCss(e.STATE_PREFIX+c.toLowerCase())}var u=function(){i.removeClass(s[a.PlayerUtils.PlayerState.IDLE]),i.removeClass(s[a.PlayerUtils.PlayerState.PREPARED]),i.removeClass(s[a.PlayerUtils.PlayerState.PLAYING]),i.removeClass(s[a.PlayerUtils.PlayerState.PAUSED]),i.removeClass(s[a.PlayerUtils.PlayerState.FINISHED])},p=function(t){u(),i.addClass(s[t]),o.playerStateChange.dispatch(o,t)};t.addEventHandler(t.EVENT.ON_READY,function(){p(a.PlayerUtils.PlayerState.PREPARED)}),t.addEventHandler(t.EVENT.ON_PLAY,function(){p(a.PlayerUtils.PlayerState.PLAYING)}),t.addEventHandler(t.EVENT.ON_PAUSED,function(){p(a.PlayerUtils.PlayerState.PAUSED)}),t.addEventHandler(t.EVENT.ON_PLAYBACK_FINISHED,function(){p(a.PlayerUtils.PlayerState.FINISHED)}),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,function(){p(a.PlayerUtils.PlayerState.IDLE)}),p(a.PlayerUtils.getState(t)),t.addEventHandler(t.EVENT.ON_FULLSCREEN_ENTER,function(){i.addClass(o.prefixCss(e.FULLSCREEN))}),t.addEventHandler(t.EVENT.ON_FULLSCREEN_EXIT,function(){i.removeClass(o.prefixCss(e.FULLSCREEN))}),t.isFullscreen()&&i.addClass(this.prefixCss(e.FULLSCREEN)),t.addEventHandler(t.EVENT.ON_STALL_STARTED,function(){i.addClass(o.prefixCss(e.BUFFERING))}),t.addEventHandler(t.EVENT.ON_STALL_ENDED,function(){i.removeClass(o.prefixCss(e.BUFFERING))}),t.isStalled()&&i.addClass(this.prefixCss(e.BUFFERING)),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(){i.addClass(o.prefixCss(e.REMOTE_CONTROL))}),t.addEventHandler(t.EVENT.ON_CAST_STOPPED,function(){i.removeClass(o.prefixCss(e.REMOTE_CONTROL))}),t.isCasting()&&i.addClass(this.prefixCss(e.REMOTE_CONTROL)),n.onControlsShow.subscribe(function(){i.removeClass(o.prefixCss(e.CONTROLS_HIDDEN)),i.addClass(o.prefixCss(e.CONTROLS_SHOWN))}),n.onControlsHide.subscribe(function(){i.removeClass(o.prefixCss(e.CONTROLS_SHOWN)),i.addClass(o.prefixCss(e.CONTROLS_HIDDEN))});var f=function(t,e){i.removeClass(o.prefixCss("layout-max-width-400")),i.removeClass(o.prefixCss("layout-max-width-600")),i.removeClass(o.prefixCss("layout-max-width-800")),i.removeClass(o.prefixCss("layout-max-width-1200")),t<=400?i.addClass(o.prefixCss("layout-max-width-400")):t<=600?i.addClass(o.prefixCss("layout-max-width-600")):t<=800?i.addClass(o.prefixCss("layout-max-width-800")):t<=1200&&i.addClass(o.prefixCss("layout-max-width-1200"))};t.addEventHandler(t.EVENT.ON_PLAYER_RESIZE,function(t){var e=Math.round(Number(t.width.substring(0,t.width.length-2)));Math.round(Number(t.height.substring(0,t.height.length-2)));f(e)}),f(new r.DOM(t.getFigure()).width(),new r.DOM(t.getFigure()).height())},e.prototype.release=function(){t.prototype.release.call(this),this.uiHideTimeout.clear()},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return document&&void 0!==document.createElement("p").style.flex?e.addClass(this.prefixCss("flexbox")):e.addClass(this.prefixCss("no-flexbox")),e},e.STATE_PREFIX="player-state-",e.FULLSCREEN="fullscreen",e.BUFFERING="buffering",e.REMOTE_CONTROL="remote-control",e.CONTROLS_SHOWN="controls-shown",e.CONTROLS_HIDDEN="controls-hidden",e}(i.Container);n.UIContainer=c},{"../dom":73,"../eventdispatcher":74,"../playerutils":78,"../timeout":82,"./container":19}],66:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./selectbox"),r=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=function(){if(e.getVideoQuality)o.selectItem(e.getVideoQuality().id);else{var t=e.getDownloadedVideoData();o.selectItem(t.isAuto?"auto":t.id)}},r=function(){var t=e.getAvailableVideoQualities();o.clearItems(),o.hasAuto="progressive"!==e.getStreamType(),o.hasAuto&&o.addItem("auto","auto");for(var n=0,r=t;n<r.length;n++){var s=r[n];o.addItem(s.id,s.label)}i()};this.onItemSelected.subscribe(function(t,n){e.setVideoQuality(n)}),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,r),e.addEventHandler(e.EVENT.ON_READY,r),e.addEventHandler(e.EVENT.ON_PERIOD_SWITCHED,r),e.EVENT.ON_VIDEO_QUALITY_CHANGED?e.addEventHandler(e.EVENT.ON_VIDEO_QUALITY_CHANGED,i):e.addEventHandler(e.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE,i)},e.prototype.hasAutoItem=function(){return this.hasAuto},e}(i.SelectBox);n.VideoQualitySelectBox=r},{"./selectbox":38}],67:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./container"),r=t("./volumeslider"),s=t("./volumetogglebutton"),a=t("../timeout"),l=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.volumeToggleButton=new s.VolumeToggleButton,n.volumeSlider=new r.VolumeSlider({vertical:null==e.vertical||e.vertical,hidden:!0}),n.config=n.mergeConfig(e,{cssClass:"ui-volumecontrolbutton",components:[n.volumeToggleButton,n.volumeSlider],hideDelay:500},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=this.getVolumeToggleButton(),r=this.getVolumeSlider();this.volumeSliderHideTimeout=new a.Timeout(this.getConfig().hideDelay,function(){r.hide()});var s=!1;i.getDomElement().on("mouseenter",function(){r.isHidden()&&r.show(),o.volumeSliderHideTimeout.clear()}),i.getDomElement().on("mouseleave",function(){o.volumeSliderHideTimeout.reset()}),r.getDomElement().on("mouseenter",function(){o.volumeSliderHideTimeout.clear(),s=!0}),r.getDomElement().on("mouseleave",function(){r.isSeeking()?o.volumeSliderHideTimeout.clear():o.volumeSliderHideTimeout.reset(),s=!1}),r.onSeeked.subscribe(function(){s||o.volumeSliderHideTimeout.reset()})},e.prototype.release=function(){t.prototype.release.call(this),this.volumeSliderHideTimeout.clear()},e.prototype.getVolumeToggleButton=function(){return this.volumeToggleButton},e.prototype.getVolumeSlider=function(){return this.volumeSlider},e}(i.Container);n.VolumeControlButton=l},{"../timeout":82,"./container":19,"./volumeslider":68,"./volumetogglebutton":69}],68:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./seekbar"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-volumeslider",hideIfVolumeControlProhibited:!0},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n,!1);var i=this.getConfig(),r=n.getConfig().volumeController;if(i.hideIfVolumeControlProhibited&&!this.detectVolumeControlAvailability())return void this.hide();r.onChanged.subscribe(function(t,e){e.muted?o.setPlaybackPosition(0):o.setPlaybackPosition(e.volume)});var s;this.onSeek.subscribe(function(){s=r.startTransition()}),this.onSeekPreview.subscribeRateLimited(function(t,e){e.scrubbing&&s&&s.update(e.position)},50),this.onSeeked.subscribe(function(t,e){s&&s.finish(e)}),e.addEventHandler(e.EVENT.ON_PLAYER_RESIZE,function(){o.refreshPlaybackPosition()}),e.addEventHandler(e.EVENT.ON_READY,function(){o.refreshPlaybackPosition()}),n.onConfigured.subscribe(function(){o.refreshPlaybackPosition()}),r.onChangedEvent()},e.prototype.detectVolumeControlAvailability=function(){var t=document.createElement("video");return t.volume=.7,1!==t.volume},e}(i.SeekBar);n.VolumeSlider=r},{"./seekbar":36}],69:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this,o={cssClass:"ui-volumetogglebutton",text:"Volume/Mute",onClass:"muted",offClass:"unmuted"};return n.config=n.mergeConfig(e,o,n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=n.getConfig().volumeController;i.onChanged.subscribe(function(t,e){e.muted?o.on():o.off();var n=Math.ceil(e.volume/10);o.getDomElement().data(o.prefixCss("volume-level-tens"),String(n))}),this.onClick.subscribe(function(){i.toggleMuted()}),i.onChangedEvent()},e}(i.ToggleButton);n.VolumeToggleButton=r},{"./togglebutton":63}],70:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./togglebutton"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-vrtogglebutton",text:"VR"},n.config),n}return o(e,t),e.prototype.configure=function(e,n){var o=this;t.prototype.configure.call(this,e,n);var i=function(){var t=e.getConfig();return t.source&&t.source.vr&&"none"!==t.source.vr.contentType},r=function(){return"none"!==e.getVRStatus().contentType},s=function(){i()&&r()?(o.show(),e.getVRStatus().isStereo?o.on():o.off()):o.hide()},a=function(){i()?o.show():o.hide()};e.addEventHandler(e.EVENT.ON_VR_MODE_CHANGED,s),e.addEventHandler(e.EVENT.ON_VR_STEREO_CHANGED,s),e.addEventHandler(e.EVENT.ON_VR_ERROR,s),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,a),e.addEventHandler(e.EVENT.ON_READY,a),this.onClick.subscribe(function(){r()?e.getVRStatus().isStereo?e.setVRStereo(!1):e.setVRStereo(!0):console&&console.log("No VR content")}),a()},e}(i.ToggleButton);n.VRToggleButton=r},{"./togglebutton":63}],71:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./clickoverlay"),r=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-watermark",url:"http://bitmovin.com"},n.config),n}return o(e,t),e}(i.ClickOverlay);n.Watermark=r},{"./clickoverlay":16}],72:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./components/vrtogglebutton"),i=t("./components/settingstogglebutton"),r=t("./components/volumeslider"),s=t("./components/playbacktimelabel"),a=t("./components/airplaytogglebutton"),l=t("./components/errormessageoverlay"),c=t("./components/controlbar"),u=t("./components/casttogglebutton"),p=t("./components/fullscreentogglebutton"),f=t("./components/recommendationoverlay"),d=t("./components/playbackspeedselectbox"),g=t("./components/audioqualityselectbox"),h=t("./components/caststatusoverlay"),m=t("./components/uicontainer"),v=t("./components/watermark"),y=t("./components/subtitleoverlay"),b=t("./components/settingspanel"),E=t("./components/seekbarlabel"),_=t("./components/playbacktoggleoverlay"),C=t("./components/pictureinpicturetogglebutton"),S=t("./components/spacer"),O=t("./components/container"),w=t("./components/volumetogglebutton"),P=t("./components/playbacktogglebutton"),T=t("./components/seekbar"),k=t("./components/videoqualityselectbox"),A=t("./uimanager"),I=t("./components/titlebar"),N=t("./components/bufferingoverlay"),x=t("./components/subtitlelistbox"),D=t("./components/audiotracklistbox");!function(t){function e(t,e){void 0===e&&(e={});return new A.UIManager(t,[{ui:A.UIManager.Factory.modernSmallScreenAdsUI(),condition:function(t){return t.isMobile&&t.documentWidth<600&&t.isAdWithUI}},{ui:A.UIManager.Factory.modernAdsUI(),condition:function(t){return t.isAdWithUI}},{ui:A.UIManager.Factory.modernSmallScreenUI(),condition:function(t){return t.isMobile&&t.documentWidth<600}},{ui:n()}],e)}function n(){var t=new y.SubtitleOverlay,e=new b.SettingsPanel({components:[new b.SettingsPanelItem("Video Quality",new k.VideoQualitySelectBox),new b.SettingsPanelItem("Speed",new d.PlaybackSpeedSelectBox),new b.SettingsPanelItem("Audio Quality",new g.AudioQualitySelectBox)],hidden:!0}),n=new x.SubtitleListBox,A=new b.SettingsPanel({components:[new b.SettingsPanelItem(null,n)],hidden:!0}),M=new D.AudioTrackListBox,B=new b.SettingsPanel({components:[new b.SettingsPanelItem(null,M)],hidden:!0}),H=new c.ControlBar({components:[B,A,e,new O.Container({components:[new s.PlaybackTimeLabel({timeLabelMode:s.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new T.SeekBar({label:new E.SeekBarLabel}),new s.PlaybackTimeLabel({timeLabelMode:s.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new O.Container({
components:[new P.PlaybackToggleButton,new w.VolumeToggleButton,new r.VolumeSlider,new S.Spacer,new C.PictureInPictureToggleButton,new a.AirPlayToggleButton,new u.CastToggleButton,new o.VRToggleButton,new i.SettingsToggleButton({settingsPanel:B,cssClass:"ui-audiotracksettingstogglebutton"}),new i.SettingsToggleButton({settingsPanel:A,cssClass:"ui-subtitlesettingstogglebutton"}),new i.SettingsToggleButton({settingsPanel:e}),new p.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new m.UIContainer({components:[t,new N.BufferingOverlay,new _.PlaybackToggleOverlay,new h.CastStatusOverlay,H,new I.TitleBar,new f.RecommendationOverlay,new v.Watermark,new l.ErrorMessageOverlay],cssClasses:["ui-skin-modern"]})}t.buildDemoWithSeparateAudioSubtitlesButtons=e}(n.DemoFactory||(n.DemoFactory={}))},{"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":21,"./components/fullscreentogglebutton":22,"./components/pictureinpicturetogglebutton":30,"./components/playbackspeedselectbox":31,"./components/playbacktimelabel":32,"./components/playbacktogglebutton":33,"./components/playbacktoggleoverlay":34,"./components/recommendationoverlay":35,"./components/seekbar":36,"./components/seekbarlabel":37,"./components/settingspanel":39,"./components/settingstogglebutton":40,"./components/spacer":41,"./components/subtitlelistbox":42,"./components/subtitleoverlay":43,"./components/titlebar":62,"./components/uicontainer":65,"./components/videoqualityselectbox":66,"./components/volumeslider":68,"./components/volumetogglebutton":69,"./components/vrtogglebutton":70,"./components/watermark":71,"./uimanager":83}],73:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){if(this.document=document,t instanceof Array){if(t.length>0&&t[0]instanceof HTMLElement){var n=t;this.elements=n}}else if(t instanceof HTMLElement){var o=t;this.elements=[o]}else if(t instanceof Document)this.elements=null;else if(e){var i=t,o=document.createElement(i);for(var r in e){var s=e[r];o.setAttribute(r,s)}this.elements=[o]}else{var a=t;this.elements=this.findChildElements(a)}}return Object.defineProperty(t.prototype,"length",{get:function(){return this.elements?this.elements.length:0},enumerable:!0,configurable:!0}),t.prototype.getElements=function(){return this.get()},t.prototype.get=function(t){return void 0===t?this.elements:!this.elements||t>=this.elements.length||t<-this.elements.length?void 0:t<0?this.elements[this.elements.length-t]:this.elements[t]},t.prototype.forEach=function(t){this.elements&&this.elements.forEach(function(e){t(e)})},t.prototype.findChildElementsOfElement=function(t,e){var n=t.querySelectorAll(e);return[].slice.call(n)},t.prototype.findChildElements=function(t){var e=this,n=[];return this.elements?(this.forEach(function(o){n=n.concat(e.findChildElementsOfElement(o,t))}),n):this.findChildElementsOfElement(document,t)},t.prototype.find=function(e){return new t(this.findChildElements(e))},t.prototype.html=function(t){return arguments.length>0?this.setHtml(t):this.getHtml()},t.prototype.getHtml=function(){return this.elements[0].innerHTML},t.prototype.setHtml=function(t){return void 0!==t&&null!=t||(t=""),this.forEach(function(e){e.innerHTML=t}),this},t.prototype.empty=function(){return this.forEach(function(t){t.innerHTML=""}),this},t.prototype.val=function(){var t=this.elements[0];if(t instanceof HTMLSelectElement||t instanceof HTMLInputElement)return t.value;throw new Error("val() not supported for "+typeof t)},t.prototype.attr=function(t,e){return arguments.length>1?this.setAttr(t,e):this.getAttr(t)},t.prototype.getAttr=function(t){return this.elements[0].getAttribute(t)},t.prototype.setAttr=function(t,e){return this.forEach(function(n){n.setAttribute(t,e)}),this},t.prototype.data=function(t,e){return arguments.length>1?this.setData(t,e):this.getData(t)},t.prototype.getData=function(t){return this.elements[0].getAttribute("data-"+t)},t.prototype.setData=function(t,e){return this.forEach(function(n){n.setAttribute("data-"+t,e)}),this},t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.forEach(function(e){t.forEach(function(t){t.elements.forEach(function(n,o){e.appendChild(t.elements[o])})})}),this},t.prototype.remove=function(){this.forEach(function(t){var e=t.parentNode;e&&e.removeChild(t)})},t.prototype.offset=function(){var t=this.elements[0],e=t.getBoundingClientRect(),n=document.body.parentElement.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left}},t.prototype.width=function(){return this.elements[0].offsetWidth},t.prototype.height=function(){return this.elements[0].offsetHeight},t.prototype.on=function(t,e){var n=this;return t.split(" ").forEach(function(t){null==n.elements?n.document.addEventListener(t,e):n.forEach(function(n){n.addEventListener(t,e)})}),this},t.prototype.off=function(t,e){var n=this;return t.split(" ").forEach(function(t){null==n.elements?n.document.removeEventListener(t,e):n.forEach(function(n){n.removeEventListener(t,e)})}),this},t.prototype.addClass=function(t){return this.forEach(function(e){if(e.classList){var n=t.split(" ").filter(function(t){return t.length>0});n.length>0&&(o=e.classList).add.apply(o,n)}else e.className+=" "+t;var o}),this},t.prototype.removeClass=function(t){return this.forEach(function(e){if(e.classList){var n=t.split(" ").filter(function(t){return t.length>0});n.length>0&&(o=e.classList).remove.apply(o,n)}else e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ");var o}),this},t.prototype.hasClass=function(t){var e=!1;return this.forEach(function(n){n.classList?n.classList.contains(t)&&(e=!0):new RegExp("(^| )"+t+"( |$)","gi").test(n.className)&&(e=!0)}),e},t.prototype.css=function(t,e){if("string"==typeof t){var n=t;return 2===arguments.length?this.setCss(n,e):this.getCss(n)}var o=t;return this.setCssCollection(o)},t.prototype.getCss=function(t){return getComputedStyle(this.elements[0])[t]},t.prototype.setCss=function(t,e){return this.forEach(function(n){n.style[t]=e}),this},t.prototype.setCssCollection=function(t){return this.forEach(function(e){Object.assign(e.style,t)}),this},t}();n.DOM=o},{}],74:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./arrayutils"),r=function(){function t(){this.listeners=[]}return t.prototype.subscribe=function(t){this.listeners.push(new s(t))},t.prototype.subscribeOnce=function(t){this.listeners.push(new s(t,!0))},t.prototype.subscribeRateLimited=function(t,e){this.listeners.push(new a(t,e))},t.prototype.unsubscribe=function(t){for(var e=0;e<this.listeners.length;e++){var n=this.listeners[e];if(n.listener===t)return i.ArrayUtils.remove(this.listeners,n),!0}return!1},t.prototype.unsubscribeAll=function(){this.listeners=[]},t.prototype.dispatch=function(t,e){void 0===e&&(e=null);for(var n=[],o=this.listeners.slice(0),r=0,s=o;r<s.length;r++){var a=s[r];a.fire(t,e),a.isOnce()&&n.push(a)}for(var l=0,c=n;l<c.length;l++){var u=c[l];i.ArrayUtils.remove(this.listeners,u)}},t.prototype.getEvent=function(){return this},t}();n.EventDispatcher=r;var s=function(){function t(t,e){void 0===e&&(e=!1),this.eventListener=t,this.once=e}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.eventListener},enumerable:!0,configurable:!0}),t.prototype.fire=function(t,e){this.eventListener(t,e)},t.prototype.isOnce=function(){return this.once},t}(),a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.rateMs=n,o.lastFireTime=0,o.rateLimitingEventListener=function(t,e){Date.now()-o.lastFireTime>o.rateMs&&(o.fireSuper(t,e),o.lastFireTime=Date.now())},o}return o(e,t),e.prototype.fireSuper=function(e,n){t.prototype.fire.call(this,e,n)},e.prototype.fire=function(t,e){this.rateLimitingEventListener(t,e)},e}(s)},{"./arrayutils":1}],75:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(t){function e(){return n++}var n=1;t.next=e}(n.Guid||(n.Guid={}))},{}],76:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./dom"),i=function(){function t(){this.state={}}return t.prototype.load=function(t,e){var n=this;if(this.state[t]){var i=this.state[t];i.loadedCallback=e,i.loaded&&this.callLoadedCallback(i)}else{var r={url:t,image:new o.DOM("img",{}),loadedCallback:e,loaded:!1,width:0,height:0};this.state[t]=r,r.image.on("load",function(t){r.loaded=!0,r.width=r.image.get(0).width,r.height=r.image.get(0).height,n.callLoadedCallback(r)}),r.image.attr("src",r.url)}},t.prototype.callLoadedCallback=function(t){t.loadedCallback(t.url,t.width,t.height)},t}();n.ImageLoader=i},{"./dom":73}],77:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./uimanager"),i=t("./components/button"),r=t("./components/controlbar"),s=t("./components/fullscreentogglebutton"),a=t("./components/hugeplaybacktogglebutton"),l=t("./components/playbacktimelabel"),c=t("./components/playbacktogglebutton"),u=t("./components/seekbar"),p=t("./components/selectbox"),f=t("./components/itemselectionlist"),d=t("./components/settingspanel"),g=t("./components/settingstogglebutton"),h=t("./components/togglebutton"),m=t("./components/videoqualityselectbox"),v=t("./components/volumetogglebutton"),y=t("./components/vrtogglebutton"),b=t("./components/watermark"),E=t("./components/uicontainer"),_=t("./components/container"),C=t("./components/label"),S=t("./components/audioqualityselectbox"),O=t("./components/audiotrackselectbox"),w=t("./components/caststatusoverlay"),P=t("./components/casttogglebutton"),T=t("./components/component"),k=t("./components/errormessageoverlay"),A=t("./components/recommendationoverlay"),I=t("./components/seekbarlabel"),N=t("./components/subtitleoverlay"),x=t("./components/subtitleselectbox"),D=t("./components/titlebar"),M=t("./components/volumecontrolbutton"),B=t("./components/clickoverlay"),H=t("./components/adskipbutton"),L=t("./components/admessagelabel"),U=t("./components/adclickoverlay"),V=t("./components/playbackspeedselectbox"),j=t("./components/hugereplaybutton"),R=t("./components/bufferingoverlay"),F=t("./components/castuicontainer"),W=t("./components/playbacktoggleoverlay"),Y=t("./components/closebutton"),G=t("./components/metadatalabel"),Q=t("./components/airplaytogglebutton"),z=t("./components/volumeslider"),K=t("./components/pictureinpicturetogglebutton"),q=t("./components/spacer"),X=t("./components/subtitlesettings/backgroundcolorselectbox"),Z=t("./components/subtitlesettings/backgroundopacityselectbox"),J=t("./components/subtitlesettings/characteredgeselectbox"),$=t("./components/subtitlesettings/fontcolorselectbox"),tt=t("./components/subtitlesettings/fontfamilyselectbox"),et=t("./components/subtitlesettings/fontopacityselectbox"),nt=t("./components/subtitlesettings/fontsizeselectbox"),ot=t("./components/subtitlesettings/subtitlesettingsbutton"),it=t("./components/subtitlesettings/subtitlesettingsclosebutton"),rt=t("./components/subtitlesettings/subtitlesettingselectbox"),st=t("./components/subtitlesettings/subtitlesettingslabel"),at=t("./components/subtitlesettings/subtitlesettingsopenbutton"),lt=t("./components/subtitlesettings/subtitlesettingspanel"),ct=t("./components/subtitlesettings/windowcolorselectbox"),ut=t("./components/subtitlesettings/windowopacityselectbox"),pt=t("./arrayutils"),ft=t("./stringutils"),dt=t("./playerutils"),gt=t("./uiutils"),ht=t("./browserutils"),mt=t("./storageutils"),vt=t("./components/subtitlesettings/subtitlesettingsresetbutton"),yt=t("./components/listbox"),bt=t("./demofactory"),Et=t("./components/subtitlelistbox"),_t=t("./components/audiotracklistbox");"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t});var Ct={version:"2.20.0",UIManager:o.UIManager,UIInstanceManager:o.UIInstanceManager,ArrayUtils:pt.ArrayUtils,StringUtils:ft.StringUtils,PlayerUtils:dt.PlayerUtils,UIUtils:gt.UIUtils,BrowserUtils:ht.BrowserUtils,StorageUtils:mt.StorageUtils,AdClickOverlay:U.AdClickOverlay,AdMessageLabel:L.AdMessageLabel,AdSkipButton:H.AdSkipButton,AirPlayToggleButton:Q.AirPlayToggleButton,AudioQualitySelectBox:S.AudioQualitySelectBox,AudioTrackSelectBox:O.AudioTrackSelectBox,BufferingOverlay:R.BufferingOverlay,Button:i.Button,CastStatusOverlay:w.CastStatusOverlay,CastToggleButton:P.CastToggleButton,CastUIContainer:F.CastUIContainer,ClickOverlay:B.ClickOverlay,CloseButton:Y.CloseButton,Component:T.Component,Container:_.Container,ControlBar:r.ControlBar,DemoFactory:bt.DemoFactory,ErrorMessageOverlay:k.ErrorMessageOverlay,FullscreenToggleButton:s.FullscreenToggleButton,HugePlaybackToggleButton:a.HugePlaybackToggleButton,HugeReplayButton:j.HugeReplayButton,Label:C.Label,ListBox:yt.ListBox,MetadataLabel:G.MetadataLabel,MetadataLabelContent:G.MetadataLabelContent,PictureInPictureToggleButton:K.PictureInPictureToggleButton,PlaybackSpeedSelectBox:V.PlaybackSpeedSelectBox,PlaybackTimeLabel:l.PlaybackTimeLabel,PlaybackTimeLabelMode:l.PlaybackTimeLabelMode,PlaybackToggleButton:c.PlaybackToggleButton,PlaybackToggleOverlay:W.PlaybackToggleOverlay,RecommendationOverlay:A.RecommendationOverlay,SeekBar:u.SeekBar,SeekBarLabel:I.SeekBarLabel,SelectBox:p.SelectBox,ItemSelectionList:f.ItemSelectionList,SettingsPanel:d.SettingsPanel,SettingsPanelItem:d.SettingsPanelItem,SettingsToggleButton:g.SettingsToggleButton,Spacer:q.Spacer,SubtitleOverlay:N.SubtitleOverlay,SubtitleSelectBox:x.SubtitleSelectBox,TitleBar:D.TitleBar,ToggleButton:h.ToggleButton,UIContainer:E.UIContainer,VideoQualitySelectBox:m.VideoQualitySelectBox,VolumeControlButton:M.VolumeControlButton,VolumeSlider:z.VolumeSlider,VolumeToggleButton:v.VolumeToggleButton,VRToggleButton:y.VRToggleButton,Watermark:b.Watermark,SubtitleListBox:Et.SubtitleListBox,AudioTrackListBox:_t.AudioTrackListBox,subtitlesettings:{BackgroundColorSelectBox:X.BackgroundColorSelectBox,BackgroundOpacitySelectBox:Z.BackgroundOpacitySelectBox,CharacterEdgeSelectBox:J.CharacterEdgeSelectBox,FontColorSelectBox:$.FontColorSelectBox,FontFamilySelectBox:tt.FontFamilySelectBox,FontOpacitySelectBox:et.FontOpacitySelectBox,FontSizeSelectBox:nt.FontSizeSelectBox,SubtitleSettingsButton:ot.SubtitleSettingsButton,SubtitleSettingsCloseButton:it.SubtitleSettingsCloseButton,SubtitleSettingSelectBox:rt.SubtitleSettingSelectBox,SubtitleSettingsLabel:st.SubtitleSettingsLabel,SubtitleSettingsOpenButton:at.SubtitleSettingsOpenButton,SubtitleSettingsPanel:lt.SubtitleSettingsPanel,WindowColorSelectBox:ct.WindowColorSelectBox,WindowOpacitySelectBox:ut.WindowOpacitySelectBox,SubtitleSettingsResetButton:vt.SubtitleSettingsResetButton}};e.exports=Ct},{"./arrayutils":1,"./browserutils":3,"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/button":12,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/clickoverlay":16,"./components/closebutton":17,"./components/component":18,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":21,"./components/fullscreentogglebutton":22,"./components/hugeplaybacktogglebutton":23,"./components/hugereplaybutton":24,"./components/itemselectionlist":25,"./components/label":26,"./components/listbox":27,"./components/metadatalabel":29,"./components/pictureinpicturetogglebutton":30,"./components/playbackspeedselectbox":31,"./components/playbacktimelabel":32,"./components/playbacktogglebutton":33,"./components/playbacktoggleoverlay":34,"./components/recommendationoverlay":35,"./components/seekbar":36,"./components/seekbarlabel":37,"./components/selectbox":38,"./components/settingspanel":39,"./components/settingstogglebutton":40,"./components/spacer":41,"./components/subtitlelistbox":42,"./components/subtitleoverlay":43,"./components/subtitleselectbox":44,"./components/subtitlesettings/backgroundcolorselectbox":45,"./components/subtitlesettings/backgroundopacityselectbox":46,"./components/subtitlesettings/characteredgeselectbox":47,"./components/subtitlesettings/fontcolorselectbox":48,"./components/subtitlesettings/fontfamilyselectbox":49,"./components/subtitlesettings/fontopacityselectbox":50,"./components/subtitlesettings/fontsizeselectbox":51,"./components/subtitlesettings/subtitlesettingsbutton":52,"./components/subtitlesettings/subtitlesettingsclosebutton":53,"./components/subtitlesettings/subtitlesettingselectbox":54,"./components/subtitlesettings/subtitlesettingslabel":55,"./components/subtitlesettings/subtitlesettingsopenbutton":57,"./components/subtitlesettings/subtitlesettingspanel":58,"./components/subtitlesettings/subtitlesettingsresetbutton":59,"./components/subtitlesettings/windowcolorselectbox":60,"./components/subtitlesettings/windowopacityselectbox":61,"./components/titlebar":62,"./components/togglebutton":63,"./components/uicontainer":65,"./components/videoqualityselectbox":66,"./components/volumecontrolbutton":67,"./components/volumeslider":68,"./components/volumetogglebutton":69,"./components/vrtogglebutton":70,"./components/watermark":71,"./demofactory":72,"./playerutils":78,"./storageutils":79,"./stringutils":80,"./uimanager":83,"./uiutils":84}],78:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./eventdispatcher"),i=t("./browserutils");!function(t){function e(t){return t.isLive()&&0!==t.getMaxTimeShift()}function n(t){return t.hasEnded()?r.FINISHED:t.isPlaying()?r.PLAYING:t.isPaused()?r.PAUSED:t.isReady()?r.PREPARED:r.IDLE}var r;!function(t){t[t.IDLE=0]="IDLE",t[t.PREPARED=1]="PREPARED",t[t.PLAYING=2]="PLAYING",t[t.PAUSED=3]="PAUSED",t[t.FINISHED=4]="FINISHED"}(r=t.PlayerState||(t.PlayerState={})),t.isTimeShiftAvailable=e,t.getState=n;var s=function(){function e(t){var e=this;this.timeShiftAvailabilityChangedEvent=new o.EventDispatcher,this.player=t,this.timeShiftAvailable=void 0;var n=function(){e.detect()};t.addEventHandler(t.EVENT.ON_READY,n),t.addEventHandler(t.EVENT.ON_TIME_CHANGED,n)}return e.prototype.detect=function(){if(this.player.isLive()){var e=t.isTimeShiftAvailable(this.player);e!==this.timeShiftAvailable&&(this.timeShiftAvailabilityChangedEvent.dispatch(this.player,{timeShiftAvailable:e}),this.timeShiftAvailable=e)}},Object.defineProperty(e.prototype,"onTimeShiftAvailabilityChanged",{get:function(){return this.timeShiftAvailabilityChangedEvent.getEvent()},enumerable:!0,configurable:!0}),e}();t.TimeShiftAvailabilityDetector=s;var a=function(){function t(t){var e=this;this.liveChangedEvent=new o.EventDispatcher,this.player=t,this.live=void 0;var n=function(){e.detect()};t.addEventHandler(t.EVENT.ON_READY,n),t.addEventHandler(t.EVENT.ON_PLAY,n),i.BrowserUtils.isAndroid&&i.BrowserUtils.isChrome&&t.addEventHandler(t.EVENT.ON_TIME_CHANGED,n)}return t.prototype.detect=function(){var t=this.player.isLive();t!==this.live&&(this.liveChangedEvent.dispatch(this.player,{live:t}),this.live=t)},Object.defineProperty(t.prototype,"onLiveChanged",{get:function(){return this.liveChangedEvent.getEvent()},enumerable:!0,configurable:!0}),t}();t.LiveStreamDetector=a}(n.PlayerUtils||(n.PlayerUtils={}))},{"./browserutils":3,"./eventdispatcher":74}],79:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(t){function e(){if(s)return s;var t={length:0};try{t=window.localStorage;var e="__storage_test__";t.setItem(e,e),t.removeItem(e),s=!0}catch(e){s=e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}return s}function n(e,n){t.hasLocalStorage()&&window.localStorage.setItem(e,n)}function o(e){return t.hasLocalStorage()?window.localStorage.getItem(e):null}function i(e,o){if(t.hasLocalStorage()){n(e,JSON.stringify(o))}}function r(e){if(t.hasLocalStorage()){var n=o(e);if(e){return JSON.parse(n)}}return null}var s;t.hasLocalStorage=e,t.setItem=n,t.getItem=o,t.setObject=i,t.getObject=r}(n.StorageUtils||(n.StorageUtils={}))},{}],80:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(t){function e(e,o){void 0===o&&(o=t.FORMAT_HHMMSS);var i=e<0;i&&(e=-e);var r=Math.floor(e/3600),s=Math.floor(e/60)-60*r,a=Math.floor(e)%60;return(i?"-":"")+o.replace("hh",n(r,2)).replace("mm",n(s,2)).replace("ss",n(a,2))}function n(t,e){var n=t+"";return"0000000000".substr(0,e-n.length)+n}function o(t,e,n){var o=new RegExp("\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})","g");return t.replace(o,function(t){var o=0;return t.indexOf("remainingTime")>-1?o=e?Math.ceil(e-n.getCurrentTime()):n.getDuration()-n.getCurrentTime():t.indexOf("playedTime")>-1?o=n.getCurrentTime():t.indexOf("adDuration")>-1&&(o=n.getDuration()),i(o,t)})}function i(t,o){var i=/%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/,r=/(%0[1-9]\d*)(?=(\.\d+f|f|d))/,s=/\.\d*(?=f)/;i.test(o)||(o="%d");var a=0,l=o.match(r);l&&(a=parseInt(l[0].substring(2)));var c=null,u=o.match(s);if(u&&!isNaN(parseInt(u[0].substring(1)))&&(c=parseInt(u[0].substring(1)))>20&&(c=20),o.indexOf("f")>-1){var p="";return p=null!==c?t.toFixed(c):""+t,p.indexOf(".")>-1?n(p,p.length+(a-p.indexOf("."))):n(p,a)}if(o.indexOf(":")>-1){var f=Math.ceil(t);if(o.indexOf("hh")>-1)return e(f);var d=Math.floor(f/60),g=f%60;return n(d,2)+":"+n(g,2)}return n(Math.ceil(t),a)}t.FORMAT_HHMMSS="hh:mm:ss",t.FORMAT_MMSS="mm:ss",t.secondsToTime=e,t.replaceAdMessagePlaceholders=o}(n.StringUtils||(n.StringUtils={}))},{}],81:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){this.player=t,this.listElement=e,this.bindSelectionEvent(),this.bindPlayerEvents(),this.updateSubtitles()}return t.prototype.bindSelectionEvent=function(){var t=this;this.listElement.onItemSelected.subscribe(function(e,n){t.player.setSubtitle("null"===n?null:n)})},t.prototype.bindPlayerEvents=function(){var t=this,e=function(){return t.updateSubtitles()};this.player.addEventHandler(this.player.EVENT.ON_SUBTITLE_ADDED,e),this.player.addEventHandler(this.player.EVENT.ON_SUBTITLE_CHANGED,function(){t.selectCurrentSubtitle()}),this.player.addEventHandler(this.player.EVENT.ON_SUBTITLE_REMOVED,e),this.player.addEventHandler(this.player.EVENT.ON_SOURCE_UNLOADED,e),this.player.addEventHandler(this.player.EVENT.ON_READY,e),this.player.addEventHandler(this.player.EVENT.ON_PERIOD_SWITCHED,e)},t.prototype.updateSubtitles=function(){this.listElement.clearItems();for(var t=0,e=this.player.getAvailableSubtitles();t<e.length;t++){var n=e[t];this.listElement.addItem(n.id,n.label)}this.selectCurrentSubtitle()},t.prototype.selectCurrentSubtitle=function(){var t=this.player.getSubtitle();t&&this.listElement.selectItem(t.id)},t}();n.SubtitleSwitchHandler=o},{}],82:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.delay=t,this.callback=e,this.repeat=n,this.timeoutHandle=0}return t.prototype.start=function(){return this.reset(),this},t.prototype.clear=function(){this.clearInternal()},t.prototype.reset=function(){var t=this,e=0,n=0;this.clearInternal();var o=function(){if(t.callback(),t.repeat){var i=Date.now(),r=i-e;n=t.delay-r+n,e=i,t.timeoutHandle=setTimeout(o,t.delay+n)}};e=Date.now(),this.timeoutHandle=setTimeout(o,this.delay)},t.prototype.clearInternal=function(){clearTimeout(this.timeoutHandle)},t}();n.Timeout=o},{}],83:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./components/uicontainer"),s=t("./dom"),a=t("./components/container"),l=t("./components/playbacktogglebutton"),c=t("./components/fullscreentogglebutton"),u=t("./components/vrtogglebutton"),p=t("./components/volumetogglebutton"),f=t("./components/seekbar"),d=t("./components/playbacktimelabel"),g=t("./components/controlbar"),h=t("./eventdispatcher"),m=t("./components/settingstogglebutton"),v=t("./components/settingspanel"),y=t("./components/subtitlesettings/subtitlesettingspanel"),b=t("./components/subtitlesettings/subtitlesettingslabel"),E=t("./components/subtitlesettings/subtitlesettingsopenbutton"),_=t("./components/videoqualityselectbox"),C=t("./components/watermark"),S=t("./components/audioqualityselectbox"),O=t("./components/audiotrackselectbox"),w=t("./components/seekbarlabel"),P=t("./components/volumeslider"),T=t("./components/subtitleselectbox"),k=t("./components/subtitleoverlay"),A=t("./components/volumecontrolbutton"),I=t("./components/casttogglebutton"),N=t("./components/caststatusoverlay"),x=t("./components/errormessageoverlay"),D=t("./components/titlebar"),M=t("./components/recommendationoverlay"),B=t("./components/admessagelabel"),H=t("./components/adskipbutton"),L=t("./components/adclickoverlay"),U=t("./components/playbackspeedselectbox"),V=t("./components/bufferingoverlay"),j=t("./components/castuicontainer"),R=t("./components/playbacktoggleoverlay"),F=t("./components/closebutton"),W=t("./components/metadatalabel"),Y=t("./components/label"),G=t("./components/airplaytogglebutton"),Q=t("./components/pictureinpicturetogglebutton"),z=t("./components/spacer"),K=t("./uiutils"),q=t("./arrayutils"),X=t("./browserutils"),Z=t("./playerutils"),J=t("./volumecontroller"),$=function(){function t(t,e,n){void 0===n&&(n={});var o=this;if(this.events={onUiVariantResolve:new h.EventDispatcher},e instanceof r.UIContainer){var a=e,l=[];l.push({ui:a}),this.uiVariants=l}else this.uiVariants=e;this.player=t,this.managerPlayerWrapper=new nt(t),this.config=i({playbackSpeedSelectionEnabled:!0,autoUiVariantResolve:!0},n,{events:{onUpdated:new h.EventDispatcher},volumeController:new J.VolumeController(this.managerPlayerWrapper.getPlayer())});var c=function(){var e=t.getConfig().source||{},r=i({},n);r.metadata=r.metadata||{};var s={metadata:{title:e.title,description:e.description,markers:e.markers},recommendations:e.recommendations};o.config.metadata=o.config.metadata||{},o.config.metadata.title=s.metadata.title||r.metadata.title,o.config.metadata.description=s.metadata.description||r.metadata.description,o.config.metadata.markers=s.metadata.markers||r.metadata.markers||[],o.config.recommendations=s.recommendations||r.recommendations||[]};c(),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_SOURCE_LOADED,function(){c(),o.config.events.onUpdated.dispatch(o)}),n.container?this.uiContainerElement=(n.container,HTMLElement,new s.DOM(n.container)):this.uiContainerElement=new s.DOM(t.getFigure()),this.uiInstanceManagers=[];for(var u=[],p=0,f=this.uiVariants;p<f.length;p++){var d=f[p];null==d.condition&&u.push(d),this.uiInstanceManagers.push(new et(t,d.ui,this.config))}if(u.length>1)throw Error("Too many UIs without a condition: You cannot have more than one default UI");if(u.length>0&&u[0]!==this.uiVariants[this.uiVariants.length-1])throw Error("Invalid UI variant order: the default UI (without condition) must be at the end of the list");var g=null,m=function(e){if(null!=e)switch(e.type){case t.EVENT.ON_AD_STARTED:g=e;break;case t.EVENT.ON_AD_FINISHED:case t.EVENT.ON_AD_SKIPPED:case t.EVENT.ON_AD_ERROR:g=null;break;case t.EVENT.ON_READY:g&&!t.isAd()&&(g=null)}var n=null!=g,i=n&&"vast"===g.clientType;o.resolveUiVariant({isAd:n,isAdWithUI:i,adClientType:n?g.clientType:null},function(t){t.isAd&&o.currentUi.getWrappedPlayer().fireEventInUI(o.player.EVENT.ON_AD_STARTED,g)})};this.config.autoUiVariantResolve&&(this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_READY,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAY,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PAUSED,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER,m),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT,m)),m(null)}return t.prototype.getConfig=function(){return this.config},t.prototype.getUiVariants=function(){return this.uiVariants},t.prototype.switchToUiVariant=function(t,e){var n=this.uiVariants.indexOf(t),o=this.uiInstanceManagers[n],i=!1;o!==this.currentUi&&(i=!0),i&&(this.currentUi&&this.currentUi.getUI().hide(),this.currentUi=o,null!=this.currentUi&&(this.currentUi.isConfigured()||this.addUi(this.currentUi),e&&e(),this.currentUi.getUI().show()))},t.prototype.resolveUiVariant=function(t,e){void 0===t&&(t={});var n={isAd:!1,isAdWithUI:!1,adClientType:null,isFullscreen:this.player.isFullscreen(),isMobile:X.BrowserUtils.isMobile,isPlaying:this.player.isPlaying(),width:this.uiContainerElement.width(),documentWidth:document.body.clientWidth},o=i({},n,t);this.events.onUiVariantResolve.dispatch(this,o);for(var r=null,s=0,a=this.uiVariants;s<a.length;s++){var l=a[s];if(null==l.condition||!0===l.condition(o)){r=l;break}}this.switchToUiVariant(r,function(){e&&e(o)})},t.prototype.addUi=function(t){var e=t.getUI().getDomElement(),n=t.getWrappedPlayer();t.configureControls(),this.uiContainerElement.append(e),n.isReady()&&n.fireEventInUI(n.EVENT.ON_READY,{}),window.requestAnimationFrame?requestAnimationFrame(function(){t.onConfigured.dispatch(t.getUI())}):setTimeout(function(){t.onConfigured.dispatch(t.getUI())},0)},t.prototype.releaseUi=function(t){t.releaseControls(),t.getUI().getDomElement().remove(),t.clearEventHandlers()},t.prototype.release=function(){for(var t=0,e=this.uiInstanceManagers;t<e.length;t++){var n=e[t];this.releaseUi(n)}this.managerPlayerWrapper.clearEventHandlers()},Object.defineProperty(t.prototype,"onUiVariantResolve",{get:function(){return this.events.onUiVariantResolve},enumerable:!0,configurable:!0}),t.prototype.getTimelineMarkers=function(){return this.config.metadata.markers},t.prototype.addTimelineMarker=function(t){this.config.metadata.markers.push(t),this.config.events.onUpdated.dispatch(this)},t.prototype.removeTimelineMarker=function(t){return q.ArrayUtils.remove(this.config.metadata.markers,t)===t&&(this.config.events.onUpdated.dispatch(this),!0)},t}();n.UIManager=$,function(t){!function(e){function n(e,n){return void 0===n&&(n={}),t.Factory.buildModernUI(e,n)}function o(e,n){
return void 0===n&&(n={}),t.Factory.buildModernCastReceiverUI(e,n)}function i(e,n){return void 0===n&&(n={}),t.Factory.buildModernCastReceiverUI(e,n)}function s(){var t=new k.SubtitleOverlay,e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new _.VideoQualitySelectBox),new v.SettingsPanelItem("Speed",new U.PlaybackSpeedSelectBox),new v.SettingsPanelItem("Audio Track",new O.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new S.AudioQualitySelectBox)],hidden:!0}),n=new y.SubtitleSettingsPanel({hidden:!0,overlay:t,settingsPanel:e}),o=new E.SubtitleSettingsOpenButton({subtitleSettingsPanel:n,settingsPanel:e});e.addComponent(new v.SettingsPanelItem(new b.SubtitleSettingsLabel({text:"Subtitles",opener:o}),new T.SubtitleSelectBox));var i=new g.ControlBar({components:[e,n,new a.Container({components:[new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new f.SeekBar({label:new w.SeekBarLabel}),new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new a.Container({components:[new l.PlaybackToggleButton,new p.VolumeToggleButton,new P.VolumeSlider,new z.Spacer,new Q.PictureInPictureToggleButton,new G.AirPlayToggleButton,new I.CastToggleButton,new u.VRToggleButton,new m.SettingsToggleButton({settingsPanel:e}),new c.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new r.UIContainer({components:[t,new V.BufferingOverlay,new R.PlaybackToggleOverlay,new N.CastStatusOverlay,i,new D.TitleBar,new M.RecommendationOverlay,new C.Watermark,new x.ErrorMessageOverlay],cssClasses:["ui-skin-modern"]})}function h(){return new r.UIContainer({components:[new V.BufferingOverlay,new L.AdClickOverlay,new R.PlaybackToggleOverlay,new a.Container({components:[new B.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new H.AdSkipButton],cssClass:"ui-ads-status"}),new g.ControlBar({components:[new a.Container({components:[new l.PlaybackToggleButton,new p.VolumeToggleButton,new P.VolumeSlider,new z.Spacer,new c.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]})],cssClasses:["ui-skin-modern","ui-skin-ads"]})}function K(){var t=new k.SubtitleOverlay,e=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new _.VideoQualitySelectBox),new v.SettingsPanelItem("Speed",new U.PlaybackSpeedSelectBox),new v.SettingsPanelItem("Audio Track",new O.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new S.AudioQualitySelectBox)],hidden:!0,hideDelay:-1}),n=new y.SubtitleSettingsPanel({hidden:!0,hideDelay:-1,overlay:t,settingsPanel:e}),o=new E.SubtitleSettingsOpenButton({subtitleSettingsPanel:n,settingsPanel:e});e.addComponent(new v.SettingsPanelItem(new b.SubtitleSettingsLabel({text:"Subtitles",opener:o}),new T.SubtitleSelectBox)),e.addComponent(new F.CloseButton({target:e})),n.addComponent(new F.CloseButton({target:n}));var i=new g.ControlBar({components:[new a.Container({components:[new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new f.SeekBar({label:new w.SeekBarLabel}),new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new r.UIContainer({components:[t,new V.BufferingOverlay,new N.CastStatusOverlay,new R.PlaybackToggleOverlay,new M.RecommendationOverlay,i,new D.TitleBar({components:[new W.MetadataLabel({content:W.MetadataLabelContent.Title}),new I.CastToggleButton,new u.VRToggleButton,new Q.PictureInPictureToggleButton,new G.AirPlayToggleButton,new p.VolumeToggleButton,new m.SettingsToggleButton({settingsPanel:e}),new c.FullscreenToggleButton]}),e,n,new C.Watermark,new x.ErrorMessageOverlay],cssClasses:["ui-skin-modern","ui-skin-smallscreen"],hidePlayerStateExceptions:[Z.PlayerUtils.PlayerState.FINISHED]})}function q(){return new r.UIContainer({components:[new V.BufferingOverlay,new L.AdClickOverlay,new R.PlaybackToggleOverlay,new D.TitleBar({components:[new Y.Label({cssClass:"label-metadata-title"}),new c.FullscreenToggleButton]}),new a.Container({components:[new B.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new H.AdSkipButton],cssClass:"ui-ads-status"})],cssClasses:["ui-skin-modern","ui-skin-ads","ui-skin-smallscreen"]})}function X(){var t=new g.ControlBar({components:[new a.Container({components:[new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new f.SeekBar({smoothPlaybackPositionUpdateIntervalMs:-1}),new d.PlaybackTimeLabel({timeLabelMode:d.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new j.CastUIContainer({components:[new k.SubtitleOverlay,new V.BufferingOverlay,new R.PlaybackToggleOverlay,new C.Watermark,t,new D.TitleBar({keepHiddenWithoutMetadata:!0}),new x.ErrorMessageOverlay],cssClasses:["ui-skin-modern","ui-skin-cast-receiver"]})}function J(e,n){void 0===n&&(n={});return new t(e,[{ui:q(),condition:function(t){return t.isMobile&&t.documentWidth<600&&t.isAdWithUI}},{ui:h(),condition:function(t){return t.isAdWithUI}},{ui:K(),condition:function(t){return t.isMobile&&t.documentWidth<600}},{ui:s()}],n)}function $(e,n){return void 0===n&&(n={}),new t(e,[{ui:q(),condition:function(t){return t.isAdWithUI}},{ui:K()}],n)}function tt(e,n){return void 0===n&&(n={}),new t(e,X(),n)}function et(){var t=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new _.VideoQualitySelectBox),new v.SettingsPanelItem("Audio Track",new O.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new S.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new T.SubtitleSelectBox)],hidden:!0}),e=new g.ControlBar({components:[t,new l.PlaybackToggleButton,new f.SeekBar({label:new w.SeekBarLabel}),new d.PlaybackTimeLabel,new u.VRToggleButton,new A.VolumeControlButton,new m.SettingsToggleButton({settingsPanel:t}),new I.CastToggleButton,new c.FullscreenToggleButton]});return new r.UIContainer({components:[new k.SubtitleOverlay,new N.CastStatusOverlay,new R.PlaybackToggleOverlay,new C.Watermark,new M.RecommendationOverlay,e,new D.TitleBar,new x.ErrorMessageOverlay],cssClasses:["ui-skin-legacy"]})}function nt(){return new r.UIContainer({components:[new L.AdClickOverlay,new g.ControlBar({components:[new l.PlaybackToggleButton,new B.AdMessageLabel,new A.VolumeControlButton,new c.FullscreenToggleButton]}),new H.AdSkipButton],cssClasses:["ui-skin-legacy","ui-skin-ads"]})}function ot(){var t=new g.ControlBar({components:[new f.SeekBar,new d.PlaybackTimeLabel]});return new r.UIContainer({components:[new k.SubtitleOverlay,new R.PlaybackToggleOverlay,new C.Watermark,t,new D.TitleBar,new x.ErrorMessageOverlay],cssClasses:["ui-skin-legacy","ui-skin-cast-receiver"]})}function it(){var t=new v.SettingsPanel({components:[new v.SettingsPanelItem("Video Quality",new _.VideoQualitySelectBox),new v.SettingsPanelItem("Audio Track",new O.AudioTrackSelectBox),new v.SettingsPanelItem("Audio Quality",new S.AudioQualitySelectBox),new v.SettingsPanelItem("Subtitles",new T.SubtitleSelectBox)],hidden:!0}),e=new g.ControlBar({components:[t,new l.PlaybackToggleButton,new f.SeekBar({label:new w.SeekBarLabel}),new d.PlaybackTimeLabel,new u.VRToggleButton,new p.VolumeToggleButton,new P.VolumeSlider,new A.VolumeControlButton,new A.VolumeControlButton({vertical:!1}),new m.SettingsToggleButton({settingsPanel:t}),new I.CastToggleButton,new c.FullscreenToggleButton]});return new r.UIContainer({components:[new k.SubtitleOverlay,new N.CastStatusOverlay,new R.PlaybackToggleOverlay,new C.Watermark,new M.RecommendationOverlay,e,new D.TitleBar,new x.ErrorMessageOverlay],cssClasses:["ui-skin-legacy"]})}function rt(e,n){return void 0===n&&(n={}),new t(e,[{ui:nt(),condition:function(t){return t.isAdWithUI}},{ui:et()}],n)}function st(e,n){return void 0===n&&(n={}),new t(e,ot(),n)}function at(e,n){return void 0===n&&(n={}),new t(e,it(),n)}e.buildDefaultUI=n,e.buildDefaultSmallScreenUI=o,e.buildDefaultCastReceiverUI=i,e.modernAdsUI=h,e.modernSmallScreenUI=K,e.modernSmallScreenAdsUI=q,e.modernCastReceiverUI=X,e.buildModernUI=J,e.buildModernSmallScreenUI=$,e.buildModernCastReceiverUI=tt,e.buildLegacyUI=rt,e.buildLegacyCastReceiverUI=st,e.buildLegacyTestUI=at}(t.Factory||(t.Factory={}))}($=n.UIManager||(n.UIManager={})),n.UIManager=$;var tt=function(){function t(t,e,n){this.events={onConfigured:new h.EventDispatcher,onSeek:new h.EventDispatcher,onSeekPreview:new h.EventDispatcher,onSeeked:new h.EventDispatcher,onComponentShow:new h.EventDispatcher,onComponentHide:new h.EventDispatcher,onControlsShow:new h.EventDispatcher,onPreviewControlsHide:new h.EventDispatcher,onControlsHide:new h.EventDispatcher,onRelease:new h.EventDispatcher},this.playerWrapper=new nt(t),this.ui=e,this.config=n}return t.prototype.getConfig=function(){return this.config},t.prototype.getUI=function(){return this.ui},t.prototype.getPlayer=function(){return this.playerWrapper.getPlayer()},Object.defineProperty(t.prototype,"onConfigured",{get:function(){return this.events.onConfigured},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeek",{get:function(){return this.events.onSeek},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeekPreview",{get:function(){return this.events.onSeekPreview},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeeked",{get:function(){return this.events.onSeeked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onComponentShow",{get:function(){return this.events.onComponentShow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onComponentHide",{get:function(){return this.events.onComponentHide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onControlsShow",{get:function(){return this.events.onControlsShow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPreviewControlsHide",{get:function(){return this.events.onPreviewControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onControlsHide",{get:function(){return this.events.onControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRelease",{get:function(){return this.events.onRelease},enumerable:!0,configurable:!0}),t.prototype.clearEventHandlers=function(){this.playerWrapper.clearEventHandlers();var t=this.events;for(var e in t){t[e].unsubscribeAll()}},t}();n.UIInstanceManager=tt;var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getWrappedPlayer=function(){return this.getPlayer()},e.prototype.configureControls=function(){this.configureControlsTree(this.getUI()),this.configured=!0},e.prototype.isConfigured=function(){return this.configured},e.prototype.configureControlsTree=function(t){var e=this,n=[];K.UIUtils.traverseTree(t,function(t){for(var o=0,i=n;o<i.length;o++){if(i[o]===t)throw console&&console.error("Circular reference in UI tree",t),Error("Circular reference in UI tree: "+t.constructor.name)}t.initialize(),t.configure(e.getPlayer(),e),n.push(t)})},e.prototype.releaseControls=function(){this.configured&&(this.onRelease.dispatch(this.getUI()),this.releaseControlsTree(this.getUI()),this.configured=!1),this.released=!0},e.prototype.isReleased=function(){return this.released},e.prototype.releaseControlsTree=function(t){if(t.release(),t instanceof a.Container)for(var e=0,n=t.getComponents();e<n.length;e++){var o=n[e];this.releaseControlsTree(o)}},e.prototype.clearEventHandlers=function(){t.prototype.clearEventHandlers.call(this)},e}(tt),nt=function(){function t(t){var e=this;this.eventHandlers={},this.player=t;var n=[];for(var o in t)n.push(o);for(var i=[],r=[],s=0,a=n;s<a.length;s++){var o=a[s];"function"==typeof t[o]?i.push(o):r.push(o)}for(var l={},c=0,u=i;c<u.length;c++){var p=u[c];!function(e){l[e]=function(){return t[e].apply(t,arguments)}}(p)}for(var f=0,d=r;f<d.length;f++){var g=d[f];!function(e){var n=Object.getOwnPropertyDescriptor(t,e)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),e);n&&(n.get||n.set)?Object.defineProperty(l,e,{get:function(){return n.get.call(t)},set:function(e){return n.set.call(t,e)}}):l[e]=t[e]}(g)}l.addEventHandler=function(n,o){return t.on?t.on(n,o):t.addEventHandler(n,o),e.eventHandlers[n]||(e.eventHandlers[n]=[]),e.eventHandlers[n].push(o),l},l.removeEventHandler=function(n,o){return t.off?t.off(n,o):t.removeEventHandler(n,o),e.eventHandlers[n]&&q.ArrayUtils.remove(e.eventHandlers[n],o),l},l.fireEventInUI=function(t,n){if(e.eventHandlers[t])for(var o=Object.assign({},{timestamp:Date.now(),type:t,uiSourced:!0},n),i=0,r=e.eventHandlers[t];i<r.length;i++){var s=r[i];s(o)}},this.wrapper=l}return t.prototype.getPlayer=function(){return this.wrapper},t.prototype.clearEventHandlers=function(){for(var t in this.eventHandlers)for(var e=0,n=this.eventHandlers[t];e<n.length;e++){var o=n[e];this.player.removeEventHandler(t,o)}},t}()},{"./arrayutils":1,"./browserutils":3,"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/closebutton":17,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":21,"./components/fullscreentogglebutton":22,"./components/label":26,"./components/metadatalabel":29,"./components/pictureinpicturetogglebutton":30,"./components/playbackspeedselectbox":31,"./components/playbacktimelabel":32,"./components/playbacktogglebutton":33,"./components/playbacktoggleoverlay":34,"./components/recommendationoverlay":35,"./components/seekbar":36,"./components/seekbarlabel":37,"./components/settingspanel":39,"./components/settingstogglebutton":40,"./components/spacer":41,"./components/subtitleoverlay":43,"./components/subtitleselectbox":44,"./components/subtitlesettings/subtitlesettingslabel":55,"./components/subtitlesettings/subtitlesettingsopenbutton":57,"./components/subtitlesettings/subtitlesettingspanel":58,"./components/titlebar":62,"./components/uicontainer":65,"./components/videoqualityselectbox":66,"./components/volumecontrolbutton":67,"./components/volumeslider":68,"./components/volumetogglebutton":69,"./components/vrtogglebutton":70,"./components/watermark":71,"./dom":73,"./eventdispatcher":74,"./playerutils":78,"./uiutils":84,"./volumecontroller":85}],84:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./components/container");!function(t){function e(t,e){var n=function(t,i){if(e(t,i),t instanceof o.Container)for(var r=0,s=t.getComponents();r<s.length;r++){var a=s[r];n(a,t)}};n(t)}t.traverseTree=e}(n.UIUtils||(n.UIUtils={}))},{"./components/container":19}],85:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./eventdispatcher"),i=function(){function t(t){var e=this;this.player=t,this.events={onChanged:new o.EventDispatcher},this.storeVolume();var n=function(){e.onChangedEvent()};t.addEventHandler(t.EVENT.ON_READY,n),t.addEventHandler(t.EVENT.ON_VOLUME_CHANGED,n),t.addEventHandler(t.EVENT.ON_MUTED,n),t.addEventHandler(t.EVENT.ON_UNMUTED,n)}return t.prototype.setVolume=function(e){this.player.setVolume(e,t.issuerName)},t.prototype.getVolume=function(){return this.player.getVolume()},t.prototype.setMuted=function(e){e?this.player.mute(t.issuerName):this.player.unmute(t.issuerName)},t.prototype.toggleMuted=function(){this.isMuted()||0===this.getVolume()?this.recallVolume():this.setMuted(!0)},t.prototype.isMuted=function(){return this.player.isMuted()},t.prototype.storeVolume=function(){this.storedVolume=this.getVolume()},t.prototype.recallVolume=function(){this.setVolume(this.storedVolume)},t.prototype.startTransition=function(){return new r(this)},t.prototype.onChangedEvent=function(){var t=this.isMuted(),e=this.getVolume(),n=t||0===e,o=t?0:e;this.events.onChanged.dispatch(this,{volume:o,muted:n})},Object.defineProperty(t.prototype,"onChanged",{get:function(){return this.events.onChanged.getEvent()},enumerable:!0,configurable:!0}),t.issuerName="ui-volumecontroller",t}();n.VolumeController=i;var r=function(){function t(t){this.controller=t,t.storeVolume()}return t.prototype.update=function(t){this.controller.setVolume(t)},t.prototype.finish=function(t){0===t?(this.controller.recallVolume(),this.controller.setMuted(!0)):(this.controller.setVolume(t),this.controller.storeVolume())},t}();n.VolumeTransition=r},{"./eventdispatcher":74}]},{},[77])(77)});
//# sourceMappingURL=bitmovinplayer-ui.min.js.map
