!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.bitmovin||(t.bitmovin={})).playerui=e()}}(function(){return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(e,t){var n=e.indexOf(t);return n>-1?e.splice(n,1)[0]:null}e.remove=t}(n.ArrayUtils||(n.ArrayUtils={}))},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){var o=this;this.addAudioTrack=function(e){var t=e.track;o.listElement.hasItem(t.id)||o.listElement.addItem(t.id,t.label)},this.removeAudioTrack=function(e){var t=e.track;o.listElement.hasItem(t.id)&&o.listElement.removeItem(t.id)},this.selectCurrentAudioTrack=function(){var e=o.player.getAudio();e&&o.listElement.selectItem(e.id)},this.refreshAudioTracks=function(){var e=o.player.getAvailableAudio(),t=function(e){return{key:e.id,label:e.label}};o.listElement.synchronizeItems(e.map(t))},this.player=e,this.listElement=t,this.uimanager=n,this.bindSelectionEvent(),this.bindPlayerEvents(),this.refreshAudioTracks(),this.selectCurrentAudioTrack()}return e.prototype.bindSelectionEvent=function(){var e=this;this.listElement.onItemSelected.subscribe(function(t,n){e.player.setAudio(n)})},e.prototype.bindPlayerEvents=function(){this.player.on(this.player.exports.PlayerEvent.AudioChanged,this.selectCurrentAudioTrack),this.player.on(this.player.exports.PlayerEvent.SourceUnloaded,this.refreshAudioTracks),this.player.on(this.player.exports.PlayerEvent.PeriodSwitched,this.refreshAudioTracks),this.player.on(this.player.exports.PlayerEvent.AudioAdded,this.addAudioTrack),this.player.on(this.player.exports.PlayerEvent.AudioRemoved,this.removeAudioTrack),this.uimanager.getConfig().events.onUpdated.subscribe(this.refreshAudioTracks)},e}();n.AudioTrackSwitchHandler=o},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"isMobile",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Mobi/.test(navigator.userAgent))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isChrome",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Chrome/.test(navigator.userAgent))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return!!this.windowExists()&&(navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent))},enumerable:!0,configurable:!0}),e.windowExists=function(){return"undefined"!=typeof window},e}();n.BrowserUtils=o},{}],4:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./clickoverlay"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=null;t.on(t.exports.PlayerEvent.AdStarted,function(e){var t=e.ad;o.setUrl(t.clickThroughUrl),i=t.clickThroughUrlOpened});var r=function(){o.setUrl(null)};t.on(t.exports.PlayerEvent.AdFinished,r),t.on(t.exports.PlayerEvent.AdSkipped,r),t.on(t.exports.PlayerEvent.AdError,r),this.onClick.subscribe(function(){t.pause("ui-ad-click-overlay"),i&&i()})},t}(i.ClickOverlay);n.AdClickOverlay=r},{"./clickoverlay":16}],5:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./label"),r=e("../stringutils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-label-ad-message",text:"This ad will end in {remainingTime} seconds."},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=i.text,a=function(){o.setText(r.StringUtils.replaceAdMessagePlaceholders(s,null,t))},c=function(e){var n=e.ad.uiConfig;s=n&&n.message||i.text,a(),t.on(t.exports.PlayerEvent.TimeChanged,a)},l=function(){t.off(t.exports.PlayerEvent.TimeChanged,a)};t.on(t.exports.PlayerEvent.AdStarted,c),t.on(t.exports.PlayerEvent.AdSkipped,l),t.on(t.exports.PlayerEvent.AdError,l),t.on(t.exports.PlayerEvent.AdFinished,l)},t}(i.Label);n.AdMessageLabel=s},{"../stringutils":84,"./label":27}],6:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../stringutils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-button-ad-skip",untilSkippableMessage:"Skip ad in {remainingTime}",skippableMessage:"Skip ad"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=i.untilSkippableMessage,a=i.skippableMessage,c=-1,l=function(){o.show(),t.getCurrentTime()<c?(o.setText(r.StringUtils.replaceAdMessagePlaceholders(s,c,t)),o.disable()):(o.setText(a),o.enable())},u=function(e){var n=e.ad;c=n.skippableAfter,s=n.uiConfig&&n.uiConfig.untilSkippableMessage||i.untilSkippableMessage,a=n.uiConfig&&n.uiConfig.skippableMessage||i.skippableMessage,"number"==typeof c&&c>=0?(l(),t.on(t.exports.PlayerEvent.TimeChanged,l)):o.hide()},p=function(){t.off(t.exports.PlayerEvent.TimeChanged,l)};t.on(t.exports.PlayerEvent.AdStarted,u),t.on(t.exports.PlayerEvent.AdSkipped,p),t.on(t.exports.PlayerEvent.AdError,p),t.on(t.exports.PlayerEvent.AdFinished,p),this.onClick.subscribe(function(){t.ads.skip()})},t}(i.Button);n.AdSkipButton=s},{"../stringutils":84,"./button":12}],7:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-airplaytogglebutton",text:"Apple AirPlay"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;if(e.prototype.configure.call(this,t,n),!t.isAirplayAvailable)return void this.hide();this.onClick.subscribe(function(){t.isAirplayAvailable()?t.showAirplayTargetPicker():console&&console.log("AirPlay unavailable")});var i=function(){t.isAirplayAvailable()?o.show():o.hide()},r=function(){t.isAirplayActive()?o.on():o.off()};t.on(t.exports.PlayerEvent.AirplayAvailable,i),t.on(t.exports.PlayerEvent.AirplayChanged,r),i(),r()},t}(i.ToggleButton);n.AirPlayToggleButton=r},{"./togglebutton":66}],8:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-audioqualityselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){o.selectItem(t.getAudioQuality().id)},r=function(){var e=t.getAvailableAudioQualities();o.clearItems(),o.addItem("auto","auto");for(var n=0,r=e;n<r.length;n++){var s=r[n];o.addItem(s.id,s.label)}i()};this.onItemSelected.subscribe(function(e,n){t.setAudioQuality(n)}),t.on(t.exports.PlayerEvent.AudioChanged,r),t.on(t.exports.PlayerEvent.SourceUnloaded,r),t.on(t.exports.PlayerEvent.PeriodSwitched,r),t.on(t.exports.PlayerEvent.AudioQualityChanged,i),t.exports.PlayerEvent.AudioQualityAdded&&(t.on(t.exports.PlayerEvent.AudioQualityAdded,r),t.on(t.exports.PlayerEvent.AudioQualityRemoved,r)),n.getConfig().events.onUpdated.subscribe(r)},t}(i.SelectBox);n.AudioQualitySelectBox=r},{"./selectbox":39}],9:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./listbox"),r=e("../audiotrackutils"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new r.AudioTrackSwitchHandler(t,this,n)},t}(i.ListBox);n.AudioTrackListBox=s},{"../audiotrackutils":2,"./listbox":28}],10:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=e("../audiotrackutils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-audiotrackselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new r.AudioTrackSwitchHandler(t,this,n)},t}(i.SelectBox);n.AudioTrackSelectBox=s},{"../audiotrackutils":2,"./selectbox":39}],11:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./component"),s=e("../timeout"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.indicators=[new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new r.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"})],n.config=n.mergeConfig(t,{cssClass:"ui-buffering-overlay",hidden:!0,components:n.indicators,showDelayMs:1e3},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=new s.Timeout(i.showDelayMs,function(){o.show()}),a=function(){r.start()},c=function(){r.clear(),o.hide()};t.on(t.exports.PlayerEvent.StallStarted,a),t.on(t.exports.PlayerEvent.StallEnded,c),t.on(t.exports.PlayerEvent.Play,a),t.on(t.exports.PlayerEvent.Playing,c),t.on(t.exports.PlayerEvent.Paused,c),t.on(t.exports.PlayerEvent.Seek,a),t.on(t.exports.PlayerEvent.Seeked,c),t.on(t.exports.PlayerEvent.TimeShift,a),t.on(t.exports.PlayerEvent.TimeShifted,c),t.on(t.exports.PlayerEvent.SourceUnloaded,c),t.isStalled()&&this.show()},t}(i.Container);n.BufferingOverlay=a},{"../timeout":86,"./component":18,"./container":19}],12:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.buttonEvents={onClick:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-button"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("button",{type:"button",id:this.config.id,class:this.getCssClasses()}).append(new r.DOM("span",{class:this.prefixCss("label")}).html(this.config.text));return t.on("click",function(){e.onClickEvent()}),t},t.prototype.setText=function(e){this.getDomElement().find("."+this.prefixCss("label")).html(e)},t.prototype.onClickEvent=function(){this.buttonEvents.onClick.dispatch(this)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.buttonEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.Button=a},{"../dom":76,"../eventdispatcher":78,"./component":18}],13:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.statusLabel=new r.Label({cssClass:"ui-cast-status-label"}),n.config=n.mergeConfig(t,{cssClass:"ui-cast-status-overlay",components:[n.statusLabel],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),t.on(t.exports.PlayerEvent.CastWaitingForDevice,function(e){o.show();var t=e.castPayload.deviceName;o.statusLabel.setText("Connecting to <strong>"+t+"</strong>...")}),t.on(t.exports.PlayerEvent.CastStarted,function(e){o.show();var t=e.deviceName;o.statusLabel.setText("Playing on <strong>"+t+"</strong>")}),t.on(t.exports.PlayerEvent.CastStopped,function(e){o.hide()})},t}(i.Container);n.CastStatusOverlay=s},{"./container":19,"./label":27}],14:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-casttogglebutton",text:"Google Cast"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isCastAvailable()?t.isCasting()?t.castStop():t.castVideo():console&&console.log("Cast unavailable")});var i=function(){t.isCastAvailable()?o.show():o.hide()};t.on(t.exports.PlayerEvent.CastAvailable,i),t.on(t.exports.PlayerEvent.CastWaitingForDevice,function(){o.on()}),t.on(t.exports.PlayerEvent.CastStarted,function(){o.on()}),t.on(t.exports.PlayerEvent.CastStopped,function(){o.off()}),i(),t.isCasting()&&this.on()},t}(i.ToggleButton);n.CastToggleButton=r},{"./togglebutton":66}],15:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./uicontainer"),r=e("../timeout"),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),s=!1,a=function(){n.onControlsHide.dispatch(o),s=!1};this.castUiHideTimeout=new r.Timeout(i.hideDelay,a);var c=function(){s||(n.onControlsShow.dispatch(o),s=!0)},l=function(){c(),o.castUiHideTimeout.clear()},u=function(){c(),o.castUiHideTimeout.start()},p=function(){t.isPlaying()?u():l()};t.on(t.exports.PlayerEvent.Play,u),t.on(t.exports.PlayerEvent.Paused,l),t.on(t.exports.PlayerEvent.Seek,l),t.on(t.exports.PlayerEvent.Seeked,p),n.getConfig().events.onUpdated.subscribe(u)},t.prototype.release=function(){e.prototype.release.call(this),this.castUiHideTimeout.clear()},t}(i.UIContainer);n.CastUIContainer=s},{"../timeout":86,"./uicontainer":68}],16:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-clickoverlay"},n.config),n}return o(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.setUrl(this.config.url);var t=this.getDomElement();t.on("click",function(){t.data("url")&&window.open(t.data("url"),"_blank")})},t.prototype.getUrl=function(){return this.getDomElement().data("url")},t.prototype.setUrl=function(e){void 0!==e&&null!=e||(e=""),this.getDomElement().data("url",e)},t}(i.Button);n.ClickOverlay=r},{"./button":12}],17:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-closebutton",text:"Close"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n);var o=this.getConfig();this.onClick.subscribe(function(){o.target.hide()})},t}(i.Button);n.CloseButton=r},{"./button":12}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../guid"),i=e("../dom"),r=e("../eventdispatcher"),s=function(){function e(e){void 0===e&&(e={}),this.componentEvents={onShow:new r.EventDispatcher,onHide:new r.EventDispatcher,onHoverChanged:new r.EventDispatcher,onEnabled:new r.EventDispatcher,onDisabled:new r.EventDispatcher},this.config=this.mergeConfig(e,{tag:"div",id:"bmpui-id-"+o.Guid.next(),cssPrefix:"bmpui",cssClass:"ui-component",cssClasses:[],hidden:!1,disabled:!1},{})}return e.prototype.initialize=function(){this.hidden=this.config.hidden,this.disabled=this.config.disabled,this.isHidden()&&(this.hidden=!1,this.hide()),this.isDisabled()&&(this.disabled=!1,this.disable())},e.prototype.configure=function(e,t){var n=this;this.onShow.subscribe(function(){t.onComponentShow.dispatch(n)}),this.onHide.subscribe(function(){t.onComponentHide.dispatch(n)}),this.getDomElement().on("mouseenter",function(){n.onHoverChangedEvent(!0)}),this.getDomElement().on("mouseleave",function(){n.onHoverChangedEvent(!1)})},e.prototype.release=function(){},e.prototype.toDomElement=function(){return new i.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()})},e.prototype.getDomElement=function(){return this.element||(this.element=this.toDomElement()),this.element},e.prototype.mergeConfig=function(e,t,n){return Object.assign({},n,t,e)},e.prototype.getCssClasses=function(){var e=this,t=[this.config.cssClass].concat(this.config.cssClasses);return t=t.map(function(t){return e.prefixCss(t)}),t.join(" ").trim()},e.prototype.prefixCss=function(e){return this.config.cssPrefix+"-"+e},e.prototype.getConfig=function(){return this.config},e.prototype.hide=function(){this.hidden||(this.hidden=!0,this.getDomElement().addClass(this.prefixCss(e.CLASS_HIDDEN)),this.onHideEvent())},e.prototype.show=function(){this.hidden&&(this.getDomElement().removeClass(this.prefixCss(e.CLASS_HIDDEN)),this.hidden=!1,this.onShowEvent())},e.prototype.isHidden=function(){return this.hidden},e.prototype.isShown=function(){return!this.isHidden()},e.prototype.toggleHidden=function(){this.isHidden()?this.show():this.hide()},e.prototype.disable=function(){this.disabled||(this.disabled=!0,this.getDomElement().addClass(this.prefixCss(e.CLASS_DISABLED)),this.onDisabledEvent())},e.prototype.enable=function(){this.disabled&&(this.getDomElement().removeClass(this.prefixCss(e.CLASS_DISABLED)),this.disabled=!1,this.onEnabledEvent())},e.prototype.isDisabled=function(){return this.disabled},e.prototype.isEnabled=function(){return!this.isDisabled()},e.prototype.isHovered=function(){return this.hovered},e.prototype.onShowEvent=function(){this.componentEvents.onShow.dispatch(this)},e.prototype.onHideEvent=function(){this.componentEvents.onHide.dispatch(this)},e.prototype.onEnabledEvent=function(){this.componentEvents.onEnabled.dispatch(this)},e.prototype.onDisabledEvent=function(){this.componentEvents.onDisabled.dispatch(this)},e.prototype.onHoverChangedEvent=function(e){this.hovered=e,this.componentEvents.onHoverChanged.dispatch(this,{hovered:e})},Object.defineProperty(e.prototype,"onShow",{get:function(){return this.componentEvents.onShow.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHide",{get:function(){return this.componentEvents.onHide.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEnabled",{get:function(){return this.componentEvents.onEnabled.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDisabled",{get:function(){return this.componentEvents.onDisabled.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHoverChanged",{get:function(){return this.componentEvents.onHoverChanged.getEvent()},enumerable:!0,configurable:!0}),e.CLASS_HIDDEN="hidden",e.CLASS_DISABLED="disabled",e}();n.Component=s},{"../dom":76,"../eventdispatcher":78,"../guid":79}],19:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../arrayutils"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-container",components:[]},n.config),n.componentsToAdd=[],n.componentsToRemove=[],n}return o(t,e),t.prototype.addComponent=function(e){this.config.components.push(e),this.componentsToAdd.push(e)},t.prototype.removeComponent=function(e){return null!=s.ArrayUtils.remove(this.config.components,e)&&(this.componentsToRemove.push(e),!0)},t.prototype.getComponents=function(){return this.config.components},t.prototype.removeComponents=function(){for(var e=0,t=this.getComponents().slice();e<t.length;e++){var n=t[e];this.removeComponent(n)}},t.prototype.updateComponents=function(){for(var e;e=this.componentsToRemove.shift();)e.getDomElement().remove();for(;e=this.componentsToAdd.shift();)this.innerContainerElement.append(e.getDomElement())},t.prototype.toDomElement=function(){var e=new r.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()}),t=new r.DOM(this.config.tag,{class:this.prefixCss("container-wrapper")});this.innerContainerElement=t;for(var n=0,o=this.config.components;n<o.length;n++){var i=o[n];this.componentsToAdd.push(i)}return this.updateComponents(),e.append(t),e},t}(i.Component);n.Container=a},{"../arrayutils":1,"../dom":76,"./component":18}],20:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("../uiutils"),s=e("./spacer"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-controlbar",hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var a=0;r.UIUtils.traverseTree(this,function(e){e instanceof i.Container||e instanceof s.Spacer||e.onHoverChanged.subscribe(function(e,t){t.hovered?a++:a--})}),n.onControlsShow.subscribe(function(){o.show()}),n.onPreviewControlsHide.subscribe(function(e,t){t.cancel=a>0}),n.onControlsHide.subscribe(function(){o.hide()})},t}(i.Container);n.ControlBar=a},{"../uiutils":89,"./container":19,"./spacer":47}],21:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o={cssClass:"ui-customclosetogglebutton",text:"close"};return n.config=n.mergeConfig(t,o,n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),window.bitmovin.customMessageHandler&&(window.bitmovin.customMessageHandler.on("toggleCloseButton",function(e){o.isEnabled()?o.disable():o.enable()}),this.onClick.subscribe(function(){var e=window.bitmovin.customMessageHandler.sendSynchronous("closePlayer");console.log("Return value from native:",e),window.bitmovin.customMessageHandler.sendAsynchronous("closePlayerAsync")}))},t}(i.ToggleButton);n.CustomCloseButton=r},{"./togglebutton":66}],22:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./tvnoisecanvas"),a=e("../errorutils"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.errorLabel=new r.Label({cssClass:"ui-errormessage-label"}),n.tvNoiseBackground=new s.TvNoiseCanvas,n.config=n.mergeConfig(t,{cssClass:"ui-errormessage-overlay",components:[n.tvNoiseBackground,n.errorLabel],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig();t.on(t.exports.PlayerEvent.Error,function(e){var t=a.ErrorUtils.defaultErrorMessageTranslator(e),r=n.getConfig().errorMessages||i.messages;if(r)if("function"==typeof r)t=r(e);else if(r[e.code]){var s=r[e.code];t="string"==typeof s?s:s(e)}o.errorLabel.setText(t),o.tvNoiseBackground.start(),o.show()}),t.on(t.exports.PlayerEvent.SourceLoaded,function(e){o.isShown()&&(o.tvNoiseBackground.stop(),o.hide())})},t.prototype.release=function(){e.prototype.release.call(this),this.tvNoiseBackground.stop()},t}(i.Container);n.ErrorMessageOverlay=c},{"../errorutils":77,"./container":19,"./label":27,"./tvnoisecanvas":67}],23:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-fullscreentogglebutton",text:"Fullscreen"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){t.getViewMode()===t.exports.ViewMode.Fullscreen?o.on():o.off()};t.on(t.exports.PlayerEvent.ViewModeChanged,i),this.onClick.subscribe(function(){t.getViewMode()===t.exports.ViewMode.Fullscreen?t.setViewMode(t.exports.ViewMode.Inline):t.setViewMode(t.exports.ViewMode.Fullscreen)}),i()},t}(i.ToggleButton);n.FullscreenToggleButton=r},{"./togglebutton":66}],24:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./playbacktogglebutton"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugeplaybacktogglebutton",text:"Play/Pause"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n,!1);var i=function(){t.isPlaying()||o.isPlayInitiated?t.pause("ui"):t.play("ui")},r=function(){t.getViewMode()===t.exports.ViewMode.Fullscreen?t.setViewMode(t.exports.ViewMode.Inline):t.setViewMode(t.exports.ViewMode.Fullscreen)},s=!0,a=0,c=0;this.onClick.subscribe(function(){if(s)return void i();var e=Date.now();return e-a<200?(r(),void(c=e)):e-a<500?(r(),i(),void(c=e)):(a=e,void setTimeout(function(){Date.now()-c>200&&i()},200))
}),t.on(t.exports.PlayerEvent.Play,function(){s=!1}),t.on(t.exports.PlayerEvent.Warning,function(e){e.code===t.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&(s=!0)});var l=function(){o.setTransitionAnimationsEnabled(!1),o.onToggle.subscribeOnce(function(){o.setTransitionAnimationsEnabled(!0)})};l();var u=t.getConfig().playback&&Boolean(t.getConfig().playback.autoplay),p=!t.getSource()&&u;(t.isPlaying()||p)&&(this.on(),l(),t.on(t.exports.PlayerEvent.Warning,function(e){e.code===t.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&l()}))},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new r.DOM("div",{class:this.prefixCss("image")})),t},t.prototype.setTransitionAnimationsEnabled=function(e){var t=this.prefixCss("no-transition-animations");e?this.getDomElement().removeClass(t):this.getDomElement().hasClass(t)||this.getDomElement().addClass(t)},t}(i.PlaybackToggleButton);n.HugePlaybackToggleButton=s},{"../dom":76,"./playbacktogglebutton":34}],25:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-hugereplaybutton",text:"Replay"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.play("ui")})},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return t.append(new r.DOM("div",{class:this.prefixCss("image")})),t},t}(i.Button);n.HugeReplayButton=s},{"../dom":76,"./button":12}],26:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./listselector"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{tag:"ul",cssClass:"ui-itemselectionlist"},n.config),n}return o(t,e),t.prototype.isActive=function(){return this.items.length>1},t.prototype.toDomElement=function(){var e=new r.DOM("ul",{id:this.config.id,class:this.getCssClasses()});return this.listElement=e,this.updateDomItems(),e},t.prototype.updateDomItems=function(e){var n=this;void 0===e&&(e=null),this.listElement.empty();for(var o=null,i=function(e){e.addClass(n.prefixCss(t.CLASS_SELECTED))},s=function(e){e.removeClass(n.prefixCss(t.CLASS_SELECTED))},a=this,c=0,l=this.items;c<l.length;c++){var u=l[c];!function(t){var c=new r.DOM("li",{type:"li",class:a.prefixCss("ui-selectionlistitem")}).append(new r.DOM("a",{}).html(t.label));o||(null==e?o=c:String(e)===t.key&&(o=c)),c.on("click",function(){o&&s(o),o=c,i(c),n.onItemSelectedEvent(t.key,!1)}),o&&i(o),a.listElement.append(c)}(u)}},t.prototype.onItemAddedEvent=function(t){e.prototype.onItemAddedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemRemovedEvent=function(t){e.prototype.onItemRemovedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemSelectedEvent=function(t,n){void 0===n&&(n=!0),e.prototype.onItemSelectedEvent.call(this,t),n&&this.updateDomItems(t)},t.CLASS_SELECTED="selected",t}(i.ListSelector);n.ItemSelectionList=s},{"../dom":76,"./listselector":29}],27:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.labelEvents={onClick:new s.EventDispatcher,onTextChanged:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-label"},n.config),n.text=n.config.text,n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("span",{id:this.config.id,class:this.getCssClasses()}).html(this.text);return t.on("click",function(){e.onClickEvent()}),t},t.prototype.setText=function(e){e!==this.text&&(this.text=e,this.getDomElement().html(e),this.onTextChangedEvent(e))},t.prototype.getText=function(){return this.text},t.prototype.clearText=function(){this.getDomElement().html(""),this.onTextChangedEvent(null)},t.prototype.isEmpty=function(){return!this.text},t.prototype.onClickEvent=function(){this.labelEvents.onClick.dispatch(this)},t.prototype.onTextChangedEvent=function(e){this.labelEvents.onTextChanged.dispatch(this,e)},Object.defineProperty(t.prototype,"onClick",{get:function(){return this.labelEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTextChanged",{get:function(){return this.labelEvents.onTextChanged.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.Label=a},{"../dom":76,"../eventdispatcher":78,"./component":18}],28:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=e("./listselector"),s=e("../dom"),a=e("../arrayutils"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.components=[],n.removeListBoxDomItem=function(e,t){var o=n.getComponentForKey(t);o&&(o.getDomElement().remove(),a.ArrayUtils.remove(n.components,o))},n.addListBoxDomItem=function(e,t){var o=n.getComponentForKey(t),i=n.getItemForKey(t);if(o)o.setText(i.label);else{var r=n.buildListBoxItemButton(i);r.onClick.subscribe(function(){n.handleSelectionChange(r)}),n.components.push(r),n.listBoxElement.append(r.getDomElement())}},n.refreshSelectedItem=function(){for(var e=0,t=n.items;e<t.length;e++){var o=t[e],i=n.getComponentForKey(o.key);i&&(String(i.key)===String(n.selectedItem)?i.on():i.off())}},n.handleSelectionChange=function(e){n.onItemSelectedEvent(e.key)},n.config=n.mergeConfig(t,{cssClass:"ui-listbox"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){this.onItemAdded.subscribe(this.addListBoxDomItem),this.onItemRemoved.subscribe(this.removeListBoxDomItem),this.onItemSelected.subscribe(this.refreshSelectedItem),e.prototype.configure.call(this,t,n)},t.prototype.toDomElement=function(){var e=new s.DOM("div",{id:this.config.id,class:this.getCssClasses()});return this.listBoxElement=e,this.createListBoxDomItems(),this.refreshSelectedItem(),e},t.prototype.createListBoxDomItems=function(){this.listBoxElement.empty(),this.components=[];for(var e=0,t=this.items;e<t.length;e++){var n=t[e];this.addListBoxDomItem(this,n.key)}},t.prototype.buildListBoxItemButton=function(e){return new l({key:e.key,text:e.label})},t.prototype.getComponentForKey=function(e){return this.components.find(function(t){return e===t.key})},t}(r.ListSelector);n.ListBox=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-listbox-button",onClass:"selected",offClass:""},n.config),n}return o(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.config.key},enumerable:!0,configurable:!0}),t}(i.ToggleButton)},{"../arrayutils":1,"../dom":76,"./listselector":29,"./togglebutton":66}],29:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../eventdispatcher"),s=e("../arrayutils"),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.listSelectorEvents={onItemAdded:new r.EventDispatcher,onItemRemoved:new r.EventDispatcher,onItemSelected:new r.EventDispatcher},n.config=n.mergeConfig(t,{items:[],cssClass:"ui-listselector"},n.config),n.items=n.config.items,n}return o(t,e),t.prototype.getItemIndex=function(e){for(var t in this.items)if(e===this.items[t].key)return parseInt(t);return-1},t.prototype.getItems=function(){return this.items},t.prototype.hasItem=function(e){return this.getItemIndex(e)>-1},t.prototype.addItem=function(e,t){var n={key:e,label:t};this.config.filter&&!this.config.filter(n)||(this.config.translator&&(n.label=this.config.translator(n)),this.removeItem(e),this.items.push(n),this.onItemAddedEvent(e))},t.prototype.removeItem=function(e){var t=this.getItemIndex(e);return t>-1&&(s.ArrayUtils.remove(this.items,this.items[t]),this.onItemRemovedEvent(e),!0)},t.prototype.selectItem=function(e){return e===this.selectedItem||this.getItemIndex(e)>-1&&(this.selectedItem=e,this.onItemSelectedEvent(e),!0)},t.prototype.getSelectedItem=function(){return this.selectedItem},t.prototype.getItemForKey=function(e){return this.items.find(function(t){return t.key===e})},t.prototype.synchronizeItems=function(e){var t=this;e.filter(function(e){return!t.hasItem(e.key)}).forEach(function(e){return t.addItem(e.key,e.label)}),this.items.filter(function(t){return 0===e.filter(function(e){return e.key===t.key}).length}).forEach(function(e){return t.removeItem(e.key)})},t.prototype.clearItems=function(){var e=this.items;this.items=[],this.selectedItem=null;for(var t=0,n=e;t<n.length;t++){var o=n[t];this.onItemRemovedEvent(o.key)}},t.prototype.itemCount=function(){return Object.keys(this.items).length},t.prototype.onItemAddedEvent=function(e){this.listSelectorEvents.onItemAdded.dispatch(this,e)},t.prototype.onItemRemovedEvent=function(e){this.listSelectorEvents.onItemRemoved.dispatch(this,e)},t.prototype.onItemSelectedEvent=function(e){this.listSelectorEvents.onItemSelected.dispatch(this,e)},Object.defineProperty(t.prototype,"onItemAdded",{get:function(){return this.listSelectorEvents.onItemAdded.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onItemRemoved",{get:function(){return this.listSelectorEvents.onItemRemoved.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onItemSelected",{get:function(){return this.listSelectorEvents.onItemSelected.getEvent()},enumerable:!0,configurable:!0}),t}(i.Component);n.ListSelector=a},{"../arrayutils":1,"../eventdispatcher":78,"./component":18}],30:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./label");!function(e){e[e.Title=0]="Title",e[e.Description=1]="Description"}(i=n.MetadataLabelContent||(n.MetadataLabelContent={}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["label-metadata","label-metadata-"+i[t.content].toLowerCase()]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var r=this.getConfig(),s=n.getConfig(),a=function(){switch(r.content){case i.Title:o.setText(s.metadata.title);break;case i.Description:o.setText(s.metadata.description)}},c=function(){o.setText(null)};a(),t.on(t.exports.PlayerEvent.SourceUnloaded,c),n.getConfig().events.onUpdated.subscribe(a)},t}(r.Label);n.MetadataLabel=s},{"./label":27}],31:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-piptogglebutton",text:"Picture-in-Picture"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){t.isViewModeAvailable(t.exports.ViewMode.PictureInPicture)?t.getViewMode()===t.exports.ViewMode.PictureInPicture?t.setViewMode(t.exports.ViewMode.Inline):t.setViewMode(t.exports.ViewMode.PictureInPicture):console&&console.log("PIP unavailable")});var i=function(){t.isViewModeAvailable(t.exports.ViewMode.PictureInPicture)?o.show():o.hide()};n.getConfig().events.onUpdated.subscribe(i),t.on(t.exports.PlayerEvent.ViewModeChanged,function(){t.getViewMode()===t.exports.ViewMode.PictureInPicture?o.on():o.off()}),i(),t.getViewMode()===t.exports.ViewMode.PictureInPicture&&this.on()},t}(i.ToggleButton);n.PictureInPictureToggleButton=r},{"./togglebutton":66}],32:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.defaultPlaybackSpeeds=[.25,.5,1,1.5,2],n.config=n.mergeConfig(t,{cssClasses:["ui-playbackspeedselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addDefaultItems(),this.onItemSelected.subscribe(function(e,n){t.setPlaybackSpeed(parseFloat(n)),o.selectItem(n)});var i=function(){var e=t.getPlaybackSpeed();o.setSpeed(e)};t.on(t.exports.PlayerEvent.PlaybackSpeedChanged,i),n.getConfig().events.onUpdated.subscribe(i)},t.prototype.setSpeed=function(e){this.selectItem(String(e))||(this.clearItems(),this.addDefaultItems([e]),this.selectItem(String(e)))},t.prototype.addDefaultItems=function(e){var t=this;void 0===e&&(e=[]),this.defaultPlaybackSpeeds.concat(e).sort().forEach(function(e){1!==e?t.addItem(String(e),e+"x"):t.addItem(String(e),"Normal")})},t.prototype.clearItems=function(){this.items=[],this.selectedItem=null},t}(i.SelectBox);n.PlaybackSpeedSelectBox=r},{"./selectbox":39}],33:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./label"),s=e("../playerutils"),a=e("../stringutils");!function(e){e[e.CurrentTime=0]="CurrentTime",e[e.TotalTime=1]="TotalTime",e[e.CurrentAndTotalTime=2]="CurrentAndTotalTime",e[e.RemainingTime=3]="RemainingTime"}(i=n.PlaybackTimeLabelMode||(n.PlaybackTimeLabelMode={}));var c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktimelabel",timeLabelMode:i.CurrentAndTotalTime,hideInLivePlayback:!1},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),r=!1,c=this.prefixCss("ui-playbacktimelabel-live"),l=this.prefixCss("ui-playbacktimelabel-live-edge"),u=0,p=function(){t.timeShift(0)},f=function(){r=t.isLive(),r?(o.getDomElement().addClass(c),o.setText("Live"),i.hideInLivePlayback&&o.hide(),o.onClick.subscribe(p),g()):(o.getDomElement().removeClass(c),o.getDomElement().removeClass(l),o.show(),o.onClick.unsubscribe(p))},g=function(){if(r){var e=t.getTimeShift()<0,n=t.getMaxTimeShift()<0;e||t.isPaused()&&n?o.getDomElement().removeClass(l):o.getDomElement().addClass(l)}},d=new s.PlayerUtils.LiveStreamDetector(t,n);d.onLiveChanged.subscribe(function(e,t){r=t.live,f()}),d.detect();var h=function(){r||t.getDuration()===1/0||o.setTime(t.getCurrentTime(),t.getDuration());var e=o.getDomElement().width();e>u&&(u=e,o.getDomElement().css({"min-width":u+"px"}))};t.on(t.exports.PlayerEvent.TimeChanged,h),t.on(t.exports.PlayerEvent.Seeked,h),t.on(t.exports.PlayerEvent.TimeShift,g),t.on(t.exports.PlayerEvent.TimeShifted,g),t.on(t.exports.PlayerEvent.Playing,g),t.on(t.exports.PlayerEvent.Paused,g);var v=function(){u=0,o.getDomElement().css({"min-width":null}),o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS,h()};n.getConfig().events.onUpdated.subscribe(v),v()},t.prototype.setTime=function(e,t){var n=a.StringUtils.secondsToTime(e,this.timeFormat),o=a.StringUtils.secondsToTime(t,this.timeFormat);switch(this.config.timeLabelMode){case i.CurrentTime:this.setText(""+n);break;case i.TotalTime:this.setText(""+o);break;case i.CurrentAndTotalTime:this.setText(n+" / "+o);break;case i.RemainingTime:var r=a.StringUtils.secondsToTime(t-e,this.timeFormat);this.setText(""+r)}},t.prototype.setTimeFormat=function(e){this.timeFormat=e},t}(r.Label);n.PlaybackTimeLabel=c},{"../playerutils":82,"../stringutils":84,"./label":27}],34:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=e("../playerutils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-playbacktogglebutton",text:"Play/Pause"},n.config),n.isPlayInitiated=!1,n}return o(t,e),t.prototype.configure=function(n,o,i){var s=this;void 0===i&&(i=!0),e.prototype.configure.call(this,n,o);var a=!1,c=function(){a||(n.isPlaying()||s.isPlayInitiated?s.on():s.off())};n.on(n.exports.PlayerEvent.Play,function(e){s.isPlayInitiated=!0,c()}),n.on(n.exports.PlayerEvent.Paused,function(e){s.isPlayInitiated=!1,c()}),n.on(n.exports.PlayerEvent.Playing,function(e){s.isPlayInitiated=!1,c()}),n.on(n.exports.PlayerEvent.SourceLoaded,c),o.getConfig().events.onUpdated.subscribe(c),n.on(n.exports.PlayerEvent.SourceUnloaded,c),n.on(n.exports.PlayerEvent.PlaybackFinished,c),n.on(n.exports.PlayerEvent.CastStarted,c),n.on(n.exports.PlayerEvent.Warning,function(e){e.code===n.exports.WarningCode.PLAYBACK_COULD_NOT_BE_STARTED&&(s.isPlayInitiated=!1,s.off())});var l=new r.PlayerUtils.TimeShiftAvailabilityDetector(n);l.onTimeShiftAvailabilityChanged.subscribe(function(e,n){n.timeShiftAvailable?s.getDomElement().removeClass(s.prefixCss(t.CLASS_STOPTOGGLE)):s.getDomElement().addClass(s.prefixCss(t.CLASS_STOPTOGGLE))}),l.detect(),i&&this.onClick.subscribe(function(){n.isPlaying()||s.isPlayInitiated?n.pause("ui"):n.play("ui")}),o.onSeek.subscribe(function(){a=!0}),o.onSeeked.subscribe(function(){a=!1}),c()},t.CLASS_STOPTOGGLE="stoptoggle",t}(i.ToggleButton);n.PlaybackToggleButton=s},{"../playerutils":82,"./togglebutton":66}],35:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./hugeplaybacktogglebutton"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.playbackToggleButton=new r.HugePlaybackToggleButton,n.config=n.mergeConfig(t,{cssClass:"ui-playbacktoggle-overlay",components:[n.playbackToggleButton]},n.config),n}return o(t,e),t}(i.Container);n.PlaybackToggleOverlay=s},{"./container":19,"./hugeplaybacktogglebutton":24}],36:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./component"),s=e("../dom"),a=e("../stringutils"),c=e("./hugereplaybutton"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.replayButton=new c.HugeReplayButton,n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-overlay",hidden:!0,components:[n.replayButton]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){for(var e=0,t=o.getComponents().slice();e<t.length;e++){var n=t[e];n instanceof u&&o.removeComponent(n)}o.updateComponents(),o.getDomElement().removeClass(o.prefixCss("recommendations"))},r=function(){i();var e=n.getConfig().recommendations;if(e.length>0){for(var t=1,r=0,s=e;r<s.length;r++){var a=s[r];o.addComponent(new u({itemConfig:a,cssClasses:["recommendation-item-"+t++]}))}o.updateComponents(),o.getDomElement().addClass(o.prefixCss("recommendations"))}};n.getConfig().events.onUpdated.subscribe(r),t.on(t.exports.PlayerEvent.SourceUnloaded,function(){i(),o.hide()}),t.on(t.exports.PlayerEvent.PlaybackFinished,function(){o.show()}),t.on(t.exports.PlayerEvent.Play,function(){o.hide()}),r()},t}(i.Container);n.RecommendationOverlay=l;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-recommendation-item",itemConfig:null},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this.config.itemConfig,t=new s.DOM("a",{id:this.config.id,class:this.getCssClasses(),href:e.url}).css({"background-image":"url("+e.thumbnail+")"}),n=new s.DOM("div",{class:this.prefixCss("background")});t.append(n);var o=new s.DOM("span",{class:this.prefixCss("title")}).append(new s.DOM("span",{class:this.prefixCss("innertitle")}).html(e.title));t.append(o);var i=new s.DOM("span",{class:this.prefixCss("duration")}).append(new s.DOM("span",{class:this.prefixCss("innerduration")}).html(e.duration?a.StringUtils.secondsToTime(e.duration):""));return t.append(i),t},t}(r.Component)},{"../dom":76,"../stringutils":84,"./component":18,"./container":19,"./hugereplaybutton":25}],37:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=e("../eventdispatcher"),a=e("../timeout"),c=e("../playerutils"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.playbackPositionPercentage=0,n.touchSupported="ontouchstart"in window,n.seekBarEvents={onSeek:new s.EventDispatcher,onSeekPreview:new s.EventDispatcher,onSeeked:new s.EventDispatcher},n.seekWhileScrubbing=function(e,t){t.scrubbing&&n.seek(t.position)},n.seek=function(e){if(n.player.isLive()){var t=n.player.getMaxTimeShift();n.player.timeShift(t-t*(e/100),"ui")}else n.player.seek(n.player.getDuration()*(e/100),"ui")},n.config=n.mergeConfig(t,{cssClass:"ui-seekbar",vertical:!1,smoothPlaybackPositionUpdateIntervalMs:50},n.config),n.label=n.config.label,n.timelineMarkers=[],n}return o(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.hasLabel()&&this.getLabel().initialize()},t.prototype.configure=function(n,o,i){var r=this;if(void 0===i&&(i=!0),e.prototype.configure.call(this,n,o),this.player=n,this.setPosition(this.seekBarBackdrop,100),i){var s=!1,a=!1,l=!1,u=function(e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),!a)if(n.isLive()){if(0===n.getMaxTimeShift())r.setPlaybackPosition(100);else{var i=100-100/n.getMaxTimeShift()*n.getTimeShift();r.setPlaybackPosition(i)}r.setBufferPosition(100)}else{var i=100/n.getDuration()*n.getCurrentTime(),s=n.getVideoBufferLength(),c=n.getAudioBufferLength(),l=Math.min(null!=s?s:Number.MAX_VALUE,null!=c?c:Number.MAX_VALUE);l===Number.MAX_VALUE&&(l=0);var u=100/n.getDuration()*l;(r.config.smoothPlaybackPositionUpdateIntervalMs===t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED||o||n.isPaused()||n.isPaused()===n.isPlaying())&&r.setPlaybackPosition(i),r.setBufferPosition(i+u)}};n.on(n.exports.PlayerEvent.Ready,u),n.on(n.exports.PlayerEvent.TimeChanged,u),n.on(n.exports.PlayerEvent.StallEnded,u),n.on(n.exports.PlayerEvent.Seeked,u),n.on(n.exports.PlayerEvent.TimeShifted,u),n.on(n.exports.PlayerEvent.SegmentRequestFinished,u),this.configureLivePausedTimeshiftUpdater(n,o,u);var p=function(){l=!0,r.setSeeking(!0)},f=function(){l=!1,r.setSeeking(!1)},g=function(){s&&n.play("ui-seek")};n.on(n.exports.PlayerEvent.Seek,p),n.on(n.exports.PlayerEvent.Seeked,f),n.on(n.exports.PlayerEvent.TimeShift,p),n.on(n.exports.PlayerEvent.TimeShifted,f),this.onSeek.subscribe(function(e){a=!0,o.onSeek.dispatch(e),l||(s=n.isPlaying())&&n.pause("ui-seek")}),this.onSeekPreview.subscribe(function(e,t){o.onSeekPreview.dispatch(e,t)}),this.onSeekPreview.subscribeRateLimited(this.seekWhileScrubbing,200),this.onSeeked.subscribe(function(e,t){a=!1,r.seek(t),o.onSeeked.dispatch(e),g()}),this.hasLabel()&&this.getLabel().configure(n,o);var d=!1,h=!1,v=function(e,t){e&&!t?r.hide():r.show(),u(null,!0),r.refreshPlaybackPosition()},m=new c.PlayerUtils.LiveStreamDetector(n,o);m.onLiveChanged.subscribe(function(e,t){d=t.live,v(d,h)});var y=new c.PlayerUtils.TimeShiftAvailabilityDetector(n);y.onTimeShiftAvailabilityChanged.subscribe(function(e,t){h=t.timeShiftAvailable,v(d,h)}),m.detect(),y.detect(),n.on(n.exports.PlayerEvent.PlayerResized,function(){r.refreshPlaybackPosition()}),o.onConfigured.subscribe(function(){r.refreshPlaybackPosition()}),n.on(n.exports.PlayerEvent.SourceLoaded,function(){r.refreshPlaybackPosition()}),o.getConfig().events.onUpdated.subscribe(function(){u()}),u(),this.setBufferPosition(0),this.setSeekPosition(0),this.config.smoothPlaybackPositionUpdateIntervalMs!==t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED&&this.configureSmoothPlaybackPositionUpdater(n,o),this.configureMarkers(n,o)}},t.prototype.configureLivePausedTimeshiftUpdater=function(e,t,n){var o=this;this.pausedTimeshiftUpdater=new a.Timeout(1e3,n,!0),e.on(e.exports.PlayerEvent.Paused,function(){e.isLive()&&e.getMaxTimeShift()<0&&o.pausedTimeshiftUpdater.start()}),e.on(e.exports.PlayerEvent.Play,function(){return o.pausedTimeshiftUpdater.clear()})},t.prototype.configureSmoothPlaybackPositionUpdater=function(e,t){var n=this,o=0,i=0;this.smoothPlaybackPositionUpdater=new a.Timeout(50,function(){o+=.05;try{i=e.getCurrentTime()}catch(t){return void(t instanceof e.exports.PlayerAPINotAvailableError&&n.smoothPlaybackPositionUpdater.clear())}var t=o-i;Math.abs(t)>2?o=i:t<=-.05?o+=.05:t>=.05&&(o-=.05);var r=100/e.getDuration()*o;n.setPlaybackPosition(r)},!0);var r=function(){e.isLive()||(o=e.getCurrentTime(),n.smoothPlaybackPositionUpdater.start())},s=function(){n.smoothPlaybackPositionUpdater.clear()};e.on(e.exports.PlayerEvent.Play,r),e.on(e.exports.PlayerEvent.Playing,r),e.on(e.exports.PlayerEvent.Paused,s),e.on(e.exports.PlayerEvent.PlaybackFinished,s),e.on(e.exports.PlayerEvent.Seeked,function(){o=e.getCurrentTime()}),e.on(e.exports.PlayerEvent.SourceUnloaded,s),e.isPlaying()&&r()},t.prototype.configureMarkers=function(e,t){var n=this,o=function(){n.timelineMarkers=[],n.updateMarkers()},i=function(){o();var i=e.getDuration();if(i!==1/0){for(var r=0,s=t.getConfig().metadata.markers;r<s.length;r++){var a=s[r],c=100/i*a.time,l=100/i*a.duration;n.timelineMarkers.push({marker:a,position:c,duration:l})}n.updateMarkers()}};e.on(e.exports.PlayerEvent.SourceUnloaded,o),e.on(e.exports.PlayerEvent.PlayerResized,function(){return n.updateMarkers()}),t.getConfig().events.onUpdated.subscribe(i),t.onRelease.subscribe(function(){return t.getConfig().events.onUpdated.unsubscribe(i)}),i()},t.prototype.release=function(){e.prototype.release.call(this),this.smoothPlaybackPositionUpdater&&this.smoothPlaybackPositionUpdater.clear(),this.pausedTimeshiftUpdater&&this.pausedTimeshiftUpdater.clear(),this.onSeekPreview.unsubscribe(this.seekWhileScrubbing)},t.prototype.toDomElement=function(){var e=this;this.config.vertical&&this.config.cssClasses.push("vertical");var t=new r.DOM("div",{id:this.config.id,class:this.getCssClasses()}),n=new r.DOM("div",{class:this.prefixCss("seekbar")});this.seekBar=n;var o=new r.DOM("div",{class:this.prefixCss("seekbar-bufferlevel")});this.seekBarBufferPosition=o;var i=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition")});this.seekBarPlaybackPosition=i;var s=new r.DOM("div",{class:this.prefixCss("seekbar-playbackposition-marker")});this.seekBarPlaybackPositionMarker=s;var a=new r.DOM("div",{class:this.prefixCss("seekbar-seekposition")});this.seekBarSeekPosition=a;var c=new r.DOM("div",{class:this.prefixCss("seekbar-backdrop")});this.seekBarBackdrop=c;var l=new r.DOM("div",{class:this.prefixCss("seekbar-markers")});this.seekBarMarkersContainer=l,n.append(this.seekBarBackdrop,this.seekBarBufferPosition,this.seekBarSeekPosition,this.seekBarPlaybackPosition,this.seekBarMarkersContainer,this.seekBarPlaybackPositionMarker);var u=!1,p=function(t){t.preventDefault(),t.stopPropagation();var n=100*e.getOffset(t);e.setSeekPosition(n),e.setPlaybackPosition(n),e.onSeekPreviewEvent(n,!0)},f=function(t){t.preventDefault(),new r.DOM(document).off("touchmove mousemove",p),new r.DOM(document).off("touchend mouseup",f);var n=100*e.getOffset(t),o=e.getMarkerAtPosition(n);e.setSeeking(!1),u=!1,e.onSeekedEvent(o?o.position:n)};return n.on("touchstart mousedown",function(t){var n=e.touchSupported&&t instanceof TouchEvent;t.preventDefault(),t.stopPropagation(),e.setSeeking(!0),u=!0,e.onSeekEvent(),new r.DOM(document).on(n?"touchmove":"mousemove",p),new r.DOM(document).on(n?"touchend":"mouseup",f)}),n.on("touchmove mousemove",function(t){t.preventDefault(),u&&(t.stopPropagation(),p(t));var n=100*e.getOffset(t);e.setSeekPosition(n),e.onSeekPreviewEvent(n,!1),e.hasLabel()&&e.getLabel().isHidden()&&e.getLabel().show()}),n.on("touchend mouseleave",function(t){t.preventDefault(),e.setSeekPosition(0),e.hasLabel()&&e.getLabel().hide()}),t.append(n),this.label&&t.append(this.label.getDomElement()),t},
t.prototype.updateMarkers=function(){var e=this;this.seekBarMarkersContainer.empty();for(var t=this.seekBar.width(),n=0,o=this.timelineMarkers;n<o.length;n++){var i=o[n],s=["seekbar-marker"].concat(i.marker.cssClasses||[]).map(function(t){return e.prefixCss(t)}),a={width:i.position+"%"};if(i.duration>0){var c=Math.round(t/100*i.duration);a["border-right-width"]=c+"px",a["margin-left"]="0"}this.seekBarMarkersContainer.append(new r.DOM("div",{class:s.join(" "),"data-marker-time":String(i.marker.time),"data-marker-title":String(i.marker.title)}).css(a))}},t.prototype.getMarkerAtPosition=function(e){if(this.timelineMarkers.length>0)for(var t=0,n=this.timelineMarkers;t<n.length;t++){var o=n[t];if(o.duration>0&&e>=o.position-1&&e<=o.position+o.duration+1)return o;if(e>=o.position-1&&e<=o.position+1)return o}return null},t.prototype.getHorizontalOffset=function(e){var t=this.seekBar.offset().left,n=this.seekBar.width(),o=e-t,i=1/n*o;return this.sanitizeOffset(i)},t.prototype.getVerticalOffset=function(e){var t=this.seekBar.offset().top,n=this.seekBar.height(),o=e-t,i=1/n*o;return 1-this.sanitizeOffset(i)},t.prototype.getOffset=function(e){return this.touchSupported&&e instanceof TouchEvent?this.config.vertical?this.getVerticalOffset("touchend"===e.type?e.changedTouches[0].pageY:e.touches[0].pageY):this.getHorizontalOffset("touchend"===e.type?e.changedTouches[0].pageX:e.touches[0].pageX):e instanceof MouseEvent?this.config.vertical?this.getVerticalOffset(e.pageY):this.getHorizontalOffset(e.pageX):(console&&console.warn("invalid event"),0)},t.prototype.sanitizeOffset=function(e){return e<0?e=0:e>1&&(e=1),e},t.prototype.setPlaybackPosition=function(e){this.playbackPositionPercentage=e,this.setPosition(this.seekBarPlaybackPosition,e);var t=this.config.vertical?this.seekBar.height()-this.seekBarPlaybackPositionMarker.height():this.seekBar.width(),n=t/100*e;this.config.vertical&&(n=this.seekBar.height()-n-this.seekBarPlaybackPositionMarker.height());var o=this.config.vertical?{transform:"translateY("+n+"px)","-ms-transform":"translateY("+n+"px)","-webkit-transform":"translateY("+n+"px)"}:{transform:"translateX("+n+"px)","-ms-transform":"translateX("+n+"px)","-webkit-transform":"translateX("+n+"px)"};this.seekBarPlaybackPositionMarker.css(o)},t.prototype.refreshPlaybackPosition=function(){this.setPlaybackPosition(this.playbackPositionPercentage)},t.prototype.setBufferPosition=function(e){this.setPosition(this.seekBarBufferPosition,e)},t.prototype.setSeekPosition=function(e){this.setPosition(this.seekBarSeekPosition,e)},t.prototype.setPosition=function(e,t){var n=t/100;n>=.99999&&n<=1.00001&&(n=.99999);var o=this.config.vertical?{transform:"scaleY("+n+")","-ms-transform":"scaleY("+n+")","-webkit-transform":"scaleY("+n+")"}:{transform:"scaleX("+n+")","-ms-transform":"scaleX("+n+")","-webkit-transform":"scaleX("+n+")"};e.css(o)},t.prototype.setSeeking=function(e){e?this.getDomElement().addClass(this.prefixCss(t.CLASS_SEEKING)):this.getDomElement().removeClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.isSeeking=function(){return this.getDomElement().hasClass(this.prefixCss(t.CLASS_SEEKING))},t.prototype.hasLabel=function(){return null!=this.label},t.prototype.getLabel=function(){return this.label},t.prototype.onSeekEvent=function(){this.seekBarEvents.onSeek.dispatch(this)},t.prototype.onSeekPreviewEvent=function(e,t){var n=this.getMarkerAtPosition(e),o=e;n&&(n.duration>0?e<n.position?o=n.position:e>n.position+n.duration&&(o=n.position+n.duration):o=n.position),this.label&&this.label.getDomElement().css({left:o+"%"}),this.seekBarEvents.onSeekPreview.dispatch(this,{scrubbing:t,position:o,marker:n})},t.prototype.onSeekedEvent=function(e){this.seekBarEvents.onSeeked.dispatch(this,e)},Object.defineProperty(t.prototype,"onSeek",{get:function(){return this.seekBarEvents.onSeek.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeekPreview",{get:function(){return this.seekBarEvents.onSeekPreview.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeeked",{get:function(){return this.seekBarEvents.onSeeked.getEvent()},enumerable:!0,configurable:!0}),t.prototype.onShowEvent=function(){e.prototype.onShowEvent.call(this),this.refreshPlaybackPosition()},t.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED=-1,t.CLASS_SEEKING="seeking",t}(i.Component);n.SeekBar=l},{"../dom":76,"../eventdispatcher":78,"../playerutils":82,"../timeout":86,"./component":18}],38:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./component"),a=e("../stringutils"),c=e("../imageloader"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.appliedMarkerCssClasses=[],n.handleSeekPreview=function(e,t){if(n.player.isLive()){var o=n.player.getMaxTimeShift(),i=o-o*(t.position/100);n.setTime(i)}else{t.marker?n.setTitleText(t.marker.marker.title):n.setTitleText(null);var i=n.player.getDuration()*(t.position/100);n.setTime(i),n.setThumbnail(n.player.getThumbnail(i))}if(n.appliedMarkerCssClasses.length>0&&(n.getDomElement().removeClass(n.appliedMarkerCssClasses.join(" ")),n.appliedMarkerCssClasses=[]),t.marker){var r=(t.marker.marker.cssClasses||[]).map(function(e){return n.prefixCss(e)});n.getDomElement().addClass(r.join(" ")),n.appliedMarkerCssClasses=r}},n.timeLabel=new r.Label({cssClasses:["seekbar-label-time"]}),n.titleLabel=new r.Label({cssClasses:["seekbar-label-title"]}),n.thumbnail=new s.Component({cssClasses:["seekbar-thumbnail"]}),n.thumbnailImageLoader=new c.ImageLoader,n.config=n.mergeConfig(t,{cssClass:"ui-seekbar-label",components:[new i.Container({components:[n.thumbnail,new i.Container({components:[n.titleLabel,n.timeLabel],cssClass:"seekbar-label-metadata"})],cssClass:"seekbar-label-inner"})],hidden:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.player=t,this.uiManager=n,n.onSeekPreview.subscribeRateLimited(this.handleSeekPreview,100);var i=function(){o.timeFormat=Math.abs(t.isLive()?t.getMaxTimeShift():t.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS,o.setTitleText(null),o.setThumbnail(null)};n.getConfig().events.onUpdated.subscribe(i),i()},t.prototype.setText=function(e){this.timeLabel.setText(e)},t.prototype.setTime=function(e){this.setText(a.StringUtils.secondsToTime(e,this.timeFormat))},t.prototype.setTitleText=function(e){this.titleLabel.setText(e)},t.prototype.setThumbnail=function(e){var t=this;void 0===e&&(e=null);var n=this.thumbnail.getDomElement();null==e?n.css({"background-image":null,display:null,width:null,height:null}):this.thumbnailImageLoader.load(e.url,function(o,i,r){void 0!==e.x?n.css(t.thumbnailCssSprite(e,i,r)):n.css(t.thumbnailCssSingleImage(e,i,r))})},t.prototype.thumbnailCssSprite=function(e,t,n){var o=t/e.width,i=n/e.height,r=e.x/e.width,s=e.y/e.height,a=100*o,c=100*i,l=100*r,u=100*s,p=1/e.width*e.height;return{display:"inherit","background-image":"url("+e.url+")","padding-bottom":100*p+"%","background-size":a+"% "+c+"%","background-position":"-"+l+"% -"+u+"%"}},t.prototype.thumbnailCssSingleImage=function(e,t,n){var o=1/t*n;return{display:"inherit","background-image":"url("+e.url+")","padding-bottom":100*o+"%","background-size":"100% 100%","background-position":"0 0"}},t.prototype.release=function(){e.prototype.release.call(this),this.uiManager.onSeekPreview.unsubscribe(this.handleSeekPreview)},t}(i.Container);n.SeekBarLabel=l},{"../imageloader":80,"../stringutils":84,"./component":18,"./container":19,"./label":27}],39:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./listselector"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-selectbox"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){var e=this,t=new r.DOM("select",{id:this.config.id,class:this.getCssClasses()});return this.selectElement=t,this.updateDomItems(),t.on("change",function(){var n=t.val();e.onItemSelectedEvent(n,!1)}),t},t.prototype.updateDomItems=function(e){void 0===e&&(e=null),this.selectElement.empty();for(var t=0,n=this.items;t<n.length;t++){var o=n[t],i=new r.DOM("option",{value:String(o.key)}).html(o.label);o.key===String(e)&&i.attr("selected","selected"),this.selectElement.append(i)}},t.prototype.onItemAddedEvent=function(t){e.prototype.onItemAddedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemRemovedEvent=function(t){e.prototype.onItemRemovedEvent.call(this,t),this.updateDomItems(this.selectedItem)},t.prototype.onItemSelectedEvent=function(t,n){void 0===n&&(n=!0),e.prototype.onItemSelectedEvent.call(this,t),n&&this.updateDomItems(t)},t}(i.ListSelector);n.SelectBox=s},{"../dom":76,"./listselector":29}],40:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./container"),s=e("./selectbox"),a=e("../timeout"),c=e("../eventdispatcher"),l=e("./settingspanelpage");!function(e){e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards"}(i||(i={}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.navigationStack=[],n.settingsPanelEvents={onSettingsStateChanged:new c.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-settings-panel",hideDelay:3e3,pageTransitionAnimation:!0},n.config),n.activePage=n.getRootPage(),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig();n.onControlsHide.subscribe(function(){return o.hideHoveredSelectBoxes()}),i.hideDelay>-1&&(this.hideTimeout=new a.Timeout(i.hideDelay,function(){o.hide(),o.hideHoveredSelectBoxes()}),this.onShow.subscribe(function(){o.resetNavigation(!0),o.activePage.onActiveEvent(),o.hideTimeout.start()}),this.getDomElement().on("mouseenter",function(){o.hideTimeout.clear()}),this.getDomElement().on("mouseleave",function(){o.hideTimeout.reset()}),this.onHide.subscribe(function(){o.hideTimeout.clear(),o.activePage.onInactiveEvent()})),this.getRootPage().onSettingsStateChanged.subscribe(function(){o.onSettingsStateChangedEvent()}),this.updateActivePageClass()},t.prototype.getActivePage=function(){return this.activePage},t.prototype.setActivePageIndex=function(e){this.setActivePage(this.getPages()[e])},t.prototype.setActivePage=function(e){if(e===this.getActivePage())return void console.warn("Page is already the current one ... skipping navigation");this.navigateToPage(e,this.getActivePage(),i.Forwards,!this.config.pageTransitionAnimation)},t.prototype.popToRootSettingsPanelPage=function(){this.resetNavigation(this.config.pageTransitionAnimation)},t.prototype.popSettingsPanelPage=function(){if(0===this.navigationStack.length)return void console.warn("Already on the root page ... skipping navigation");var e=this.navigationStack[this.navigationStack.length-2];e||(e=this.getRootPage()),this.navigateToPage(e,this.activePage,i.Backwards,!this.config.pageTransitionAnimation)},t.prototype.rootPageHasActiveSettings=function(){return this.getRootPage().hasActiveSettings()},t.prototype.getPages=function(){return this.config.components.filter(function(e){return e instanceof l.SettingsPanelPage})},Object.defineProperty(t.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelEvents.onSettingsStateChanged.getEvent()},enumerable:!0,configurable:!0}),t.prototype.release=function(){e.prototype.release.call(this),this.hideTimeout&&this.hideTimeout.clear()},t.prototype.addComponent=function(t){0===this.getPages().length&&t instanceof l.SettingsPanelPage&&(this.activePage=t),e.prototype.addComponent.call(this,t)},t.prototype.updateActivePageClass=function(){var e=this;this.getPages().forEach(function(n){n===e.activePage?n.getDomElement().addClass(e.prefixCss(t.CLASS_ACTIVE_PAGE)):n.getDomElement().removeClass(e.prefixCss(t.CLASS_ACTIVE_PAGE))})},t.prototype.resetNavigation=function(e){var t=this.getActivePage(),n=this.getRootPage();t&&(e||t.onInactiveEvent()),this.navigationStack=[],this.animateNavigation(n,t,e),this.activePage=n,this.updateActivePageClass()},t.prototype.navigateToPage=function(e,t,n,o){this.activePage=e,n===i.Forwards?this.navigationStack.push(e):this.navigationStack.pop(),this.animateNavigation(e,t,o),this.updateActivePageClass(),e.onActiveEvent(),t.onInactiveEvent()},t.prototype.animateNavigation=function(e,t,n){if(this.config.pageTransitionAnimation){var o=this.getDomElement(),i=this.getDomElement().get(0),r=i.scrollWidth,s=i.scrollHeight;t.getDomElement().css("display","none"),this.getDomElement().css({width:"",height:""});var a=e.getDomElement().get(0),c=a.cloneNode(!0);a.parentNode.appendChild(c),c.style.display="block";var l=i.scrollWidth,u=i.scrollHeight;c.parentElement.removeChild(c),t.getDomElement().css("display",""),o.css({width:r+"px",height:s+"px"}),n||this.forceBrowserReflow(),o.css({width:l+"px",height:u+"px"})}},t.prototype.forceBrowserReflow=function(){this.getDomElement().get(0).offsetLeft},t.prototype.hideHoveredSelectBoxes=function(){this.getComputedItems().forEach(function(e){if(e.isActive()&&e.setting instanceof s.SelectBox){var t=e.setting,n=t.getDomElement().css("display");t.getDomElement().css("display","none"),window.requestAnimationFrame?requestAnimationFrame(function(){t.getDomElement().css("display",n)}):t.getDomElement().css("display",n)}})},t.prototype.getComputedItems=function(){for(var e=[],t=0,n=this.getPages();t<n.length;t++){var o=n[t];e.push.apply(e,o.getItems())}return e},t.prototype.getRootPage=function(){return this.getPages()[0]},t.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelEvents.onSettingsStateChanged.dispatch(this)},t.CLASS_ACTIVE_PAGE="active",t}(r.Container);n.SettingsPanel=u},{"../eventdispatcher":78,"../timeout":86,"./container":19,"./selectbox":39,"./settingspanelpage":42}],41:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./component"),s=e("../eventdispatcher"),a=e("./label"),c=e("./selectbox"),l=e("./listbox"),u=e("./videoqualityselectbox"),p=e("./audioqualityselectbox"),f=e("./playbackspeedselectbox"),g=function(e){function t(t,n,o){void 0===o&&(o={});var i=e.call(this,o)||this;return i.settingsPanelItemEvents={onActiveChanged:new s.EventDispatcher},i.setting=n,i.config=i.mergeConfig(o,{cssClass:"ui-settings-panel-item"},i.config),null!==t&&(t instanceof r.Component?i.label=t:i.label=new a.Label({text:t}),i.addComponent(i.label)),i.addComponent(i.setting),i}return o(t,e),t.prototype.configure=function(e,t){var n=this;if(this.setting instanceof c.SelectBox||this.setting instanceof l.ListBox){var o=function(){if(n.setting instanceof c.SelectBox||n.setting instanceof l.ListBox){var e=2;(n.setting instanceof u.VideoQualitySelectBox&&n.setting.hasAutoItem()||n.setting instanceof p.AudioQualitySelectBox)&&(e=3),n.setting.itemCount()<e?n.hide():n.setting instanceof f.PlaybackSpeedSelectBox&&!t.getConfig().playbackSpeedSelectionEnabled?n.hide():n.show(),n.onActiveChangedEvent()}};this.setting.onItemAdded.subscribe(o),this.setting.onItemRemoved.subscribe(o),o()}},t.prototype.isActive=function(){return this.isShown()},t.prototype.onActiveChangedEvent=function(){this.settingsPanelItemEvents.onActiveChanged.dispatch(this)},Object.defineProperty(t.prototype,"onActiveChanged",{get:function(){return this.settingsPanelItemEvents.onActiveChanged.getEvent()},enumerable:!0,configurable:!0}),t}(i.Container);n.SettingsPanelItem=g},{"../eventdispatcher":78,"./audioqualityselectbox":8,"./component":18,"./container":19,"./label":27,"./listbox":28,"./playbackspeedselectbox":32,"./selectbox":39,"./videoqualityselectbox":69}],42:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./settingspanelitem"),s=e("../eventdispatcher"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.settingsPanelPageEvents={onSettingsStateChanged:new s.EventDispatcher,onActive:new s.EventDispatcher,onInactive:new s.EventDispatcher},n.config=n.mergeConfig(t,{cssClass:"ui-settings-panel-page"},n.config),n}return o(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);for(var r=function(){i.onSettingsStateChangedEvent();for(var e=null,n=0,o=i.getItems();n<o.length;n++){var r=o[n];r.getDomElement().removeClass(i.prefixCss(t.CLASS_LAST)),r.isShown()&&(e=r)}e&&e.getDomElement().addClass(i.prefixCss(t.CLASS_LAST))},s=0,a=this.getItems();s<a.length;s++){a[s].onActiveChanged.subscribe(r)}},t.prototype.hasActiveSettings=function(){for(var e=0,t=this.getItems();e<t.length;e++){if(t[e].isActive())return!0}return!1},t.prototype.getItems=function(){return this.config.components.filter(function(e){return e instanceof r.SettingsPanelItem})},t.prototype.onSettingsStateChangedEvent=function(){this.settingsPanelPageEvents.onSettingsStateChanged.dispatch(this)},Object.defineProperty(t.prototype,"onSettingsStateChanged",{get:function(){return this.settingsPanelPageEvents.onSettingsStateChanged.getEvent()},enumerable:!0,configurable:!0}),t.prototype.onActiveEvent=function(){this.settingsPanelPageEvents.onActive.dispatch(this)},Object.defineProperty(t.prototype,"onActive",{get:function(){return this.settingsPanelPageEvents.onActive.getEvent()},enumerable:!0,configurable:!0}),t.prototype.onInactiveEvent=function(){this.settingsPanelPageEvents.onInactive.dispatch(this)},Object.defineProperty(t.prototype,"onInactive",{get:function(){return this.settingsPanelPageEvents.onInactive.getEvent()},enumerable:!0,configurable:!0}),t.CLASS_LAST="last",t}(i.Container);n.SettingsPanelPage=a},{"../eventdispatcher":78,"./container":19,"./settingspanelitem":41}],43:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./settingspanelpagenavigatorbutton"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-settingspanelpagebackbutton",text:"back"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){o.popPage()})},t}(i.SettingsPanelPageNavigatorButton);n.SettingsPanelPageBackButton=r},{"./settingspanelpagenavigatorbutton":44}],44:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{},n.config),n.container=n.config.container,n.targetPage=n.config.targetPage,n}return o(t,e),t.prototype.popPage=function(){this.container.popSettingsPanelPage()},t.prototype.pushTargetPage=function(){this.container.setActivePage(this.targetPage)},t}(i.Button);n.SettingsPanelPageNavigatorButton=r},{"./button":12}],45:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./settingspanelpagenavigatorbutton"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-settingspanelpageopenbutton",text:"open"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){o.pushTargetPage()})},t}(i.SettingsPanelPageNavigatorButton);n.SettingsPanelPageOpenButton=r},{"./settingspanelpagenavigatorbutton":44}],46:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=e("./settingspanel"),s=e("../arrayutils"),a=function(e){function t(t){var n=e.call(this,t)||this;if(n.visibleSettingsPanels=[],!t.settingsPanel)throw new Error("Required SettingsPanel is missing");return n.config=n.mergeConfig(t,{cssClass:"ui-settingstogglebutton",text:"Settings",settingsPanel:null,autoHideWhenNoActiveSettings:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getConfig(),a=i.settingsPanel;if(this.onClick.subscribe(function(){a.isShown()||o.visibleSettingsPanels.slice().forEach(function(e){return e.hide()}),a.toggleHidden()}),a.onShow.subscribe(function(){o.on()}),a.onHide.subscribe(function(){o.off()}),n.onComponentShow.subscribe(function(e){e instanceof r.SettingsPanel&&(o.visibleSettingsPanels.push(e),e.onHide.subscribeOnce(function(){return s.ArrayUtils.remove(o.visibleSettingsPanels,e)}))}),i.autoHideWhenNoActiveSettings){var c=function(){a.rootPageHasActiveSettings()?o.isHidden()&&o.show():o.isShown()&&o.hide()};a.onSettingsStateChanged.subscribe(c),c()}},t}(i.ToggleButton);n.SettingsToggleButton=a},{"../arrayutils":1,"./settingspanel":40,"./togglebutton":66}],47:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-spacer"},n.config),n}return o(t,e),t.prototype.onShowEvent=function(){},t.prototype.onHideEvent=function(){},t.prototype.onHoverChangedEvent=function(e){},t}(i.Component);n.Spacer=r},{"./component":18}],48:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./listbox"),r=e("../subtitleutils"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new r.SubtitleSwitchHandler(t,this,n)},t}(i.ListBox);n.SubtitleListBox=s},{"../subtitleutils":85,"./listbox":28}],49:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./label"),s=e("./controlbar"),a=e("../eventdispatcher"),c=e("../dom"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.preprocessLabelEventCallback=new a.EventDispatcher,n.previewSubtitleActive=!1,n.previewSubtitle=new u({text:"example subtitle"}),n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-overlay"},n.config),n}return o(t,e),t.prototype.configure=function(n,o){var i=this;e.prototype.configure.call(this,n,o);var r=new p;this.subtitleManager=r,n.on(n.exports.PlayerEvent.CueEnter,function(e){e.position&&(e.position.row=e.position.row||0,e.position.column=e.position.column||0);var t=r.cueEnter(e);i.preprocessLabelEventCallback.dispatch(e,t),i.previewSubtitleActive&&i.removeComponent(i.previewSubtitle),i.addComponent(t),i.updateComponents(),i.show()}),n.on(n.exports.PlayerEvent.CueExit,function(e){var t=r.cueExit(e);t&&(i.removeComponent(t),i.updateComponents()),r.hasCues||(i.previewSubtitleActive?(i.addComponent(i.previewSubtitle),i.updateComponents()):i.hide())});var a=function(){i.hide(),r.clear(),i.removeComponents(),i.updateComponents()};n.on(n.exports.PlayerEvent.AudioChanged,a),n.on(n.exports.PlayerEvent.SubtitleEnabled,a),n.on(n.exports.PlayerEvent.SubtitleDisabled,a),n.on(n.exports.PlayerEvent.Seek,a),n.on(n.exports.PlayerEvent.TimeShift,a),n.on(n.exports.PlayerEvent.PlaybackFinished,a),n.on(n.exports.PlayerEvent.SourceUnloaded,a),o.onComponentShow.subscribe(function(e){e instanceof s.ControlBar&&i.getDomElement().addClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),o.onComponentHide.subscribe(function(e){e instanceof s.ControlBar&&i.getDomElement().removeClass(i.prefixCss(t.CLASS_CONTROLBAR_VISIBLE))}),this.configureCea608Captions(n,o),a()},t.prototype.configureCea608Captions=function(e,n){var o=this,i=0,r=0,s=!0,a=!1,c=function(){var e=new u({text:"X"});e.getDomElement().css({"font-size":"200px","line-height":"200px",visibility:"hidden"}),o.addComponent(e),o.updateComponents(),o.show();var n=e.getDomElement().width(),s=e.getDomElement().height(),a=n/s;o.removeComponent(e),o.updateComponents(),o.subtitleManager.hasCues||o.hide();var c=o.getDomElement().width()-10,l=o.getDomElement().height();if(c/l>n*t.CEA608_NUM_COLUMNS/(s*t.CEA608_NUM_ROWS)){i=l/t.CEA608_NUM_ROWS;var p=c/t.CEA608_NUM_COLUMNS;r=p-i*a}else i=c/t.CEA608_NUM_COLUMNS/a,r=0;for(var f=0,g=o.getComponents();f<g.length;f++){var d=g[f];d instanceof u&&d.getDomElement().css({"font-size":i+"px","letter-spacing":r+"px"})}};e.on(e.exports.PlayerEvent.PlayerResized,function(){a?c():s=!0}),this.preprocessLabelEventCallback.subscribe(function(e,n){null!=e.position&&(a||(a=!0,o.getDomElement().addClass(o.prefixCss(t.CLASS_CEA_608)),s&&(c(),s=!1)),n.getDomElement().css({left:e.position.column*t.CEA608_COLUMN_OFFSET+"%",top:e.position.row*t.CEA608_ROW_OFFSET+"%","font-size":i+"px","letter-spacing":r+"px"}))});var l=function(){o.getDomElement().removeClass(o.prefixCss(t.CLASS_CEA_608)),a=!1};e.on(e.exports.PlayerEvent.CueExit,function(){o.subtitleManager.hasCues||l()}),e.on(e.exports.PlayerEvent.SourceUnloaded,l),e.on(e.exports.PlayerEvent.SubtitleEnabled,l),e.on(e.exports.PlayerEvent.SubtitleDisabled,l)},t.prototype.enablePreviewSubtitleLabel=function(){this.previewSubtitleActive=!0,this.subtitleManager.hasCues||(this.addComponent(this.previewSubtitle),this.updateComponents(),this.show())},t.prototype.removePreviewSubtitleLabel=function(){this.previewSubtitleActive=!1,this.removeComponent(this.previewSubtitle),this.updateComponents()},t.CLASS_CONTROLBAR_VISIBLE="controlbar-visible",t.CLASS_CEA_608="cea608",t.CEA608_NUM_ROWS=15,t.CEA608_NUM_COLUMNS=32,t.CEA608_ROW_OFFSET=100/t.CEA608_NUM_ROWS,t.CEA608_COLUMN_OFFSET=100/t.CEA608_NUM_COLUMNS,t}(i.Container);n.SubtitleOverlay=l;var u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitle-label"},n.config),n}return o(t,e),t}(r.Label),p=function(){function e(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0}return e.calculateId=function(e){var t=e.start+"-"+e.text;return e.position&&(t+="-"+e.position.row+"-"+e.position.column),t},e.prototype.cueEnter=function(t){var n=e.calculateId(t),o=new u({text:t.html||e.generateImageTagText(t.image)||t.text});return this.activeSubtitleCueMap[n]=this.activeSubtitleCueMap[n]||[],this.activeSubtitleCueMap[n].push({event:t,label:o}),this.activeSubtitleCueCount++,o},e.generateImageTagText=function(e){if(e){var t=new c.DOM("img",{src:e});return t.css("width","100%"),t.get(0).outerHTML}},e.prototype.getCues=function(t){var n=e.calculateId(t),o=this.activeSubtitleCueMap[n];return o&&o.length>0?o.map(function(e){return e.label}):null},e.prototype.cueExit=function(t){var n=e.calculateId(t),o=this.activeSubtitleCueMap[n];if(o&&o.length>0){var i=o.shift();return this.activeSubtitleCueCount--,i.label}return null},Object.defineProperty(e.prototype,"cueCount",{get:function(){return this.activeSubtitleCueCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCues",{get:function(){return this.cueCount>0},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.activeSubtitleCueMap={},this.activeSubtitleCueCount=0},e}()},{"../dom":76,"../eventdispatcher":78,"./container":19,"./controlbar":20,"./label":27}],50:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=e("../subtitleutils"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitleselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n),new r.SubtitleSwitchHandler(t,this,n)},t}(i.SelectBox);n.SubtitleSelectBox=s},{"../subtitleutils":85,"./selectbox":39}],51:[function(e,t,n){"use strict"
;var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsbackgroundcolorselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.backgroundColor.isSet()&&o.settingsManager.backgroundOpacity.isSet()?o.toggleOverlayClass("bgcolor-"+o.settingsManager.backgroundColor.value+o.settingsManager.backgroundOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.backgroundColor.value=t}),this.settingsManager.backgroundColor.onChanged.subscribe(function(e,t){o.settingsManager.backgroundColor.isSet()?o.settingsManager.backgroundOpacity.isSet()||(o.settingsManager.backgroundOpacity.value="100"):o.settingsManager.backgroundOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.backgroundColor.isSet()&&this.selectItem(this.settingsManager.backgroundColor.value)},t}(i.SubtitleSettingSelectBox);n.BackgroundColorSelectBox=r},{"./subtitlesettingselectbox":58}],52:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsbackgroundopacityselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.addItem("0","0%"),this.onItemSelected.subscribe(function(e,t){o.settingsManager.backgroundOpacity.value=t,o.settingsManager.backgroundOpacity.isSet()?o.settingsManager.backgroundColor.isSet()||(o.settingsManager.backgroundColor.value="black"):o.settingsManager.backgroundColor.clear()}),this.settingsManager.backgroundOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.backgroundOpacity.isSet()&&this.selectItem(this.settingsManager.backgroundOpacity.value)},t}(i.SubtitleSettingSelectBox);n.BackgroundOpacitySelectBox=r},{"./subtitlesettingselectbox":58}],53:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingscharacteredgeselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("raised","raised"),this.addItem("depressed","depressed"),this.addItem("uniform","uniform"),this.addItem("dropshadowed","drop shadowed"),this.settingsManager.characterEdge.onChanged.subscribe(function(e,t){t.isSet()?o.toggleOverlayClass("characteredge-"+t.value):o.toggleOverlayClass(null),o.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){o.settingsManager.characterEdge.value=t}),this.settingsManager.characterEdge.isSet()&&this.selectItem(this.settingsManager.characterEdge.value)},t}(i.SubtitleSettingSelectBox);n.CharacterEdgeSelectBox=r},{"./subtitlesettingselectbox":58}],54:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontcolorselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.fontColor.isSet()&&o.settingsManager.fontOpacity.isSet()?o.toggleOverlayClass("fontcolor-"+o.settingsManager.fontColor.value+o.settingsManager.fontOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontColor.value=t}),this.settingsManager.fontColor.onChanged.subscribe(function(e,t){o.settingsManager.fontColor.isSet()?o.settingsManager.fontOpacity.isSet()||(o.settingsManager.fontOpacity.value="100"):o.settingsManager.fontOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.fontColor.isSet()&&this.selectItem(this.settingsManager.fontColor.value)},t}(i.SubtitleSettingSelectBox);n.FontColorSelectBox=r},{"./subtitlesettingselectbox":58}],55:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontfamilyselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("monospacedserif","monospaced serif"),this.addItem("proportionalserif","proportional serif"),this.addItem("monospacedsansserif","monospaced sans serif"),this.addItem("proportionalsansserif","proportional sans serif"),this.addItem("casual","casual"),this.addItem("cursive","cursive"),this.addItem("smallcapital","small capital"),this.settingsManager.fontFamily.onChanged.subscribe(function(e,t){t.isSet()?o.toggleOverlayClass("fontfamily-"+t.value):o.toggleOverlayClass(null),o.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontFamily.value=t}),this.settingsManager.fontFamily.isSet()&&this.selectItem(this.settingsManager.fontFamily.value)},t}(i.SubtitleSettingSelectBox);n.FontFamilySelectBox=r},{"./subtitlesettingselectbox":58}],56:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontopacityselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontOpacity.value=t,o.settingsManager.fontOpacity.isSet()?o.settingsManager.fontColor.isSet()||(o.settingsManager.fontColor.value="white"):o.settingsManager.fontColor.clear()}),this.settingsManager.fontOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.fontOpacity.isSet()&&this.selectItem(this.settingsManager.fontOpacity.value)},t}(i.SubtitleSettingSelectBox);n.FontOpacitySelectBox=r},{"./subtitlesettingselectbox":58}],57:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingsfontsizeselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("50","50%"),this.addItem("75","75%"),this.addItem("100","100%"),this.addItem("150","150%"),this.addItem("200","200%"),this.addItem("300","300%"),this.addItem("400","400%"),this.settingsManager.fontSize.onChanged.subscribe(function(e,t){t.isSet()?o.toggleOverlayClass("fontsize-"+t.value):o.toggleOverlayClass(null),o.selectItem(t.value)}),this.onItemSelected.subscribe(function(e,t){o.settingsManager.fontSize.value=t}),this.settingsManager.fontSize.isSet()&&this.selectItem(this.settingsManager.fontSize.value)},t}(i.SubtitleSettingSelectBox);n.FontSizeSelectBox=r},{"./subtitlesettingselectbox":58}],58:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../selectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.settingsManager=t.settingsManager,n.overlay=t.overlay,n}return o(t,e),t.prototype.toggleOverlayClass=function(e){this.currentCssClass&&(this.overlay.getDomElement().removeClass(this.currentCssClass),this.currentCssClass=null),e&&(this.currentCssClass=this.prefixCss(e),this.overlay.getDomElement().addClass(this.currentCssClass))},t}(i.SelectBox);n.SubtitleSettingSelectBox=r},{"../selectbox":39}],59:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../container"),r=e("../../dom"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.opener=t.opener,n.text=t.text,n.config=n.mergeConfig(t,{cssClass:"ui-label",components:[n.opener]},n.config),n}return o(t,e),t.prototype.toDomElement=function(){return new r.DOM("span",{id:this.config.id,class:this.getCssClasses()}).append(new r.DOM("span",{}).html(this.text),this.opener.getDomElement())},t}(i.Container);n.SubtitleSettingsLabel=s},{"../../dom":76,"../container":19}],60:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../storageutils"),r=e("../component"),s=e("../../eventdispatcher"),a=function(){function e(){var e=this;this._properties={fontColor:new l(this),fontOpacity:new l(this),fontFamily:new l(this),fontSize:new l(this),characterEdge:new l(this),backgroundColor:new l(this),backgroundOpacity:new l(this),windowColor:new l(this),windowOpacity:new l(this)},this.userSettings={},this.localStorageKey=c.instance().prefixCss("subtitlesettings");var t=this;for(var n in this._properties)!function(n){t._properties[n].onChanged.subscribe(function(t,o){o.isSet()?e.userSettings[n]=o.value:delete e.userSettings[n],e.save()})}(n);this.load()}return e.prototype.reset=function(){for(var e in this._properties)this._properties[e].clear()},Object.defineProperty(e.prototype,"fontColor",{get:function(){return this._properties.fontColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontOpacity",{get:function(){return this._properties.fontOpacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._properties.fontFamily},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._properties.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterEdge",{get:function(){return this._properties.characterEdge},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._properties.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundOpacity",{get:function(){return this._properties.backgroundOpacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowColor",{get:function(){return this._properties.windowColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowOpacity",{get:function(){return this._properties.windowOpacity},enumerable:!0,configurable:!0}),e.prototype.save=function(){i.StorageUtils.setObject(this.localStorageKey,this.userSettings)},e.prototype.load=function(){this.userSettings=i.StorageUtils.getObject(this.localStorageKey)||{};for(var e in this.userSettings)this._properties[e].value=this.userSettings[e]},e}();n.SubtitleSettingsManager=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.instance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.prefixCss=function(t){return e.prototype.prefixCss.call(this,t)},t}(r.Component),l=function(){function e(e){this._manager=e,this._onChanged=new s.EventDispatcher}return e.prototype.isSet=function(){return null!=this._value},e.prototype.clear=function(){this._value=null,this.onChangedEvent(null)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){"string"==typeof e&&"null"===e&&(e=null),this._value=e,this.onChangedEvent(e)},enumerable:!0,configurable:!0}),e.prototype.onChangedEvent=function(e){this._onChanged.dispatch(this._manager,this)},Object.defineProperty(e.prototype,"onChanged",{get:function(){return this._onChanged.getEvent()},enumerable:!0,configurable:!0}),e}();n.SubtitleSettingsProperty=l},{"../../eventdispatcher":78,"../../storageutils":83,"../component":18}],61:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../settingspanelpage"),r=e("./subtitlesettingsmanager"),s=e("./fontsizeselectbox"),a=e("./fontfamilyselectbox"),c=e("./fontcolorselectbox"),l=e("./fontopacityselectbox"),u=e("./characteredgeselectbox"),p=e("./backgroundcolorselectbox"),f=e("./backgroundopacityselectbox"),g=e("./windowcolorselectbox"),d=e("./windowopacityselectbox"),h=e("./subtitlesettingsresetbutton"),v=e("../settingspanelpagebackbutton"),m=e("../settingspanelitem"),y=function(e){function t(t){var n=e.call(this,t)||this;n.overlay=t.overlay,n.settingsPanel=t.settingsPanel;var o=new r.SubtitleSettingsManager;return n.config=n.mergeConfig(t,{components:[new m.SettingsPanelItem("Font size",new s.FontSizeSelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Font family",new a.FontFamilySelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Font color",new c.FontColorSelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Font opacity",new l.FontOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Character edge",new u.CharacterEdgeSelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Background color",new p.BackgroundColorSelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Background opacity",new f.BackgroundOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Window color",new g.WindowColorSelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem("Window opacity",new d.WindowOpacitySelectBox({overlay:n.overlay,settingsManager:o})),new m.SettingsPanelItem(new v.SettingsPanelPageBackButton({container:n.settingsPanel,text:"Back"}),new h.SubtitleSettingsResetButton({settingsManager:o}))]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onActive.subscribe(function(){o.overlay.enablePreviewSubtitleLabel()}),this.onInactive.subscribe(function(){o.overlay.removePreviewSubtitleLabel()})},t}(i.SettingsPanelPage);n.SubtitleSettingsPanelPage=y},{"../settingspanelitem":41,"../settingspanelpage":42,"../settingspanelpagebackbutton":43,"./backgroundcolorselectbox":51,"./backgroundopacityselectbox":52,"./characteredgeselectbox":53,"./fontcolorselectbox":54,"./fontfamilyselectbox":55,"./fontopacityselectbox":56,"./fontsizeselectbox":57,"./subtitlesettingsmanager":60,"./subtitlesettingsresetbutton":62,"./windowcolorselectbox":63,"./windowopacityselectbox":64}],62:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("../button"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-subtitlesettingsresetbutton",text:"Reset"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.onClick.subscribe(function(){o.config.settingsManager.reset()})},t}(i.Button);n.SubtitleSettingsResetButton=r},{"../button":12}],63:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingswindowcolorselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("white","white"),this.addItem("black","black"),this.addItem("red","red"),this.addItem("green","green"),this.addItem("blue","blue"),this.addItem("cyan","cyan"),this.addItem("yellow","yellow"),this.addItem("magenta","magenta");var i=function(){o.settingsManager.windowColor.isSet()&&o.settingsManager.windowOpacity.isSet()?o.toggleOverlayClass("windowcolor-"+o.settingsManager.windowColor.value+o.settingsManager.windowOpacity.value):o.toggleOverlayClass(null)};this.onItemSelected.subscribe(function(e,t){o.settingsManager.windowColor.value=t}),this.settingsManager.windowColor.onChanged.subscribe(function(e,t){o.settingsManager.windowColor.isSet()?o.settingsManager.windowOpacity.isSet()||(o.settingsManager.windowOpacity.value="100"):o.settingsManager.windowOpacity.clear(),o.selectItem(t.value),i()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(){i()}),this.settingsManager.windowColor.isSet()&&this.selectItem(this.settingsManager.windowColor.value)},t}(i.SubtitleSettingSelectBox);n.WindowColorSelectBox=r},{"./subtitlesettingselectbox":58}],64:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./subtitlesettingselectbox"),r=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-subtitlesettingswindowopacityselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n),this.addItem(null,"default"),this.addItem("100","100%"),this.addItem("75","75%"),this.addItem("50","50%"),this.addItem("25","25%"),this.addItem("0","0%"),this.onItemSelected.subscribe(function(e,t){o.settingsManager.windowOpacity.value=t,o.settingsManager.windowOpacity.isSet()?o.settingsManager.windowColor.isSet()||(o.settingsManager.windowColor.value="black"):o.settingsManager.windowColor.clear()}),this.settingsManager.windowOpacity.onChanged.subscribe(function(e,t){o.selectItem(t.value)}),this.settingsManager.windowOpacity.isSet()&&this.selectItem(this.settingsManager.windowOpacity.value)},t}(i.SubtitleSettingSelectBox);n.WindowOpacitySelectBox=r},{"./subtitlesettingselectbox":58}],65:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./metadatalabel"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-titlebar",hidden:!0,components:[new r.MetadataLabel({content:r.MetadataLabelContent.Title}),new r.MetadataLabel({content:r.MetadataLabelContent.Description})],keepHiddenWithoutMetadata:!1},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);for(var i=this.getConfig(),s=!this.isHidden(),a=!0,c=function(){a=!1;for(var e=0,t=o.getComponents();e<t.length;e++){var n=t[e];if(n instanceof r.MetadataLabel&&!n.isEmpty()){a=!0;break}}o.isShown()?i.keepHiddenWithoutMetadata&&!a&&o.hide():s&&o.show()},l=0,u=this.getComponents();l<u.length;l++){var p=u[l];p instanceof r.MetadataLabel&&p.onTextChanged.subscribe(c)}n.onControlsShow.subscribe(function(){s=!0,i.keepHiddenWithoutMetadata&&!a||o.show()}),n.onControlsHide.subscribe(function(){s=!1,o.hide()}),c()},t}(i.Container);n.TitleBar=s},{"./container":19,"./metadatalabel":30}],66:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./button"),r=e("../eventdispatcher"),s=function(e){function t(t){var n=e.call(this,t)||this;n.toggleButtonEvents={onToggle:new r.EventDispatcher,onToggleOn:new r.EventDispatcher,onToggleOff:new r.EventDispatcher};var o={cssClass:"ui-togglebutton",onClass:"on",offClass:"off"};return n.config=n.mergeConfig(t,o,n.config),n}return o(t,e),t.prototype.configure=function(t,n){e.prototype.configure.call(this,t,n);var o=this.getConfig();this.getDomElement().addClass(this.prefixCss(o.offClass))},t.prototype.on=function(){if(this.isOff()){var e=this.getConfig();this.onState=!0,this.getDomElement().removeClass(this.prefixCss(e.offClass)),this.getDomElement().addClass(this.prefixCss(e.onClass)),this.onToggleEvent(),this.onToggleOnEvent()}},t.prototype.off=function(){if(this.isOn()){var e=this.getConfig();this.onState=!1,this.getDomElement().removeClass(this.prefixCss(e.onClass)),this.getDomElement().addClass(this.prefixCss(e.offClass)),this.onToggleEvent(),this.onToggleOffEvent()}},t.prototype.toggle=function(){this.isOn()?this.off():this.on()},t.prototype.isOn=function(){return this.onState},t.prototype.isOff=function(){return!this.isOn()},t.prototype.onClickEvent=function(){e.prototype.onClickEvent.call(this),this.onToggleEvent()},t.prototype.onToggleEvent=function(){this.toggleButtonEvents.onToggle.dispatch(this)},t.prototype.onToggleOnEvent=function(){this.toggleButtonEvents.onToggleOn.dispatch(this)},t.prototype.onToggleOffEvent=function(){this.toggleButtonEvents.onToggleOff.dispatch(this)},Object.defineProperty(t.prototype,"onToggle",{get:function(){return this.toggleButtonEvents.onToggle.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOn",{get:function(){return this.toggleButtonEvents.onToggleOn.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onToggleOff",{get:function(){return this.toggleButtonEvents.onToggleOff.getEvent()},enumerable:!0,configurable:!0}),t}(i.Button);n.ToggleButton=s},{"../eventdispatcher":78,"./button":12}],67:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./component"),r=e("../dom"),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.canvasWidth=160,n.canvasHeight=90,n.interferenceHeight=50,n.lastFrameUpdate=0,n.frameInterval=60,n.useAnimationFrame=!!window.requestAnimationFrame,n.config=n.mergeConfig(t,{cssClass:"ui-tvnoisecanvas"},n.config),n}return o(t,e),t.prototype.toDomElement=function(){return this.canvas=new r.DOM("canvas",{class:this.getCssClasses()})},t.prototype.start=function(){this.canvasElement=this.canvas.get(0),this.canvasContext=this.canvasElement.getContext("2d"),this.noiseAnimationWindowPos=-this.canvasHeight,this.lastFrameUpdate=0,this.canvasElement.width=this.canvasWidth,this.canvasElement.height=this.canvasHeight,this.renderFrame()},t.prototype.stop=function(){this.useAnimationFrame?cancelAnimationFrame(this.frameUpdateHandlerId):clearTimeout(this.frameUpdateHandlerId)},t.prototype.renderFrame=function(){if(this.lastFrameUpdate+this.frameInterval>(new Date).getTime())return void this.scheduleNextRender();for(var e,t=this.canvasWidth,n=this.canvasHeight,o=this.canvasContext.createImageData(t,n),i=0;i<n;i++)for(var r=0;r<t;r++)e=t*i*4+4*r,o.data[e]=255*Math.random(),(i<this.noiseAnimationWindowPos||i>this.noiseAnimationWindowPos+this.interferenceHeight)&&(o.data[e]*=.85),o.data[e+1]=o.data[e],o.data[e+2]=o.data[e],o.data[e+3]=50;this.canvasContext.putImageData(o,0,0),this.lastFrameUpdate=(new Date).getTime(),this.noiseAnimationWindowPos+=7,this.noiseAnimationWindowPos>n&&(this.noiseAnimationWindowPos=-n),this.scheduleNextRender()},t.prototype.scheduleNextRender=function(){this.useAnimationFrame?this.frameUpdateHandlerId=window.requestAnimationFrame(this.renderFrame.bind(this)):this.frameUpdateHandlerId=setTimeout(this.renderFrame.bind(this),this.frameInterval)},t}(i.Component);n.TvNoiseCanvas=s},{"../dom":76,"./component":18}],68:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("../dom"),s=e("../timeout"),a=e("../playerutils"),c=e("../eventdispatcher"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-uicontainer",hideDelay:5e3},n.config),n.playerStateChange=new c.EventDispatcher,n}return o(t,e),t.prototype.configure=function(t,n){var o=this.getConfig();o.userInteractionEventSource?this.userInteractionEventSource=new r.DOM(o.userInteractionEventSource):this.userInteractionEventSource=this.getDomElement(),e.prototype.configure.call(this,t,n),this.configureUIShowHide(t,n),this.configurePlayerStates(t,n)},t.prototype.configureUIShowHide=function(e,t){var n=this,o=this.getConfig();if(-1===o.hideDelay)return void t.onConfigured.subscribe(function(){return t.onControlsShow.dispatch(n)});var i,r=!1,a=!1,c=!0,l=function(){return o.hidePlayerStateExceptions&&o.hidePlayerStateExceptions.indexOf(i)>-1},u=function(){r||(t.onControlsShow.dispatch(n),r=!0),a||e.isCasting()||l()||n.uiHideTimeout.start()},p=function(){if(r&&!e.isCasting()){var o={};t.onPreviewControlsHide.dispatch(n,o),o.cancel?u():(t.onControlsHide.dispatch(n),r=!1)}};this.uiHideTimeout=new s.Timeout(o.hideDelay,p),this.userInteractionEvents=[{name:"touchend",handler:function(e){r||(c?c=!1:e.preventDefault(),u())}},{name:"mouseenter",handler:function(){u()}},{name:"mousemove",handler:function(){u()}},{name:"mouseleave",handler:function(){a||l()||n.uiHideTimeout.start()}}],this.userInteractionEvents.forEach(function(e){return n.userInteractionEventSource.on(e.name,e.handler)}),t.onSeek.subscribe(function(){n.uiHideTimeout.clear(),a=!0}),t.onSeeked.subscribe(function(){a=!1,n.uiHideTimeout.start()}),e.on(e.exports.PlayerEvent.CastStarted,function(){u()}),this.playerStateChange.subscribe(function(e,t){i=t,l()?(n.uiHideTimeout.clear(),u()):n.uiHideTimeout.start()})},
t.prototype.configurePlayerStates=function(e,n){var o=this,i=this.getDomElement(),s=[];for(var c in a.PlayerUtils.PlayerState)if(isNaN(Number(c))){var l=a.PlayerUtils.PlayerState[a.PlayerUtils.PlayerState[c]];s[a.PlayerUtils.PlayerState[c]]=this.prefixCss(t.STATE_PREFIX+l.toLowerCase())}var u=function(){i.removeClass(s[a.PlayerUtils.PlayerState.Idle]),i.removeClass(s[a.PlayerUtils.PlayerState.Prepared]),i.removeClass(s[a.PlayerUtils.PlayerState.Playing]),i.removeClass(s[a.PlayerUtils.PlayerState.Paused]),i.removeClass(s[a.PlayerUtils.PlayerState.Finished])},p=function(e){u(),i.addClass(s[e]),o.playerStateChange.dispatch(o,e)};e.on(e.exports.PlayerEvent.SourceLoaded,function(){p(a.PlayerUtils.PlayerState.Prepared)}),e.on(e.exports.PlayerEvent.Play,function(){p(a.PlayerUtils.PlayerState.Playing)}),e.on(e.exports.PlayerEvent.Paused,function(){p(a.PlayerUtils.PlayerState.Paused)}),e.on(e.exports.PlayerEvent.PlaybackFinished,function(){p(a.PlayerUtils.PlayerState.Finished)}),e.on(e.exports.PlayerEvent.SourceUnloaded,function(){p(a.PlayerUtils.PlayerState.Idle)}),n.getConfig().events.onUpdated.subscribe(function(){p(a.PlayerUtils.getState(e))}),p(a.PlayerUtils.getState(e)),e.on(e.exports.PlayerEvent.ViewModeChanged,function(){e.getViewMode()===e.exports.ViewMode.Fullscreen?i.addClass(o.prefixCss(t.FULLSCREEN)):i.removeClass(o.prefixCss(t.FULLSCREEN))}),e.getViewMode()===e.exports.ViewMode.Fullscreen&&i.addClass(this.prefixCss(t.FULLSCREEN)),e.on(e.exports.PlayerEvent.StallStarted,function(){i.addClass(o.prefixCss(t.BUFFERING))}),e.on(e.exports.PlayerEvent.StallEnded,function(){i.removeClass(o.prefixCss(t.BUFFERING))}),e.isStalled()&&i.addClass(this.prefixCss(t.BUFFERING)),e.on(e.exports.PlayerEvent.CastStarted,function(){i.addClass(o.prefixCss(t.REMOTE_CONTROL))}),e.on(e.exports.PlayerEvent.CastStopped,function(){i.removeClass(o.prefixCss(t.REMOTE_CONTROL))}),e.isCasting()&&i.addClass(this.prefixCss(t.REMOTE_CONTROL)),n.onControlsShow.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_HIDDEN)),i.addClass(o.prefixCss(t.CONTROLS_SHOWN))}),n.onControlsHide.subscribe(function(){i.removeClass(o.prefixCss(t.CONTROLS_SHOWN)),i.addClass(o.prefixCss(t.CONTROLS_HIDDEN))});var f=function(e,t){i.removeClass(o.prefixCss("layout-max-width-400")),i.removeClass(o.prefixCss("layout-max-width-600")),i.removeClass(o.prefixCss("layout-max-width-800")),i.removeClass(o.prefixCss("layout-max-width-1200")),e<=400?i.addClass(o.prefixCss("layout-max-width-400")):e<=600?i.addClass(o.prefixCss("layout-max-width-600")):e<=800?i.addClass(o.prefixCss("layout-max-width-800")):e<=1200&&i.addClass(o.prefixCss("layout-max-width-1200"))};e.on(e.exports.PlayerEvent.PlayerResized,function(e){var t=Math.round(Number(e.width.substring(0,e.width.length-2)));Math.round(Number(e.height.substring(0,e.height.length-2)));f(t)}),f(new r.DOM(e.getContainer()).width(),new r.DOM(e.getContainer()).height())},t.prototype.release=function(){var t=this;this.userInteractionEvents&&this.userInteractionEvents.forEach(function(e){return t.userInteractionEventSource.off(e.name,e.handler)}),e.prototype.release.call(this),this.uiHideTimeout&&this.uiHideTimeout.clear()},t.prototype.toDomElement=function(){var t=e.prototype.toDomElement.call(this);return document&&void 0!==document.createElement("p").style.flex?t.addClass(this.prefixCss("flexbox")):t.addClass(this.prefixCss("no-flexbox")),t},t.STATE_PREFIX="player-state-",t.FULLSCREEN="fullscreen",t.BUFFERING="buffering",t.REMOTE_CONTROL="remote-control",t.CONTROLS_SHOWN="controls-shown",t.CONTROLS_HIDDEN="controls-hidden",t}(i.Container);n.UIContainer=l},{"../dom":76,"../eventdispatcher":78,"../playerutils":82,"../timeout":86,"./container":19}],69:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./selectbox"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClasses:["ui-videoqualityselectbox"]},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){o.selectItem(t.getVideoQuality().id)},r=function(){var e=t.getAvailableVideoQualities();o.clearItems(),o.hasAuto="progressive"!==t.getStreamType(),o.hasAuto&&o.addItem("auto","auto");for(var n=0,r=e;n<r.length;n++){var s=r[n];o.addItem(s.id,s.label)}i()};this.onItemSelected.subscribe(function(e,n){t.setVideoQuality(n)}),t.on(t.exports.PlayerEvent.SourceUnloaded,r),t.on(t.exports.PlayerEvent.PeriodSwitched,r),t.on(t.exports.PlayerEvent.VideoQualityChanged,i),t.exports.PlayerEvent.VideoQualityAdded&&(t.on(t.exports.PlayerEvent.VideoQualityAdded,r),t.on(t.exports.PlayerEvent.VideoQualityRemoved,r)),n.getConfig().events.onUpdated.subscribe(r)},t.prototype.hasAutoItem=function(){return this.hasAuto},t}(i.SelectBox);n.VideoQualitySelectBox=r},{"./selectbox":39}],70:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./container"),r=e("./volumeslider"),s=e("./volumetogglebutton"),a=e("../timeout"),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.volumeToggleButton=new s.VolumeToggleButton,n.volumeSlider=new r.VolumeSlider({vertical:null==t.vertical||t.vertical,hidden:!0}),n.config=n.mergeConfig(t,{cssClass:"ui-volumecontrolbutton",components:[n.volumeToggleButton,n.volumeSlider],hideDelay:500},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=this.getVolumeToggleButton(),r=this.getVolumeSlider();this.volumeSliderHideTimeout=new a.Timeout(this.getConfig().hideDelay,function(){r.hide()});var s=!1;i.getDomElement().on("mouseenter",function(){r.isHidden()&&r.show(),o.volumeSliderHideTimeout.clear()}),i.getDomElement().on("mouseleave",function(){o.volumeSliderHideTimeout.reset()}),r.getDomElement().on("mouseenter",function(){o.volumeSliderHideTimeout.clear(),s=!0}),r.getDomElement().on("mouseleave",function(){r.isSeeking()?o.volumeSliderHideTimeout.clear():o.volumeSliderHideTimeout.reset(),s=!1}),r.onSeeked.subscribe(function(){s||o.volumeSliderHideTimeout.reset()})},t.prototype.release=function(){e.prototype.release.call(this),this.volumeSliderHideTimeout.clear()},t.prototype.getVolumeToggleButton=function(){return this.volumeToggleButton},t.prototype.getVolumeSlider=function(){return this.volumeSlider},t}(i.Container);n.VolumeControlButton=c},{"../timeout":86,"./container":19,"./volumeslider":71,"./volumetogglebutton":72}],71:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./seekbar"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.updateVolumeWhileScrubbing=function(e,t){t.scrubbing&&n.volumeTransition&&n.volumeTransition.update(t.position)},n.config=n.mergeConfig(t,{cssClass:"ui-volumeslider",hideIfVolumeControlProhibited:!0},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n,!1);var i=this.getConfig(),r=n.getConfig().volumeController;if(i.hideIfVolumeControlProhibited&&!this.detectVolumeControlAvailability())return void this.hide();r.onChanged.subscribe(function(e,t){t.muted?o.setPlaybackPosition(0):o.setPlaybackPosition(t.volume)}),this.onSeek.subscribe(function(){o.volumeTransition=r.startTransition()}),this.onSeekPreview.subscribeRateLimited(this.updateVolumeWhileScrubbing,50),this.onSeeked.subscribe(function(e,t){o.volumeTransition&&o.volumeTransition.finish(t)}),t.on(t.exports.PlayerEvent.PlayerResized,function(){o.refreshPlaybackPosition()}),n.onConfigured.subscribe(function(){o.refreshPlaybackPosition()}),n.getConfig().events.onUpdated.subscribe(function(){o.refreshPlaybackPosition()}),n.onComponentShow.subscribe(function(){o.refreshPlaybackPosition()}),n.onComponentHide.subscribe(function(){o.refreshPlaybackPosition()}),r.onChangedEvent()},t.prototype.detectVolumeControlAvailability=function(){var e=document.createElement("video");return e.volume=.7,1!==e.volume},t.prototype.release=function(){e.prototype.release.call(this),this.onSeekPreview.unsubscribe(this.updateVolumeWhileScrubbing)},t.issuerName="ui",t}(i.SeekBar);n.VolumeSlider=r},{"./seekbar":37}],72:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o={cssClass:"ui-volumetogglebutton",text:"Volume/Mute",onClass:"muted",offClass:"unmuted"};return n.config=n.mergeConfig(t,o,n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=n.getConfig().volumeController;i.onChanged.subscribe(function(e,t){t.muted?o.on():o.off();var n=Math.ceil(t.volume/10);o.getDomElement().data(o.prefixCss("volume-level-tens"),String(n))}),this.onClick.subscribe(function(){i.toggleMuted()}),i.onChangedEvent()},t}(i.ToggleButton);n.VolumeToggleButton=r},{"./togglebutton":66}],73:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./togglebutton"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-vrtogglebutton",text:"VR"},n.config),n}return o(t,e),t.prototype.configure=function(t,n){var o=this;e.prototype.configure.call(this,t,n);var i=function(){var e=t.getSource();return e&&Boolean(e.vr)},r=function(){var e=t.getSource();return t.vr&&Boolean(e.vr)},s=function(e){e.type===t.exports.PlayerEvent.Warning&&e.code!==t.exports.WarningCode.VR_RENDERING_ERROR||(i()&&r()?(o.show(),t.vr&&t.vr.getStereo()?o.on():o.off()):o.hide())},a=function(){i()?o.show():o.hide()};t.on(t.exports.PlayerEvent.VRStereoChanged,s),t.on(t.exports.PlayerEvent.Warning,s),t.on(t.exports.PlayerEvent.SourceUnloaded,a),n.getConfig().events.onUpdated.subscribe(a),this.onClick.subscribe(function(){r()?t.vr&&t.vr.getStereo()?t.vr.setStereo(!1):t.vr.setStereo(!0):console&&console.log("No VR content")}),a()},t}(i.ToggleButton);n.VRToggleButton=r},{"./togglebutton":66}],74:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./clickoverlay"),r=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.config=n.mergeConfig(t,{cssClass:"ui-watermark",url:"http://bitmovin.com"},n.config),n}return o(t,e),t}(i.ClickOverlay);n.Watermark=r},{"./clickoverlay":16}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./components/vrtogglebutton"),i=e("./components/settingstogglebutton"),r=e("./components/volumeslider"),s=e("./components/playbacktimelabel"),a=e("./components/airplaytogglebutton"),c=e("./components/errormessageoverlay"),l=e("./components/controlbar"),u=e("./components/casttogglebutton"),p=e("./components/fullscreentogglebutton"),f=e("./components/recommendationoverlay"),g=e("./components/playbackspeedselectbox"),d=e("./components/audioqualityselectbox"),h=e("./components/caststatusoverlay"),v=e("./components/uicontainer"),m=e("./components/watermark"),y=e("./components/subtitleoverlay"),b=e("./components/settingspanel"),C=e("./components/seekbarlabel"),P=e("./components/playbacktoggleoverlay"),_=e("./components/pictureinpicturetogglebutton"),S=e("./components/spacer"),w=e("./components/container"),E=e("./components/volumetogglebutton"),x=e("./components/playbacktogglebutton"),O=e("./components/seekbar"),k=e("./components/videoqualityselectbox"),T=e("./uimanager"),M=e("./components/titlebar"),I=e("./components/bufferingoverlay"),A=e("./components/subtitlelistbox"),B=e("./components/audiotracklistbox"),D=e("./components/settingspanelitem"),L=e("./components/settingspanelpage"),j=e("./uifactory");!function(e){function t(e,t){void 0===t&&(t={});return new T.UIManager(e,[{ui:j.UIFactory.modernSmallScreenAdsUI(),condition:function(e){return e.isMobile&&e.documentWidth<600&&e.isAd&&e.adRequiresUi}},{ui:j.UIFactory.modernAdsUI(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:j.UIFactory.modernSmallScreenUI(),condition:function(e){return e.isMobile&&e.documentWidth<600}},{ui:n()}],t)}function n(){var e=new y.SubtitleOverlay,t=new b.SettingsPanel({components:[new L.SettingsPanelPage({components:[new D.SettingsPanelItem("Video Quality",new k.VideoQualitySelectBox),new D.SettingsPanelItem("Speed",new g.PlaybackSpeedSelectBox),new D.SettingsPanelItem("Audio Quality",new d.AudioQualitySelectBox)]})],hidden:!0}),n=new A.SubtitleListBox,T=new b.SettingsPanel({components:[new L.SettingsPanelPage({components:[new D.SettingsPanelItem(null,n)]})],hidden:!0}),j=new B.AudioTrackListBox,U=new b.SettingsPanel({components:[new L.SettingsPanelPage({components:[new D.SettingsPanelItem(null,j)]})],hidden:!0}),H=new l.ControlBar({components:[U,T,t,new w.Container({components:[new s.PlaybackTimeLabel({timeLabelMode:s.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new O.SeekBar({label:new C.SeekBarLabel}),new s.PlaybackTimeLabel({timeLabelMode:s.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new w.Container({components:[new x.PlaybackToggleButton,new E.VolumeToggleButton,new r.VolumeSlider,new S.Spacer,new _.PictureInPictureToggleButton,new a.AirPlayToggleButton,new u.CastToggleButton,new o.VRToggleButton,new i.SettingsToggleButton({settingsPanel:U,cssClass:"ui-audiotracksettingstogglebutton"}),new i.SettingsToggleButton({settingsPanel:T,cssClass:"ui-subtitlesettingstogglebutton"}),new i.SettingsToggleButton({settingsPanel:t}),new p.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new v.UIContainer({components:[e,new I.BufferingOverlay,new P.PlaybackToggleOverlay,new h.CastStatusOverlay,H,new M.TitleBar,new f.RecommendationOverlay,new m.Watermark,new c.ErrorMessageOverlay]})}e.buildDemoWithSeparateAudioSubtitlesButtons=t}(n.DemoFactory||(n.DemoFactory={}))},{"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":22,"./components/fullscreentogglebutton":23,"./components/pictureinpicturetogglebutton":31,"./components/playbackspeedselectbox":32,"./components/playbacktimelabel":33,"./components/playbacktogglebutton":34,"./components/playbacktoggleoverlay":35,"./components/recommendationoverlay":36,"./components/seekbar":37,"./components/seekbarlabel":38,"./components/settingspanel":40,"./components/settingspanelitem":41,"./components/settingspanelpage":42,"./components/settingstogglebutton":46,"./components/spacer":47,"./components/subtitlelistbox":48,"./components/subtitleoverlay":49,"./components/titlebar":65,"./components/uicontainer":68,"./components/videoqualityselectbox":69,"./components/volumeslider":71,"./components/volumetogglebutton":72,"./components/vrtogglebutton":73,"./components/watermark":74,"./uifactory":87,"./uimanager":88}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){if(this.document=document,e instanceof Array){if(e.length>0&&e[0]instanceof HTMLElement){var n=e;this.elements=n}}else if(e instanceof HTMLElement){var o=e;this.elements=[o]}else if(e instanceof Document)this.elements=null;else if(t){var i=e,o=document.createElement(i);for(var r in t){var s=t[r];o.setAttribute(r,s)}this.elements=[o]}else{var a=e;this.elements=this.findChildElements(a)}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.elements?this.elements.length:0},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return void 0===e?this.elements:!this.elements||e>=this.elements.length||e<-this.elements.length?void 0:e<0?this.elements[this.elements.length-e]:this.elements[e]},e.prototype.forEach=function(e){this.elements&&this.elements.forEach(function(t){e(t)})},e.prototype.findChildElementsOfElement=function(e,t){var n=e.querySelectorAll(t);return[].slice.call(n)},e.prototype.findChildElements=function(e){var t=this,n=[];return this.elements?(this.forEach(function(o){n=n.concat(t.findChildElementsOfElement(o,e))}),n):this.findChildElementsOfElement(document,e)},e.prototype.find=function(t){return new e(this.findChildElements(t))},e.prototype.html=function(e){return arguments.length>0?this.setHtml(e):this.getHtml()},e.prototype.getHtml=function(){return this.elements[0].innerHTML},e.prototype.setHtml=function(e){return void 0!==e&&null!=e||(e=""),this.forEach(function(t){t.innerHTML=e}),this},e.prototype.empty=function(){return this.forEach(function(e){e.innerHTML=""}),this},e.prototype.val=function(){var e=this.elements[0];if(e instanceof HTMLSelectElement||e instanceof HTMLInputElement)return e.value;throw new Error("val() not supported for "+typeof e)},e.prototype.attr=function(e,t){return arguments.length>1?this.setAttr(e,t):this.getAttr(e)},e.prototype.getAttr=function(e){return this.elements[0].getAttribute(e)},e.prototype.setAttr=function(e,t){return this.forEach(function(n){n.setAttribute(e,t)}),this},e.prototype.data=function(e,t){return arguments.length>1?this.setData(e,t):this.getData(e)},e.prototype.getData=function(e){return this.elements[0].getAttribute("data-"+e)},e.prototype.setData=function(e,t){return this.forEach(function(n){n.setAttribute("data-"+e,t)}),this},e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.forEach(function(t){e.forEach(function(e){e.elements.forEach(function(n,o){t.appendChild(e.elements[o])})})}),this},e.prototype.remove=function(){this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})},e.prototype.offset=function(){var e=this.elements[0],t=e.getBoundingClientRect(),n=document.body.parentElement.getBoundingClientRect();return{top:t.top-n.top,left:t.left-n.left}},e.prototype.width=function(){return this.elements[0].offsetWidth},e.prototype.height=function(){return this.elements[0].offsetHeight},e.prototype.on=function(e,t){var n=this;return e.split(" ").forEach(function(e){null==n.elements?n.document.addEventListener(e,t):n.forEach(function(n){n.addEventListener(e,t)})}),this},e.prototype.off=function(e,t){var n=this;return e.split(" ").forEach(function(e){null==n.elements?n.document.removeEventListener(e,t):n.forEach(function(n){n.removeEventListener(e,t)})}),this},e.prototype.addClass=function(e){return this.forEach(function(t){var n;if(t.classList){var o=e.split(" ").filter(function(e){return e.length>0});o.length>0&&(n=t.classList).add.apply(n,o)}else t.className+=" "+e}),this},e.prototype.removeClass=function(e){return this.forEach(function(t){var n;if(t.classList){var o=e.split(" ").filter(function(e){return e.length>0});o.length>0&&(n=t.classList).remove.apply(n,o)}else t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},e.prototype.hasClass=function(e){var t=!1;return this.forEach(function(n){n.classList?n.classList.contains(e)&&(t=!0):new RegExp("(^| )"+e+"( |$)","gi").test(n.className)&&(t=!0)}),t},e.prototype.css=function(e,t){if("string"==typeof e){var n=e;return 2===arguments.length?this.setCss(n,t):this.getCss(n)}var o=e;return this.setCssCollection(o)},e.prototype.getCss=function(e){return getComputedStyle(this.elements[0])[e]},e.prototype.setCss=function(e,t){return this.forEach(function(n){n.style[e]=t}),this},e.prototype.setCssCollection=function(e){return this.forEach(function(t){Object.assign(t.style,e)}),this},e}();n.DOM=o},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e.defaultErrorMessages={1e3:"Error is unknown",1001:"The player API is not available after a call to PlayerAPI.destroy.",1100:"General setup error",1101:"There was an error when inserting the HTML video element",1102:"No configuration was provided",1103:"The license is not valid",1104:"The the domain-locked player is not authorized to playback on this domain",1105:"The domain is not whitelisted",1106:"The license server URL is invalid",1107:"The impression server URL is invalid",1108:"Could not initialize a rendering engine",1109:"The used flash version does not support playback",1110:"Native Flash is not authorized by a valid Adobe token",1111:"Flash doesn't have sufficient resources",1112:"Flash container API not available",1113:'Protocol not supported. This site has been loaded using "file" protocol, but unfortunately this is not supported. Please load the page using a web server (using http or https)',1200:"General source error",1201:"No valid source was provided",1202:"The downloaded manifest is invalid",1203:"There was no technology detected to playback the provided source",1204:"The stream type is not supported",1205:"The forced technology is not supported",1206:"No stream found for supported technologies.",1207:"The downloaded segment is empty",1208:"The manifest could not be loaded",1209:"Progressive stream type not supported or the stream has an error",1210:"HLS stream has an error",1211:"The encryption method is not supported",1300:"General playback error",1301:"Video decoder or demuxer had an error with the content",1302:"General error if Flash renderer has an error",1303:"Flash doesn't have sufficient resources",1304:"The transmuxer could not be initialized",1400:"Network error while downloading",1401:"The manifest download timed out",1402:"The segment download timed out",1403:"The progressive stream download timed out",1404:"The Certificate could not be loaded",2e3:"General DRM error",2001:"Required DRM configuration is missing",2002:"The licensing server URL is missing",2003:"License request failed",2004:"Key or KeyId is missing",2005:"Key size is not supported",2006:"Unable to instantiate a key system supporting the required combinations",2007:"Unable to create or initialize key session",2008:"The MediaKey object could not be created/initialized",2009:"Key error",2010:"The key system is not supported",2011:"The certificate is not valid",2012:"Invalid header key/value pair for PlayReady license request",2013:"Content cannot be played back because the output is restricted on this machine",2014:"DRM error for the Flash renderer",2100:"General VR error",2101:"Player technology not compatible with VR playback",3e3:"General module error",3001:"The definition of the module is invalid (e.g. incomplete).",3002:"The module definition specifies dependencies but the module is not provided via a function for deferred loading.",3003:"A module cannot be loaded because it has not been added to the player core.",3004:"A module cannot be loaded because one or more dependencies are missing.",3100:"An Advertising module error has occurred. Refer to the attached AdvertisingError."},e.defaultErrorMessageTranslator=function(t){var n=e.defaultErrorMessages[t.code];return n?n+"\n("+t.name+")":t.code+" "+t.name}}(n.ErrorUtils||(n.ErrorUtils={}))},{}],78:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=e("./arrayutils"),r=e("./timeout"),s=function(){function e(){this.listeners=[]}return e.prototype.subscribe=function(e){this.listeners.push(new a(e))},e.prototype.subscribeOnce=function(e){this.listeners.push(new a(e,!0))},e.prototype.subscribeRateLimited=function(e,t){this.listeners.push(new c(e,t))},e.prototype.unsubscribe=function(e){for(var t=0;t<this.listeners.length;t++){var n=this.listeners[t];if(n.listener===e)return n.clear(),i.ArrayUtils.remove(this.listeners,n),!0}return!1},e.prototype.unsubscribeAll=function(){for(var e=0,t=this.listeners;e<t.length;e++){t[e].clear()}this.listeners=[]},e.prototype.dispatch=function(e,t){void 0===t&&(t=null);for(var n=[],o=this.listeners.slice(0),r=0,s=o;r<s.length;r++){var a=s[r];a.fire(e,t),a.isOnce()&&n.push(a)}for(var c=0,l=n;c<l.length;c++){var u=l[c];i.ArrayUtils.remove(this.listeners,u)}},e.prototype.getEvent=function(){return this},e}();n.EventDispatcher=s;var a=function(){function e(e,t){void 0===t&&(t=!1),this.eventListener=e,this.once=t}return Object.defineProperty(e.prototype,"listener",{get:function(){return this.eventListener},enumerable:!0,configurable:!0}),e.prototype.fire=function(e,t){this.eventListener(e,t)},e.prototype.isOnce=function(){return this.once},e.prototype.clear=function(){},e}(),c=function(e){function t(t,n){var o=e.call(this,t)||this;o.rateMs=n;var i=function(){o.rateLimitTimout.start()};return o.rateLimitTimout=new r.Timeout(o.rateMs,function(){o.lastSeenEvent&&(o.fireSuper(o.lastSeenEvent.sender,o.lastSeenEvent.args),i(),o.lastSeenEvent=null)}),o.rateLimitingEventListener=function(e,t){if(o.shouldFireEvent())return o.fireSuper(e,t),void i();o.lastSeenEvent={sender:e,args:t}},o}return o(t,e),t.prototype.shouldFireEvent=function(){return!this.rateLimitTimout.isActive()},t.prototype.fireSuper=function(t,n){e.prototype.fire.call(this,t,n)},t.prototype.fire=function(e,t){this.rateLimitingEventListener(e,t)},t.prototype.clear=function(){e.prototype.clear.call(this),this.rateLimitTimout.clear()},t}(a)},{"./arrayutils":1,"./timeout":86}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(){return n++}var n=1;e.next=t}(n.Guid||(n.Guid={}))},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./dom"),i=function(){function e(){this.state={}}return e.prototype.load=function(e,t){var n=this;if(this.state[e]){var i=this.state[e];i.loadedCallback=t,i.loaded&&this.callLoadedCallback(i)}else{var r={url:e,image:new o.DOM("img",{}),loadedCallback:t,loaded:!1,width:0,height:0};this.state[e]=r,r.image.on("load",function(e){r.loaded=!0,r.width=r.image.get(0).width,r.height=r.image.get(0).height,n.callLoadedCallback(r)}),r.image.attr("src",r.url)}},e.prototype.callLoadedCallback=function(e){e.loadedCallback(e.url,e.width,e.height)},e}();n.ImageLoader=i},{"./dom":76}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.version="3.6.0";var o=e("./uimanager");n.UIManager=o.UIManager,n.UIInstanceManager=o.UIInstanceManager;var i=e("./uifactory");n.UIFactory=i.UIFactory;var r=e("./demofactory");n.DemoFactory=r.DemoFactory;var s=e("./arrayutils");n.ArrayUtils=s.ArrayUtils;var a=e("./stringutils");n.StringUtils=a.StringUtils;var c=e("./playerutils");n.PlayerUtils=c.PlayerUtils;var l=e("./uiutils");n.UIUtils=l.UIUtils;var u=e("./browserutils");n.BrowserUtils=u.BrowserUtils;var p=e("./storageutils");n.StorageUtils=p.StorageUtils;var f=e("./errorutils");n.ErrorUtils=f.ErrorUtils;var g=e("./components/button");n.Button=g.Button;var d=e("./components/controlbar");n.ControlBar=d.ControlBar;var h=e("./components/fullscreentogglebutton");n.FullscreenToggleButton=h.FullscreenToggleButton;var v=e("./components/hugeplaybacktogglebutton");n.HugePlaybackToggleButton=v.HugePlaybackToggleButton;var m=e("./components/playbacktimelabel");n.PlaybackTimeLabel=m.PlaybackTimeLabel,n.PlaybackTimeLabelMode=m.PlaybackTimeLabelMode;var y=e("./components/playbacktogglebutton");n.PlaybackToggleButton=y.PlaybackToggleButton;var b=e("./components/seekbar");n.SeekBar=b.SeekBar;var C=e("./components/selectbox");n.SelectBox=C.SelectBox;var P=e("./components/itemselectionlist");n.ItemSelectionList=P.ItemSelectionList;var _=e("./components/settingspanel");n.SettingsPanel=_.SettingsPanel;var S=e("./components/settingstogglebutton");n.SettingsToggleButton=S.SettingsToggleButton;var w=e("./components/togglebutton");n.ToggleButton=w.ToggleButton;var E=e("./components/videoqualityselectbox");n.VideoQualitySelectBox=E.VideoQualitySelectBox;var x=e("./components/volumetogglebutton");n.VolumeToggleButton=x.VolumeToggleButton;var O=e("./components/vrtogglebutton");n.VRToggleButton=O.VRToggleButton;var k=e("./components/watermark");n.Watermark=k.Watermark;var T=e("./components/uicontainer");n.UIContainer=T.UIContainer;var M=e("./components/container");n.Container=M.Container;var I=e("./components/label");n.Label=I.Label;var A=e("./components/audioqualityselectbox");n.AudioQualitySelectBox=A.AudioQualitySelectBox;var B=e("./components/audiotrackselectbox");n.AudioTrackSelectBox=B.AudioTrackSelectBox;var D=e("./components/caststatusoverlay");n.CastStatusOverlay=D.CastStatusOverlay;var L=e("./components/casttogglebutton");n.CastToggleButton=L.CastToggleButton;var j=e("./components/component");n.Component=j.Component;var U=e("./components/errormessageoverlay");n.ErrorMessageOverlay=U.ErrorMessageOverlay;var H=e("./components/recommendationoverlay");n.RecommendationOverlay=H.RecommendationOverlay;var R=e("./components/seekbarlabel");n.SeekBarLabel=R.SeekBarLabel;var F=e("./components/subtitleoverlay");n.SubtitleOverlay=F.SubtitleOverlay;var V=e("./components/subtitleselectbox");n.SubtitleSelectBox=V.SubtitleSelectBox;var N=e("./components/titlebar");n.TitleBar=N.TitleBar;var W=e("./components/volumecontrolbutton");n.VolumeControlButton=W.VolumeControlButton;var z=e("./components/clickoverlay");n.ClickOverlay=z.ClickOverlay;var q=e("./components/adskipbutton");n.AdSkipButton=q.AdSkipButton;var Q=e("./components/admessagelabel");n.AdMessageLabel=Q.AdMessageLabel;var G=e("./components/adclickoverlay");n.AdClickOverlay=G.AdClickOverlay;var K=e("./components/playbackspeedselectbox");n.PlaybackSpeedSelectBox=K.PlaybackSpeedSelectBox;var Y=e("./components/hugereplaybutton");n.HugeReplayButton=Y.HugeReplayButton;var X=e("./components/bufferingoverlay");n.BufferingOverlay=X.BufferingOverlay;var J=e("./components/castuicontainer");n.CastUIContainer=J.CastUIContainer
;var $=e("./components/playbacktoggleoverlay");n.PlaybackToggleOverlay=$.PlaybackToggleOverlay;var Z=e("./components/closebutton");n.CloseButton=Z.CloseButton;var ee=e("./components/metadatalabel");n.MetadataLabel=ee.MetadataLabel,n.MetadataLabelContent=ee.MetadataLabelContent;var te=e("./components/airplaytogglebutton");n.AirPlayToggleButton=te.AirPlayToggleButton;var ne=e("./components/volumeslider");n.VolumeSlider=ne.VolumeSlider;var oe=e("./components/pictureinpicturetogglebutton");n.PictureInPictureToggleButton=oe.PictureInPictureToggleButton;var ie=e("./components/spacer");n.Spacer=ie.Spacer;var re=e("./components/subtitlesettings/backgroundcolorselectbox");n.BackgroundColorSelectBox=re.BackgroundColorSelectBox;var se=e("./components/subtitlesettings/backgroundopacityselectbox");n.BackgroundOpacitySelectBox=se.BackgroundOpacitySelectBox;var ae=e("./components/subtitlesettings/characteredgeselectbox");n.CharacterEdgeSelectBox=ae.CharacterEdgeSelectBox;var ce=e("./components/subtitlesettings/fontcolorselectbox");n.FontColorSelectBox=ce.FontColorSelectBox;var le=e("./components/subtitlesettings/fontfamilyselectbox");n.FontFamilySelectBox=le.FontFamilySelectBox;var ue=e("./components/subtitlesettings/fontopacityselectbox");n.FontOpacitySelectBox=ue.FontOpacitySelectBox;var pe=e("./components/subtitlesettings/fontsizeselectbox");n.FontSizeSelectBox=pe.FontSizeSelectBox;var fe=e("./components/subtitlesettings/subtitlesettingselectbox");n.SubtitleSettingSelectBox=fe.SubtitleSettingSelectBox;var ge=e("./components/subtitlesettings/subtitlesettingslabel");n.SubtitleSettingsLabel=ge.SubtitleSettingsLabel;var de=e("./components/subtitlesettings/windowcolorselectbox");n.WindowColorSelectBox=de.WindowColorSelectBox;var he=e("./components/subtitlesettings/windowopacityselectbox");n.WindowOpacitySelectBox=he.WindowOpacitySelectBox;var ve=e("./components/subtitlesettings/subtitlesettingsresetbutton");n.SubtitleSettingsResetButton=ve.SubtitleSettingsResetButton;var me=e("./components/listbox");n.ListBox=me.ListBox;var ye=e("./components/subtitlelistbox");n.SubtitleListBox=ye.SubtitleListBox;var be=e("./components/audiotracklistbox");n.AudioTrackListBox=be.AudioTrackListBox;var Ce=e("./components/settingspanelpage");n.SettingsPanelPage=Ce.SettingsPanelPage;var Pe=e("./components/settingspanelpagebackbutton");n.SettingsPanelPageBackButton=Pe.SettingsPanelPageBackButton;var _e=e("./components/settingspanelpageopenbutton");n.SettingsPanelPageOpenButton=_e.SettingsPanelPageOpenButton;var Se=e("./components/subtitlesettings/subtitlesettingspanelpage");n.SubtitleSettingsPanelPage=Se.SubtitleSettingsPanelPage;var we=e("./components/settingspanelitem");n.SettingsPanelItem=we.SettingsPanelItem,"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})},{"./arrayutils":1,"./browserutils":3,"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotracklistbox":9,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/button":12,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/clickoverlay":16,"./components/closebutton":17,"./components/component":18,"./components/container":19,"./components/controlbar":20,"./components/errormessageoverlay":22,"./components/fullscreentogglebutton":23,"./components/hugeplaybacktogglebutton":24,"./components/hugereplaybutton":25,"./components/itemselectionlist":26,"./components/label":27,"./components/listbox":28,"./components/metadatalabel":30,"./components/pictureinpicturetogglebutton":31,"./components/playbackspeedselectbox":32,"./components/playbacktimelabel":33,"./components/playbacktogglebutton":34,"./components/playbacktoggleoverlay":35,"./components/recommendationoverlay":36,"./components/seekbar":37,"./components/seekbarlabel":38,"./components/selectbox":39,"./components/settingspanel":40,"./components/settingspanelitem":41,"./components/settingspanelpage":42,"./components/settingspanelpagebackbutton":43,"./components/settingspanelpageopenbutton":45,"./components/settingstogglebutton":46,"./components/spacer":47,"./components/subtitlelistbox":48,"./components/subtitleoverlay":49,"./components/subtitleselectbox":50,"./components/subtitlesettings/backgroundcolorselectbox":51,"./components/subtitlesettings/backgroundopacityselectbox":52,"./components/subtitlesettings/characteredgeselectbox":53,"./components/subtitlesettings/fontcolorselectbox":54,"./components/subtitlesettings/fontfamilyselectbox":55,"./components/subtitlesettings/fontopacityselectbox":56,"./components/subtitlesettings/fontsizeselectbox":57,"./components/subtitlesettings/subtitlesettingselectbox":58,"./components/subtitlesettings/subtitlesettingslabel":59,"./components/subtitlesettings/subtitlesettingspanelpage":61,"./components/subtitlesettings/subtitlesettingsresetbutton":62,"./components/subtitlesettings/windowcolorselectbox":63,"./components/subtitlesettings/windowopacityselectbox":64,"./components/titlebar":65,"./components/togglebutton":66,"./components/uicontainer":68,"./components/videoqualityselectbox":69,"./components/volumecontrolbutton":70,"./components/volumeslider":71,"./components/volumetogglebutton":72,"./components/vrtogglebutton":73,"./components/watermark":74,"./demofactory":75,"./errorutils":77,"./playerutils":82,"./storageutils":83,"./stringutils":84,"./uifactory":87,"./uimanager":88,"./uiutils":89}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./eventdispatcher"),i=e("./browserutils");!function(e){function t(e){return e.isLive()&&0!==e.getMaxTimeShift()}function n(e){return e.hasEnded()?r.Finished:e.isPlaying()?r.Playing:e.isPaused()?r.Paused:null!=e.getSource()?r.Prepared:r.Idle}var r;!function(e){e[e.Idle=0]="Idle",e[e.Prepared=1]="Prepared",e[e.Playing=2]="Playing",e[e.Paused=3]="Paused",e[e.Finished=4]="Finished"}(r=e.PlayerState||(e.PlayerState={})),e.isTimeShiftAvailable=t,e.getState=n;var s=function(){function t(e){var t=this;this.timeShiftAvailabilityChangedEvent=new o.EventDispatcher,this.player=e,this.timeShiftAvailable=void 0;var n=function(){t.detect()};e.on(e.exports.PlayerEvent.SourceLoaded,n),e.on(e.exports.PlayerEvent.TimeChanged,n)}return t.prototype.detect=function(){if(this.player.isLive()){var t=e.isTimeShiftAvailable(this.player);t!==this.timeShiftAvailable&&(this.timeShiftAvailabilityChangedEvent.dispatch(this.player,{timeShiftAvailable:t}),this.timeShiftAvailable=t)}},Object.defineProperty(t.prototype,"onTimeShiftAvailabilityChanged",{get:function(){return this.timeShiftAvailabilityChangedEvent.getEvent()},enumerable:!0,configurable:!0}),t}();e.TimeShiftAvailabilityDetector=s;var a=function(){function e(e,t){var n=this;this.liveChangedEvent=new o.EventDispatcher,this.player=e,this.uimanager=t,this.live=void 0;var r=function(){n.detect()};this.uimanager.getConfig().events.onUpdated.subscribe(r),e.on(e.exports.PlayerEvent.Play,r),i.BrowserUtils.isAndroid&&i.BrowserUtils.isChrome&&e.on(e.exports.PlayerEvent.TimeChanged,r)}return e.prototype.detect=function(){var e=this.player.isLive();e!==this.live&&(this.liveChangedEvent.dispatch(this.player,{live:e}),this.live=e)},Object.defineProperty(e.prototype,"onLiveChanged",{get:function(){return this.liveChangedEvent.getEvent()},enumerable:!0,configurable:!0}),e}();e.LiveStreamDetector=a}(n.PlayerUtils||(n.PlayerUtils={}))},{"./browserutils":3,"./eventdispatcher":78}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(){if(s)return s;var e={length:0};try{e=window.localStorage;var t="__storage_test__";e.setItem(t,t),e.removeItem(t),s=!0}catch(t){s=t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}return s}function n(t,n){e.hasLocalStorage()&&window.localStorage.setItem(t,n)}function o(t){return e.hasLocalStorage()?window.localStorage.getItem(t):null}function i(t,o){if(e.hasLocalStorage()){n(t,JSON.stringify(o))}}function r(t){if(e.hasLocalStorage()){var n=o(t);if(t){return JSON.parse(n)}}return null}var s;e.hasLocalStorage=t,e.setItem=n,e.getItem=o,e.setObject=i,e.getObject=r}(n.StorageUtils||(n.StorageUtils={}))},{}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(t,o){void 0===o&&(o=e.FORMAT_HHMMSS);var i=t<0;i&&(t=-t);var r=Math.floor(t/3600),s=Math.floor(t/60)-60*r,a=Math.floor(t)%60;return(i?"-":"")+o.replace("hh",n(r,2)).replace("mm",n(s,2)).replace("ss",n(a,2))}function n(e,t){var n=e+"";return"0000000000".substr(0,t-n.length)+n}function o(e,t,n){var o=new RegExp("\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})","g");return e.replace(o,function(e){var o=0;return e.indexOf("remainingTime")>-1?o=t?Math.ceil(t-n.getCurrentTime()):n.getDuration()-n.getCurrentTime():e.indexOf("playedTime")>-1?o=n.getCurrentTime():e.indexOf("adDuration")>-1&&(o=n.getDuration()),i(o,e)})}function i(e,o){var i=/%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/,r=/(%0[1-9]\d*)(?=(\.\d+f|f|d))/,s=/\.\d*(?=f)/;i.test(o)||(o="%d");var a=0,c=o.match(r);c&&(a=parseInt(c[0].substring(2)));var l=null,u=o.match(s);if(u&&!isNaN(parseInt(u[0].substring(1)))&&(l=parseInt(u[0].substring(1)))>20&&(l=20),o.indexOf("f")>-1){var p="";return p=null!==l?e.toFixed(l):""+e,p.indexOf(".")>-1?n(p,p.length+(a-p.indexOf("."))):n(p,a)}if(o.indexOf(":")>-1){var f=Math.ceil(e);if(o.indexOf("hh")>-1)return t(f);var g=Math.floor(f/60),d=f%60;return n(g,2)+":"+n(d,2)}return n(Math.ceil(e),a)}e.FORMAT_HHMMSS="hh:mm:ss",e.FORMAT_MMSS="mm:ss",e.secondsToTime=t,e.replaceAdMessagePlaceholders=o}(n.StringUtils||(n.StringUtils={}))},{}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(t,n,o){var i=this;this.addSubtitle=function(e){var t=e.subtitle;i.listElement.hasItem(t.id)||i.listElement.addItem(t.id,t.label)},this.removeSubtitle=function(e){var t=e.subtitle;i.listElement.hasItem(t.id)&&i.listElement.removeItem(t.id)},this.selectCurrentSubtitle=function(){if(i.player.subtitles){var t=i.player.subtitles.list().filter(function(e){return e.enabled}).pop();i.listElement.selectItem(t?t.id:e.SUBTITLES_OFF_KEY)}},this.refreshSubtitles=function(){if(i.player.subtitles){var t={key:e.SUBTITLES_OFF_KEY,label:"off"},n=i.player.subtitles.list(),o=function(e){return{key:e.id,label:e.label}};i.listElement.synchronizeItems([t].concat(n.map(o)))}},this.player=t,this.listElement=n,this.uimanager=o,this.bindSelectionEvent(),this.bindPlayerEvents(),this.refreshSubtitles(),this.selectCurrentSubtitle()}return e.prototype.bindSelectionEvent=function(){var t=this;this.listElement.onItemSelected.subscribe(function(n,o){if(o===e.SUBTITLES_OFF_KEY){var i=t.player.subtitles.list().filter(function(e){return e.enabled}).pop();i&&t.player.subtitles.disable(i.id)}else t.player.subtitles.enable(o,!0)})},e.prototype.bindPlayerEvents=function(){this.player.on(this.player.exports.PlayerEvent.SubtitleAdded,this.addSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleEnabled,this.selectCurrentSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleDisabled,this.selectCurrentSubtitle),this.player.on(this.player.exports.PlayerEvent.SubtitleRemoved,this.removeSubtitle),this.player.on(this.player.exports.PlayerEvent.SourceUnloaded,this.refreshSubtitles),this.player.on(this.player.exports.PlayerEvent.PeriodSwitched,this.refreshSubtitles),this.uimanager.getConfig().events.onUpdated.subscribe(this.refreshSubtitles)},e.SUBTITLES_OFF_KEY="null",e}();n.SubtitleSwitchHandler=o},{}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=!1),this.delay=e,this.callback=t,this.repeat=n,this.timeoutOrIntervalId=0,this.active=!1}return e.prototype.start=function(){return this.reset(),this},e.prototype.clear=function(){this.clearInternal()},e.prototype.reset=function(){var e=this;this.clearInternal(),this.repeat?this.timeoutOrIntervalId=setInterval(this.callback,this.delay):this.timeoutOrIntervalId=setTimeout(function(){e.active=!1,e.callback()},this.delay),this.active=!0},e.prototype.isActive=function(){return this.active},e.prototype.clearInternal=function(){this.repeat?clearInterval(this.timeoutOrIntervalId):clearTimeout(this.timeoutOrIntervalId),this.active=!1},e}();n.Timeout=o},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./components/subtitleoverlay"),i=e("./components/settingspanelpage"),r=e("./components/settingspanelitem"),s=e("./components/videoqualityselectbox"),a=e("./components/playbackspeedselectbox"),c=e("./components/audiotrackselectbox"),l=e("./components/audioqualityselectbox"),u=e("./components/settingspanel"),p=e("./components/subtitlesettings/subtitlesettingspanelpage"),f=e("./components/settingspanelpageopenbutton"),g=e("./components/subtitlesettings/subtitlesettingslabel"),d=e("./components/subtitleselectbox"),h=e("./components/controlbar"),v=e("./components/container"),m=e("./components/playbacktimelabel"),y=e("./components/seekbar"),b=e("./components/seekbarlabel"),C=e("./components/playbacktogglebutton"),P=e("./components/volumetogglebutton"),_=e("./components/volumeslider"),S=e("./components/spacer"),w=e("./components/pictureinpicturetogglebutton"),E=e("./components/airplaytogglebutton"),x=e("./components/casttogglebutton"),O=e("./components/vrtogglebutton"),k=e("./components/settingstogglebutton"),T=e("./components/fullscreentogglebutton"),M=e("./components/uicontainer"),I=e("./components/bufferingoverlay"),A=e("./components/playbacktoggleoverlay"),B=e("./components/caststatusoverlay"),D=e("./components/titlebar"),L=e("./components/recommendationoverlay"),j=e("./components/watermark"),U=e("./components/errormessageoverlay"),H=e("./components/adclickoverlay"),R=e("./components/admessagelabel"),F=e("./components/adskipbutton"),V=e("./components/closebutton"),N=e("./components/metadatalabel"),W=e("./playerutils"),z=e("./components/label"),q=e("./components/castuicontainer"),Q=e("./uimanager"),G=e("./components/customclosebutton");!function(e){function t(t,n){return void 0===n&&(n={}),e.buildModernUI(t,n)}function n(t,n){return void 0===n&&(n={}),e.buildModernSmallScreenUI(t,n)}function K(t,n){return void 0===n&&(n={}),e.buildModernCastReceiverUI(t,n)}function Y(){var e=new o.SubtitleOverlay,t=new i.SettingsPanelPage({components:[new r.SettingsPanelItem("Video Quality",new s.VideoQualitySelectBox),new r.SettingsPanelItem("Speed",new a.PlaybackSpeedSelectBox),new r.SettingsPanelItem("Audio Track",new c.AudioTrackSelectBox),new r.SettingsPanelItem("Audio Quality",new l.AudioQualitySelectBox)]}),n=new u.SettingsPanel({components:[t],hidden:!0}),H=new p.SubtitleSettingsPanelPage({settingsPanel:n,overlay:e}),R=new f.SettingsPanelPageOpenButton({targetPage:H,container:n,text:"open"});t.addComponent(new r.SettingsPanelItem(new g.SubtitleSettingsLabel({text:"Subtitles",opener:R}),new d.SubtitleSelectBox)),n.addComponent(H);var F=new h.ControlBar({components:[n,new v.Container({components:[new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new y.SeekBar({label:new b.SeekBarLabel}),new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]}),new v.Container({components:[new C.PlaybackToggleButton,new P.VolumeToggleButton,new _.VolumeSlider,new S.Spacer,new w.PictureInPictureToggleButton,new E.AirPlayToggleButton,new x.CastToggleButton,new O.VRToggleButton,new k.SettingsToggleButton({settingsPanel:n}),new T.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]});return new M.UIContainer({components:[e,new I.BufferingOverlay,new A.PlaybackToggleOverlay,new B.CastStatusOverlay,F,new D.TitleBar,new L.RecommendationOverlay,new j.Watermark,new U.ErrorMessageOverlay]})}function X(){return new M.UIContainer({components:[new I.BufferingOverlay,new H.AdClickOverlay,new A.PlaybackToggleOverlay,new v.Container({components:[new R.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new F.AdSkipButton],cssClass:"ui-ads-status"}),new h.ControlBar({components:[new v.Container({components:[new C.PlaybackToggleButton,new P.VolumeToggleButton,new _.VolumeSlider,new S.Spacer,new T.FullscreenToggleButton],cssClasses:["controlbar-bottom"]})]})],cssClasses:["ui-skin-ads"]})}function J(){var e=new o.SubtitleOverlay,t=new i.SettingsPanelPage({components:[new r.SettingsPanelItem("Video Quality",new s.VideoQualitySelectBox),new r.SettingsPanelItem("Speed",new a.PlaybackSpeedSelectBox),new r.SettingsPanelItem("Audio Track",new c.AudioTrackSelectBox),new r.SettingsPanelItem("Audio Quality",new l.AudioQualitySelectBox)]}),n=new u.SettingsPanel({components:[t],hidden:!0,pageTransitionAnimation:!1}),C=new p.SubtitleSettingsPanelPage({settingsPanel:n,overlay:e}),_=new f.SettingsPanelPageOpenButton({targetPage:C,container:n,text:"open"});t.addComponent(new r.SettingsPanelItem(new g.SubtitleSettingsLabel({text:"Subtitles",opener:_}),new d.SubtitleSelectBox)),n.addComponent(C),n.addComponent(new V.CloseButton({target:n})),C.addComponent(new V.CloseButton({target:n}));var S=new h.ControlBar({components:[new v.Container({components:[new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new y.SeekBar({label:new b.SeekBarLabel}),new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]}),H=new G.CustomCloseButton;return H.onClick.subscribe(function(){}),new M.UIContainer({components:[e,new I.BufferingOverlay,new B.CastStatusOverlay,new A.PlaybackToggleOverlay,new L.RecommendationOverlay,S,new D.TitleBar({components:[new N.MetadataLabel({content:N.MetadataLabelContent.Title}),new x.CastToggleButton,new O.VRToggleButton,new w.PictureInPictureToggleButton,new E.AirPlayToggleButton,new P.VolumeToggleButton,new k.SettingsToggleButton({settingsPanel:n}),new T.FullscreenToggleButton,H]}),n,new j.Watermark,new U.ErrorMessageOverlay],cssClasses:["ui-skin-smallscreen"],hidePlayerStateExceptions:[W.PlayerUtils.PlayerState.Finished],hideDelay: -1})}function $(){return new M.UIContainer({components:[new I.BufferingOverlay,new H.AdClickOverlay,new A.PlaybackToggleOverlay,new D.TitleBar({components:[new z.Label({cssClass:"label-metadata-title"}),new T.FullscreenToggleButton]}),new v.Container({components:[new R.AdMessageLabel({text:"Ad: {remainingTime} secs"}),new F.AdSkipButton],cssClass:"ui-ads-status"})],cssClasses:["ui-skin-ads","ui-skin-smallscreen"]})}function Z(){var e=new h.ControlBar({components:[new v.Container({components:[new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.CurrentTime,hideInLivePlayback:!0}),new y.SeekBar({smoothPlaybackPositionUpdateIntervalMs:-1}),new m.PlaybackTimeLabel({timeLabelMode:m.PlaybackTimeLabelMode.TotalTime,cssClasses:["text-right"]})],cssClasses:["controlbar-top"]})]});return new q.CastUIContainer({components:[new o.SubtitleOverlay,new I.BufferingOverlay,new A.PlaybackToggleOverlay,new j.Watermark,e,new D.TitleBar({keepHiddenWithoutMetadata:!0}),new U.ErrorMessageOverlay],cssClasses:["ui-skin-cast-receiver"]})}function ee(e,t){void 0===t&&(t={});return new Q.UIManager(e,[{ui:$(),condition:function(e){return e.isMobile&&e.documentWidth<600&&e.isAd&&e.adRequiresUi}},{ui:X(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:J(),condition:function(e){return!e.isAd&&!e.adRequiresUi&&e.isMobile&&e.documentWidth<600}},{ui:Y(),condition:function(e){return!e.isAd&&!e.adRequiresUi}}],t)}function te(e,t){return void 0===t&&(t={}),new Q.UIManager(e,[{ui:$(),condition:function(e){return e.isAd&&e.adRequiresUi}},{ui:J(),condition:function(e){return!e.isAd&&!e.adRequiresUi}}],t)}function ne(e,t){return void 0===t&&(t={}),new Q.UIManager(e,Z(),t)}e.buildDefaultUI=t,e.buildDefaultSmallScreenUI=n,e.buildDefaultCastReceiverUI=K,e.modernAdsUI=X,e.modernSmallScreenUI=J,e.modernSmallScreenAdsUI=$,e.modernCastReceiverUI=Z,e.buildModernUI=ee,e.buildModernSmallScreenUI=te,e.buildModernCastReceiverUI=ne}(n.UIFactory||(n.UIFactory={}))},{"./components/adclickoverlay":4,"./components/admessagelabel":5,"./components/adskipbutton":6,"./components/airplaytogglebutton":7,"./components/audioqualityselectbox":8,"./components/audiotrackselectbox":10,"./components/bufferingoverlay":11,"./components/caststatusoverlay":13,"./components/casttogglebutton":14,"./components/castuicontainer":15,"./components/closebutton":17,"./components/container":19,"./components/controlbar":20,"./components/customclosebutton":21,"./components/errormessageoverlay":22,"./components/fullscreentogglebutton":23,"./components/label":27,"./components/metadatalabel":30,"./components/pictureinpicturetogglebutton":31,"./components/playbackspeedselectbox":32,"./components/playbacktimelabel":33,"./components/playbacktogglebutton":34,"./components/playbacktoggleoverlay":35,"./components/recommendationoverlay":36,"./components/seekbar":37,"./components/seekbarlabel":38,"./components/settingspanel":40,"./components/settingspanelitem":41,"./components/settingspanelpage":42,"./components/settingspanelpageopenbutton":45,"./components/settingstogglebutton":46,"./components/spacer":47,"./components/subtitleoverlay":49,"./components/subtitleselectbox":50,"./components/subtitlesettings/subtitlesettingslabel":59,"./components/subtitlesettings/subtitlesettingspanelpage":61,"./components/titlebar":65,"./components/uicontainer":68,"./components/videoqualityselectbox":69,"./components/volumeslider":71,"./components/volumetogglebutton":72,"./components/vrtogglebutton":73,"./components/watermark":74,"./playerutils":82,"./uimanager":88}],88:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./components/uicontainer"),s=e("./dom"),a=e("./components/container"),c=e("./eventdispatcher"),l=e("./uiutils"),u=e("./arrayutils"),p=e("./browserutils"),f=e("./volumecontroller"),g=function(){function e(e,t,n){var o=this;if(void 0===n&&(n={}),this.events={onUiVariantResolve:new c.EventDispatcher},t instanceof r.UIContainer){var a=t,l=[];l.push({ui:a}),this.uiVariants=l}else this.uiVariants=t;this.player=e,this.managerPlayerWrapper=new v(e),n.metadata=n.metadata?n.metadata:{},this.config=i({playbackSpeedSelectionEnabled:!0,autoUiVariantResolve:!0},n,{events:{onUpdated:new c.EventDispatcher},volumeController:new f.VolumeController(this.managerPlayerWrapper.getPlayer())});var u=function(){var t=e.getSource()||{};o.config.metadata=JSON.parse(JSON.stringify(n.metadata||{}));var i={metadata:{title:t.title,description:t.description,markers:t.markers},recommendations:t.recommendations};o.config.metadata.title=i.metadata.title||n.metadata.title,o.config.metadata.description=i.metadata.description||n.metadata.description,o.config.metadata.markers=i.metadata.markers||n.metadata.markers||[],o.config.recommendations=i.recommendations||n.recommendations||[]};u(),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.SourceLoaded,function(){u(),o.config.events.onUpdated.dispatch(o)}),n.container?this.uiContainerElement=(n.container,HTMLElement,new s.DOM(n.container)):this.uiContainerElement=new s.DOM(e.getContainer()),this.uiInstanceManagers=[];for(var p=[],g=0,d=this.uiVariants;g<d.length;g++){var m=d[g];null==m.condition&&p.push(m),this.uiInstanceManagers.push(new h(e,m.ui,this.config))}if(p.length>1)throw Error("Too many UIs without a condition: You cannot have more than one default UI");if(p.length>0&&p[0]!==this.uiVariants[this.uiVariants.length-1])throw Error("Invalid UI variant order: the default UI (without condition) must be at the end of the list");var y=null,b=function(t){if(null!=t)switch(t.type){case e.exports.PlayerEvent.AdStarted:y=t;break;case e.exports.PlayerEvent.AdBreakFinished:y=null,o.config.events.onUpdated.dispatch(o);break;case e.exports.PlayerEvent.SourceLoaded:y=null}var n=null!=y,i=!1;if(n){var r=y.ad;if(r.isLinear){var s=r;i=s.uiConfig&&s.uiConfig.requestsUi||!1}}o.resolveUiVariant({isAd:n,adRequiresUi:i},function(e){e.isAd&&o.currentUi.getWrappedPlayer().fireEventInUI(o.player.exports.PlayerEvent.AdStarted,y)})};this.config.autoUiVariantResolve&&(this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.SourceLoaded,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.Play,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.Paused,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.AdStarted,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.AdBreakFinished,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.PlayerResized,b),this.managerPlayerWrapper.getPlayer().on(this.player.exports.PlayerEvent.ViewModeChanged,b)),b(null)}return e.prototype.getConfig=function(){return this.config},e.prototype.getUiVariants=function(){return this.uiVariants},e.prototype.switchToUiVariant=function(e,t){var n=this.uiVariants.indexOf(e),o=this.uiInstanceManagers[n],i=!1;o!==this.currentUi&&(i=!0),i&&(this.currentUi&&this.currentUi.getUI().hide(),this.currentUi=o,null!=this.currentUi&&(this.currentUi.isConfigured()||this.addUi(this.currentUi),t&&t(),this.currentUi.getUI().show()))},e.prototype.resolveUiVariant=function(e,t){void 0===e&&(e={});var n={isAd:!1,adRequiresUi:!1,isFullscreen:this.player.getViewMode()===this.player.exports.ViewMode.Fullscreen,isMobile:p.BrowserUtils.isMobile,isPlaying:this.player.isPlaying(),width:this.uiContainerElement.width(),documentWidth:document.body.clientWidth},o=i({},n,e);this.events.onUiVariantResolve.dispatch(this,o);for(var r=null,s=0,a=this.uiVariants;s<a.length;s++){var c=a[s];if(null==c.condition||!0===c.condition(o)){r=c;break}}this.switchToUiVariant(r,function(){t&&t(o)})},e.prototype.addUi=function(e){var t=e.getUI().getDomElement(),n=e.getWrappedPlayer();e.configureControls(),this.uiContainerElement.append(t),n.getSource()&&this.config.events.onUpdated.dispatch(this),window.requestAnimationFrame?requestAnimationFrame(function(){e.onConfigured.dispatch(e.getUI())}):setTimeout(function(){e.onConfigured.dispatch(e.getUI())},0)},e.prototype.releaseUi=function(e){e.releaseControls(),e.getUI().getDomElement().remove(),e.clearEventHandlers()},e.prototype.release=function(){for(var e=0,t=this.uiInstanceManagers;e<t.length;e++){var n=t[e];this.releaseUi(n)}this.managerPlayerWrapper.clearEventHandlers()},Object.defineProperty(e.prototype,"onUiVariantResolve",{get:function(){return this.events.onUiVariantResolve},enumerable:!0,configurable:!0}),e.prototype.getTimelineMarkers=function(){return this.config.metadata.markers},e.prototype.addTimelineMarker=function(e){this.config.metadata.markers.push(e),this.config.events.onUpdated.dispatch(this)},e.prototype.removeTimelineMarker=function(e){return u.ArrayUtils.remove(this.config.metadata.markers,e)===e&&(this.config.events.onUpdated.dispatch(this),!0)},e}();n.UIManager=g;var d=function(){function e(e,t,n){this.events={onConfigured:new c.EventDispatcher,onSeek:new c.EventDispatcher,onSeekPreview:new c.EventDispatcher,onSeeked:new c.EventDispatcher,onComponentShow:new c.EventDispatcher,onComponentHide:new c.EventDispatcher,onControlsShow:new c.EventDispatcher,onPreviewControlsHide:new c.EventDispatcher,onControlsHide:new c.EventDispatcher,onRelease:new c.EventDispatcher},this.playerWrapper=new v(e),this.ui=t,this.config=n}return e.prototype.getConfig=function(){return this.config},e.prototype.getUI=function(){return this.ui},e.prototype.getPlayer=function(){return this.playerWrapper.getPlayer()},Object.defineProperty(e.prototype,"onConfigured",{get:function(){return this.events.onConfigured},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeek",{get:function(){return this.events.onSeek},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeekPreview",{get:function(){return this.events.onSeekPreview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this.events.onSeeked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onComponentShow",{get:function(){return this.events.onComponentShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onComponentHide",{get:function(){return this.events.onComponentHide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onControlsShow",{get:function(){return this.events.onControlsShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPreviewControlsHide",{get:function(){return this.events.onPreviewControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onControlsHide",{get:function(){return this.events.onControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRelease",{get:function(){return this.events.onRelease},enumerable:!0,configurable:!0}),e.prototype.clearEventHandlers=function(){this.playerWrapper.clearEventHandlers();var e=this.events;for(var t in e){e[t].unsubscribeAll()}},e}();n.UIInstanceManager=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getWrappedPlayer=function(){return this.getPlayer()},t.prototype.configureControls=function(){this.configureControlsTree(this.getUI()),this.configured=!0},t.prototype.isConfigured=function(){return this.configured},t.prototype.configureControlsTree=function(e){var t=this,n=[];l.UIUtils.traverseTree(e,function(e){for(var o=0,i=n;o<i.length;o++){if(i[o]===e)throw console&&console.error("Circular reference in UI tree",e),Error("Circular reference in UI tree: "+e.constructor.name)}e.initialize(),e.configure(t.getPlayer(),t),n.push(e)})},t.prototype.releaseControls=function(){this.configured&&(this.onRelease.dispatch(this.getUI()),this.releaseControlsTree(this.getUI()),this.configured=!1),this.released=!0},t.prototype.isReleased=function(){return this.released},t.prototype.releaseControlsTree=function(e){if(e.release(),e instanceof a.Container)for(var t=0,n=e.getComponents();t<n.length;t++){var o=n[t];this.releaseControlsTree(o)}},t.prototype.clearEventHandlers=function(){e.prototype.clearEventHandlers.call(this)},t}(d),v=function(){function e(e){var t=this;this.eventHandlers={},this.player=e;var n=[];for(var o in e)n.push(o);for(var i=[],r=[],s=0,a=n;s<a.length;s++){var o=a[s];"function"==typeof e[o]?i.push(o):r.push(o)}for(var c={},l=0,p=i;l<p.length;l++){var f=p[l];!function(t){c[t]=function(){return e[t].apply(e,arguments)}}(f)}for(var g=0,d=r;g<d.length;g++){var h=d[g];!function(t){var n=function(e){for(;e;){var n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Object.getPrototypeOf(e)}}(e);n&&(n.get||n.set)?Object.defineProperty(c,t,{get:function(){return n.get.call(e)},set:function(t){return n.set.call(e,t)}}):c[t]=e[t]}(h)}c.on=function(n,o){return e.on(n,o),t.eventHandlers[n]||(t.eventHandlers[n]=[]),
t.eventHandlers[n].push(o),c},c.off=function(n,o){return e.off(n,o),t.eventHandlers[n]&&u.ArrayUtils.remove(t.eventHandlers[n],o),c},c.fireEventInUI=function(e,n){if(t.eventHandlers[e])for(var o=Object.assign({},{timestamp:Date.now(),type:e,uiSourced:!0},n),i=0,r=t.eventHandlers[e];i<r.length;i++){var s=r[i];s(o)}},this.wrapper=c}return e.prototype.getPlayer=function(){return this.wrapper},e.prototype.clearEventHandlers=function(){try{this.player.getSource()}catch(e){e instanceof this.player.exports.PlayerAPINotAvailableError&&(this.eventHandlers={})}for(var e in this.eventHandlers)for(var t=0,n=this.eventHandlers[e];t<n.length;t++){var o=n[t];this.player.off(e,o)}},e}();n.PlayerWrapper=v},{"./arrayutils":1,"./browserutils":3,"./components/container":19,"./components/uicontainer":68,"./dom":76,"./eventdispatcher":78,"./uiutils":89,"./volumecontroller":90}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./components/container");!function(e){function t(e,t){var n=function(e,i){if(t(e,i),e instanceof o.Container)for(var r=0,s=e.getComponents();r<s.length;r++){var a=s[r];n(a,e)}};n(e)}e.traverseTree=t}(n.UIUtils||(n.UIUtils={}))},{"./components/container":19}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./eventdispatcher"),i=function(){function e(e){var t=this;this.player=e,this.events={onChanged:new o.EventDispatcher},this.storeVolume();var n=function(){t.onChangedEvent()};e.on(e.exports.PlayerEvent.SourceLoaded,n),e.on(e.exports.PlayerEvent.VolumeChanged,n),e.on(e.exports.PlayerEvent.Muted,n),e.on(e.exports.PlayerEvent.Unmuted,n)}return e.prototype.setVolume=function(t){this.player.setVolume(t,e.issuerName)},e.prototype.getVolume=function(){return this.player.getVolume()},e.prototype.setMuted=function(t){t?this.player.mute(e.issuerName):this.player.unmute(e.issuerName)},e.prototype.toggleMuted=function(){this.isMuted()||0===this.getVolume()?this.recallVolume():this.setMuted(!0)},e.prototype.isMuted=function(){return this.player.isMuted()},e.prototype.storeVolume=function(){this.storedVolume=this.getVolume()},e.prototype.recallVolume=function(){this.setMuted(0===this.storedVolume),this.setVolume(this.storedVolume)},e.prototype.startTransition=function(){return new r(this)},e.prototype.onChangedEvent=function(){var e=this.isMuted(),t=this.getVolume(),n=e||0===t,o=e?0:t;this.events.onChanged.dispatch(this,{volume:o,muted:n})},Object.defineProperty(e.prototype,"onChanged",{get:function(){return this.events.onChanged.getEvent()},enumerable:!0,configurable:!0}),e.issuerName="ui-volumecontroller",e}();n.VolumeController=i;var r=function(){function e(e){this.controller=e,e.storeVolume()}return e.prototype.update=function(e){this.controller.setMuted(!1),this.controller.setVolume(e)},e.prototype.finish=function(e){0===e?(this.controller.recallVolume(),this.controller.setMuted(!0)):(this.controller.setMuted(!1),this.controller.setVolume(e),this.controller.storeVolume())},e}();n.VolumeTransition=r},{"./eventdispatcher":78}]},{},[81])(81)});
//# sourceMappingURL=bitmovinplayer-ui.min.js.map
